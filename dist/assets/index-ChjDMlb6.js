function _P(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(n,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();function Co(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Lp={exports:{}},nu={},Fp={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ww;function wP(){if(ww)return Oe;ww=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function w(j){return j===null||typeof j!="object"?null:(j=y&&j[y]||j["@@iterator"],typeof j=="function"?j:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,R={};function A(j,Y,ge){this.props=j,this.context=Y,this.refs=R,this.updater=ge||I}A.prototype.isReactComponent={},A.prototype.setState=function(j,Y){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,Y,"setState")},A.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function $(){}$.prototype=A.prototype;function U(j,Y,ge){this.props=j,this.context=Y,this.refs=R,this.updater=ge||I}var B=U.prototype=new $;B.constructor=U,k(B,A.prototype),B.isPureReactComponent=!0;var Q=Array.isArray,ee=Object.prototype.hasOwnProperty,ie={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function x(j,Y,ge){var xe,Ve={},De=null,$e=null;if(Y!=null)for(xe in Y.ref!==void 0&&($e=Y.ref),Y.key!==void 0&&(De=""+Y.key),Y)ee.call(Y,xe)&&!N.hasOwnProperty(xe)&&(Ve[xe]=Y[xe]);var Ue=arguments.length-2;if(Ue===1)Ve.children=ge;else if(1<Ue){for(var qe=Array(Ue),It=0;It<Ue;It++)qe[It]=arguments[It+2];Ve.children=qe}if(j&&j.defaultProps)for(xe in Ue=j.defaultProps,Ue)Ve[xe]===void 0&&(Ve[xe]=Ue[xe]);return{$$typeof:n,type:j,key:De,ref:$e,props:Ve,_owner:ie.current}}function b(j,Y){return{$$typeof:n,type:j.type,key:Y,ref:j.ref,props:j.props,_owner:j._owner}}function M(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function O(j){var Y={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ge){return Y[ge]})}var L=/\/+/g;function D(j,Y){return typeof j=="object"&&j!==null&&j.key!=null?O(""+j.key):Y.toString(36)}function ae(j,Y,ge,xe,Ve){var De=typeof j;(De==="undefined"||De==="boolean")&&(j=null);var $e=!1;if(j===null)$e=!0;else switch(De){case"string":case"number":$e=!0;break;case"object":switch(j.$$typeof){case n:case e:$e=!0}}if($e)return $e=j,Ve=Ve($e),j=xe===""?"."+D($e,0):xe,Q(Ve)?(ge="",j!=null&&(ge=j.replace(L,"$&/")+"/"),ae(Ve,Y,ge,"",function(It){return It})):Ve!=null&&(M(Ve)&&(Ve=b(Ve,ge+(!Ve.key||$e&&$e.key===Ve.key?"":(""+Ve.key).replace(L,"$&/")+"/")+j)),Y.push(Ve)),1;if($e=0,xe=xe===""?".":xe+":",Q(j))for(var Ue=0;Ue<j.length;Ue++){De=j[Ue];var qe=xe+D(De,Ue);$e+=ae(De,Y,ge,qe,Ve)}else if(qe=w(j),typeof qe=="function")for(j=qe.call(j),Ue=0;!(De=j.next()).done;)De=De.value,qe=xe+D(De,Ue++),$e+=ae(De,Y,ge,qe,Ve);else if(De==="object")throw Y=String(j),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return $e}function se(j,Y,ge){if(j==null)return j;var xe=[],Ve=0;return ae(j,xe,"","",function(De){return Y.call(ge,De,Ve++)}),xe}function pe(j){if(j._status===-1){var Y=j._result;Y=Y(),Y.then(function(ge){(j._status===0||j._status===-1)&&(j._status=1,j._result=ge)},function(ge){(j._status===0||j._status===-1)&&(j._status=2,j._result=ge)}),j._status===-1&&(j._status=0,j._result=Y)}if(j._status===1)return j._result.default;throw j._result}var Ie={current:null},ne={transition:null},le={ReactCurrentDispatcher:Ie,ReactCurrentBatchConfig:ne,ReactCurrentOwner:ie};function ce(){throw Error("act(...) is not supported in production builds of React.")}return Oe.Children={map:se,forEach:function(j,Y,ge){se(j,function(){Y.apply(this,arguments)},ge)},count:function(j){var Y=0;return se(j,function(){Y++}),Y},toArray:function(j){return se(j,function(Y){return Y})||[]},only:function(j){if(!M(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Oe.Component=A,Oe.Fragment=t,Oe.Profiler=s,Oe.PureComponent=U,Oe.StrictMode=r,Oe.Suspense=d,Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=le,Oe.act=ce,Oe.cloneElement=function(j,Y,ge){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var xe=k({},j.props),Ve=j.key,De=j.ref,$e=j._owner;if(Y!=null){if(Y.ref!==void 0&&(De=Y.ref,$e=ie.current),Y.key!==void 0&&(Ve=""+Y.key),j.type&&j.type.defaultProps)var Ue=j.type.defaultProps;for(qe in Y)ee.call(Y,qe)&&!N.hasOwnProperty(qe)&&(xe[qe]=Y[qe]===void 0&&Ue!==void 0?Ue[qe]:Y[qe])}var qe=arguments.length-2;if(qe===1)xe.children=ge;else if(1<qe){Ue=Array(qe);for(var It=0;It<qe;It++)Ue[It]=arguments[It+2];xe.children=Ue}return{$$typeof:n,type:j.type,key:Ve,ref:De,props:xe,_owner:$e}},Oe.createContext=function(j){return j={$$typeof:l,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:a,_context:j},j.Consumer=j},Oe.createElement=x,Oe.createFactory=function(j){var Y=x.bind(null,j);return Y.type=j,Y},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(j){return{$$typeof:c,render:j}},Oe.isValidElement=M,Oe.lazy=function(j){return{$$typeof:g,_payload:{_status:-1,_result:j},_init:pe}},Oe.memo=function(j,Y){return{$$typeof:p,type:j,compare:Y===void 0?null:Y}},Oe.startTransition=function(j){var Y=ne.transition;ne.transition={};try{j()}finally{ne.transition=Y}},Oe.unstable_act=ce,Oe.useCallback=function(j,Y){return Ie.current.useCallback(j,Y)},Oe.useContext=function(j){return Ie.current.useContext(j)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(j){return Ie.current.useDeferredValue(j)},Oe.useEffect=function(j,Y){return Ie.current.useEffect(j,Y)},Oe.useId=function(){return Ie.current.useId()},Oe.useImperativeHandle=function(j,Y,ge){return Ie.current.useImperativeHandle(j,Y,ge)},Oe.useInsertionEffect=function(j,Y){return Ie.current.useInsertionEffect(j,Y)},Oe.useLayoutEffect=function(j,Y){return Ie.current.useLayoutEffect(j,Y)},Oe.useMemo=function(j,Y){return Ie.current.useMemo(j,Y)},Oe.useReducer=function(j,Y,ge){return Ie.current.useReducer(j,Y,ge)},Oe.useRef=function(j){return Ie.current.useRef(j)},Oe.useState=function(j){return Ie.current.useState(j)},Oe.useSyncExternalStore=function(j,Y,ge){return Ie.current.useSyncExternalStore(j,Y,ge)},Oe.useTransition=function(){return Ie.current.useTransition()},Oe.version="18.3.1",Oe}var Tw;function bd(){return Tw||(Tw=1,Fp.exports=wP()),Fp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ew;function TP(){if(Ew)return nu;Ew=1;var n=bd(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,p){var g,y={},w=null,I=null;p!==void 0&&(w=""+p),d.key!==void 0&&(w=""+d.key),d.ref!==void 0&&(I=d.ref);for(g in d)r.call(d,g)&&!a.hasOwnProperty(g)&&(y[g]=d[g]);if(c&&c.defaultProps)for(g in d=c.defaultProps,d)y[g]===void 0&&(y[g]=d[g]);return{$$typeof:e,type:c,key:w,ref:I,props:y,_owner:s.current}}return nu.Fragment=t,nu.jsx=l,nu.jsxs=l,nu}var Iw;function EP(){return Iw||(Iw=1,Lp.exports=TP()),Lp.exports}var S=EP(),P=bd();const ut=Co(P),HE=_P({__proto__:null,default:ut},[P]);var Th={},jp={exports:{}},vn={},Up={exports:{}},Bp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sw;function IP(){return Sw||(Sw=1,(function(n){function e(ne,le){var ce=ne.length;ne.push(le);e:for(;0<ce;){var j=ce-1>>>1,Y=ne[j];if(0<s(Y,le))ne[j]=le,ne[ce]=Y,ce=j;else break e}}function t(ne){return ne.length===0?null:ne[0]}function r(ne){if(ne.length===0)return null;var le=ne[0],ce=ne.pop();if(ce!==le){ne[0]=ce;e:for(var j=0,Y=ne.length,ge=Y>>>1;j<ge;){var xe=2*(j+1)-1,Ve=ne[xe],De=xe+1,$e=ne[De];if(0>s(Ve,ce))De<Y&&0>s($e,Ve)?(ne[j]=$e,ne[De]=ce,j=De):(ne[j]=Ve,ne[xe]=ce,j=xe);else if(De<Y&&0>s($e,ce))ne[j]=$e,ne[De]=ce,j=De;else break e}}return le}function s(ne,le){var ce=ne.sortIndex-le.sortIndex;return ce!==0?ce:ne.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var d=[],p=[],g=1,y=null,w=3,I=!1,k=!1,R=!1,A=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(ne){for(var le=t(p);le!==null;){if(le.callback===null)r(p);else if(le.startTime<=ne)r(p),le.sortIndex=le.expirationTime,e(d,le);else break;le=t(p)}}function Q(ne){if(R=!1,B(ne),!k)if(t(d)!==null)k=!0,pe(ee);else{var le=t(p);le!==null&&Ie(Q,le.startTime-ne)}}function ee(ne,le){k=!1,R&&(R=!1,$(x),x=-1),I=!0;var ce=w;try{for(B(le),y=t(d);y!==null&&(!(y.expirationTime>le)||ne&&!O());){var j=y.callback;if(typeof j=="function"){y.callback=null,w=y.priorityLevel;var Y=j(y.expirationTime<=le);le=n.unstable_now(),typeof Y=="function"?y.callback=Y:y===t(d)&&r(d),B(le)}else r(d);y=t(d)}if(y!==null)var ge=!0;else{var xe=t(p);xe!==null&&Ie(Q,xe.startTime-le),ge=!1}return ge}finally{y=null,w=ce,I=!1}}var ie=!1,N=null,x=-1,b=5,M=-1;function O(){return!(n.unstable_now()-M<b)}function L(){if(N!==null){var ne=n.unstable_now();M=ne;var le=!0;try{le=N(!0,ne)}finally{le?D():(ie=!1,N=null)}}else ie=!1}var D;if(typeof U=="function")D=function(){U(L)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,se=ae.port2;ae.port1.onmessage=L,D=function(){se.postMessage(null)}}else D=function(){A(L,0)};function pe(ne){N=ne,ie||(ie=!0,D())}function Ie(ne,le){x=A(function(){ne(n.unstable_now())},le)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ne){ne.callback=null},n.unstable_continueExecution=function(){k||I||(k=!0,pe(ee))},n.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<ne?Math.floor(1e3/ne):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(ne){switch(w){case 1:case 2:case 3:var le=3;break;default:le=w}var ce=w;w=le;try{return ne()}finally{w=ce}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ne,le){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var ce=w;w=ne;try{return le()}finally{w=ce}},n.unstable_scheduleCallback=function(ne,le,ce){var j=n.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?j+ce:j):ce=j,ne){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=ce+Y,ne={id:g++,callback:le,priorityLevel:ne,startTime:ce,expirationTime:Y,sortIndex:-1},ce>j?(ne.sortIndex=ce,e(p,ne),t(d)===null&&ne===t(p)&&(R?($(x),x=-1):R=!0,Ie(Q,ce-j))):(ne.sortIndex=Y,e(d,ne),k||I||(k=!0,pe(ee))),ne},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(ne){var le=w;return function(){var ce=w;w=le;try{return ne.apply(this,arguments)}finally{w=ce}}}})(Bp)),Bp}var Cw;function SP(){return Cw||(Cw=1,Up.exports=IP()),Up.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Aw;function CP(){if(Aw)return vn;Aw=1;var n=bd(),e=SP();function t(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){l(i,o),l(i+"Capture",o)}function l(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function w(i){return d.call(y,i)?!0:d.call(g,i)?!1:p.test(i)?y[i]=!0:(g[i]=!0,!1)}function I(i,o,u,f){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return f?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function k(i,o,u,f){if(o===null||typeof o>"u"||I(i,o,u,f))return!0;if(f)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function R(i,o,u,f,m,v,E){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=f,this.attributeNamespace=m,this.mustUseProperty=u,this.propertyName=i,this.type=o,this.sanitizeURL=v,this.removeEmptyString=E}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){A[i]=new R(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];A[o]=new R(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){A[i]=new R(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){A[i]=new R(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){A[i]=new R(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){A[i]=new R(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){A[i]=new R(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){A[i]=new R(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){A[i]=new R(i,5,!1,i.toLowerCase(),null,!1,!1)});var $=/[\-:]([a-z])/g;function U(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace($,U);A[o]=new R(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace($,U);A[o]=new R(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace($,U);A[o]=new R(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){A[i]=new R(i,1,!1,i.toLowerCase(),null,!1,!1)}),A.xlinkHref=new R("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){A[i]=new R(i,1,!1,i.toLowerCase(),null,!0,!0)});function B(i,o,u,f){var m=A.hasOwnProperty(o)?A[o]:null;(m!==null?m.type!==0:f||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(k(o,u,m,f)&&(u=null),f||m===null?w(o)&&(u===null?i.removeAttribute(o):i.setAttribute(o,""+u)):m.mustUseProperty?i[m.propertyName]=u===null?m.type===3?!1:"":u:(o=m.attributeName,f=m.attributeNamespace,u===null?i.removeAttribute(o):(m=m.type,u=m===3||m===4&&u===!0?"":""+u,f?i.setAttributeNS(f,o,u):i.setAttribute(o,u))))}var Q=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ee=Symbol.for("react.element"),ie=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),O=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),se=Symbol.for("react.memo"),pe=Symbol.for("react.lazy"),Ie=Symbol.for("react.offscreen"),ne=Symbol.iterator;function le(i){return i===null||typeof i!="object"?null:(i=ne&&i[ne]||i["@@iterator"],typeof i=="function"?i:null)}var ce=Object.assign,j;function Y(i){if(j===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);j=o&&o[1]||""}return`
`+j+i}var ge=!1;function xe(i,o){if(!i||ge)return"";ge=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(G){var f=G}Reflect.construct(i,[],o)}else{try{o.call()}catch(G){f=G}i.call(o.prototype)}else{try{throw Error()}catch(G){f=G}i()}}catch(G){if(G&&f&&typeof G.stack=="string"){for(var m=G.stack.split(`
`),v=f.stack.split(`
`),E=m.length-1,V=v.length-1;1<=E&&0<=V&&m[E]!==v[V];)V--;for(;1<=E&&0<=V;E--,V--)if(m[E]!==v[V]){if(E!==1||V!==1)do if(E--,V--,0>V||m[E]!==v[V]){var F=`
`+m[E].replace(" at new "," at ");return i.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",i.displayName)),F}while(1<=E&&0<=V);break}}}finally{ge=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?Y(i):""}function Ve(i){switch(i.tag){case 5:return Y(i.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return i=xe(i.type,!1),i;case 11:return i=xe(i.type.render,!1),i;case 1:return i=xe(i.type,!0),i;default:return""}}function De(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case N:return"Fragment";case ie:return"Portal";case b:return"Profiler";case x:return"StrictMode";case D:return"Suspense";case ae:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case O:return(i.displayName||"Context")+".Consumer";case M:return(i._context.displayName||"Context")+".Provider";case L:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case se:return o=i.displayName||null,o!==null?o:De(i.type)||"Memo";case pe:o=i._payload,i=i._init;try{return De(i(o))}catch{}}return null}function $e(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return De(o);case 8:return o===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Ue(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function qe(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function It(i){var o=qe(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),f=""+i[o];if(!i.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,v=u.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return m.call(this)},set:function(E){f=""+E,v.call(this,E)}}),Object.defineProperty(i,o,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(E){f=""+E},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function dn(i){i._valueTracker||(i._valueTracker=It(i))}function Vo(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),f="";return i&&(f=qe(i)?i.checked?"true":"false":i.value),i=f,i!==u?(o.setValue(i),!0):!1}function Ti(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Oo(i,o){var u=o.checked;return ce({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function oc(i,o){var u=o.defaultValue==null?"":o.defaultValue,f=o.checked!=null?o.checked:o.defaultChecked;u=Ue(o.value!=null?o.value:u),i._wrapperState={initialChecked:f,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Mo(i,o){o=o.checked,o!=null&&B(i,"checked",o,!1)}function ks(i,o){Mo(i,o);var u=Ue(o.value),f=o.type;if(u!=null)f==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(f==="submit"||f==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?St(i,o.type,u):o.hasOwnProperty("defaultValue")&&St(i,o.type,Ue(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function ul(i,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var f=o.type;if(!(f!=="submit"&&f!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,u||o===i.value||(i.value=o),i.defaultValue=o}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function St(i,o,u){(o!=="number"||Ti(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var yt=Array.isArray;function Qn(i,o,u,f){if(i=i.options,o){o={};for(var m=0;m<u.length;m++)o["$"+u[m]]=!0;for(u=0;u<i.length;u++)m=o.hasOwnProperty("$"+i[u].value),i[u].selected!==m&&(i[u].selected=m),m&&f&&(i[u].defaultSelected=!0)}else{for(u=""+Ue(u),o=null,m=0;m<i.length;m++){if(i[m].value===u){i[m].selected=!0,f&&(i[m].defaultSelected=!0);return}o!==null||i[m].disabled||(o=i[m])}o!==null&&(o.selected=!0)}}function cl(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return ce({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function hl(i,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(t(92));if(yt(u)){if(1<u.length)throw Error(t(93));u=u[0]}o=u}o==null&&(o=""),u=o}i._wrapperState={initialValue:Ue(u)}}function ac(i,o){var u=Ue(o.value),f=Ue(o.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),o.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),f!=null&&(i.defaultValue=""+f)}function Ei(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function dl(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lo(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?dl(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Ii,lc=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,f,m){MSApp.execUnsafeLocalFunction(function(){return i(o,u,f,m)})}:i})(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(Ii=Ii||document.createElement("div"),Ii.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Ii.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function Ns(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var Si={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uc=["Webkit","ms","Moz","O"];Object.keys(Si).forEach(function(i){uc.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),Si[o]=Si[i]})});function Ci(i,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||Si.hasOwnProperty(i)&&Si[i]?(""+o).trim():o+"px"}function Fo(i,o){i=i.style;for(var u in o)if(o.hasOwnProperty(u)){var f=u.indexOf("--")===0,m=Ci(u,o[u],f);u==="float"&&(u="cssFloat"),f?i.setProperty(u,m):i[u]=m}}var fl=ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yn(i,o){if(o){if(fl[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function jo(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ai=null;function Uo(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var zr=null,$r=null,mt=null;function pl(i){if(i=Bl(i)){if(typeof zr!="function")throw Error(t(280));var o=i.stateNode;o&&(o=Mc(o),zr(i.stateNode,i.type,o))}}function xi(i){$r?mt?mt.push(i):mt=[i]:$r=i}function Pi(){if($r){var i=$r,o=mt;if(mt=$r=null,pl(i),o)for(i=0;i<o.length;i++)pl(o[i])}}function cc(i,o){return i(o)}function hc(){}var fr=!1;function dc(i,o,u){if(fr)return i(o,u);fr=!0;try{return cc(i,o,u)}finally{fr=!1,($r!==null||mt!==null)&&(hc(),Pi())}}function Ds(i,o){var u=i.stateNode;if(u===null)return null;var f=Mc(u);if(f===null)return null;u=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(t(231,o,typeof u));return u}var Ri=!1;if(c)try{var bi={};Object.defineProperty(bi,"passive",{get:function(){Ri=!0}}),window.addEventListener("test",bi,bi),window.removeEventListener("test",bi,bi)}catch{Ri=!1}function fc(i,o,u,f,m,v,E,V,F){var G=Array.prototype.slice.call(arguments,3);try{o.apply(u,G)}catch(te){this.onError(te)}}var Wr=!1,pr=null,Bo=!1,Mn=null,pc={onError:function(i){Wr=!0,pr=i}};function mc(i,o,u,f,m,v,E,V,F){Wr=!1,pr=null,fc.apply(pc,arguments)}function ml(i,o,u,f,m,v,E,V,F){if(mc.apply(this,arguments),Wr){if(Wr){var G=pr;Wr=!1,pr=null}else throw Error(t(198));Bo||(Bo=!0,Mn=G)}}function Xn(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function gl(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function gc(i){if(Xn(i)!==i)throw Error(t(188))}function yc(i){var o=i.alternate;if(!o){if(o=Xn(i),o===null)throw Error(t(188));return o!==i?null:i}for(var u=i,f=o;;){var m=u.return;if(m===null)break;var v=m.alternate;if(v===null){if(f=m.return,f!==null){u=f;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===u)return gc(m),i;if(v===f)return gc(m),o;v=v.sibling}throw Error(t(188))}if(u.return!==f.return)u=m,f=v;else{for(var E=!1,V=m.child;V;){if(V===u){E=!0,u=m,f=v;break}if(V===f){E=!0,f=m,u=v;break}V=V.sibling}if(!E){for(V=v.child;V;){if(V===u){E=!0,u=v,f=m;break}if(V===f){E=!0,f=v,u=m;break}V=V.sibling}if(!E)throw Error(t(189))}}if(u.alternate!==f)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?i:o}function vc(i){return i=yc(i),i!==null?Vs(i):null}function Vs(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=Vs(i);if(o!==null)return o;i=i.sibling}return null}var yl=e.unstable_scheduleCallback,zo=e.unstable_cancelCallback,Os=e.unstable_shouldYield,Hr=e.unstable_requestPaint,tt=e.unstable_now,pf=e.unstable_getCurrentPriorityLevel,$o=e.unstable_ImmediatePriority,vl=e.unstable_UserBlockingPriority,Ms=e.unstable_NormalPriority,_l=e.unstable_LowPriority,Wo=e.unstable_IdlePriority,Ls=null,Sn=null;function _c(i){if(Sn&&typeof Sn.onCommitFiberRoot=="function")try{Sn.onCommitFiberRoot(Ls,i,void 0,(i.current.flags&128)===128)}catch{}}var Cn=Math.clz32?Math.clz32:Fs,mr=Math.log,Ln=Math.LN2;function Fs(i){return i>>>=0,i===0?32:31-(mr(i)/Ln|0)|0}var gr=64,ki=4194304;function Ge(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function qr(i,o){var u=i.pendingLanes;if(u===0)return 0;var f=0,m=i.suspendedLanes,v=i.pingedLanes,E=u&268435455;if(E!==0){var V=E&~m;V!==0?f=Ge(V):(v&=E,v!==0&&(f=Ge(v)))}else E=u&~m,E!==0?f=Ge(E):v!==0&&(f=Ge(v));if(f===0)return 0;if(o!==0&&o!==f&&(o&m)===0&&(m=f&-f,v=o&-o,m>=v||m===16&&(v&4194240)!==0))return o;if((f&4)!==0&&(f|=u&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=f;0<o;)u=31-Cn(o),m=1<<u,f|=i[u],o&=~m;return f}function js(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Us(i,o){for(var u=i.suspendedLanes,f=i.pingedLanes,m=i.expirationTimes,v=i.pendingLanes;0<v;){var E=31-Cn(v),V=1<<E,F=m[E];F===-1?((V&u)===0||(V&f)!==0)&&(m[E]=js(V,o)):F<=o&&(i.expiredLanes|=V),v&=~V}}function wl(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Tl(){var i=gr;return gr<<=1,(gr&4194240)===0&&(gr=64),i}function El(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function Bs(i,o,u){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-Cn(o),i[o]=u}function mf(i,o){var u=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var f=i.eventTimes;for(i=i.expirationTimes;0<u;){var m=31-Cn(u),v=1<<m;o[m]=0,f[m]=-1,i[m]=-1,u&=~v}}function Il(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var f=31-Cn(u),m=1<<f;m&o|i[f]&o&&(i[f]|=o),u&=~m}}var Be=0;function yr(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Sl,Ho,Cl,Al,xl,vr=!1,qo=[],_r=null,wr=null,Bt=null,zs=new Map,Gr=new Map,An=[],wc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ni(i,o){switch(i){case"focusin":case"focusout":_r=null;break;case"dragenter":case"dragleave":wr=null;break;case"mouseover":case"mouseout":Bt=null;break;case"pointerover":case"pointerout":zs.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gr.delete(o.pointerId)}}function Jn(i,o,u,f,m,v){return i===null||i.nativeEvent!==v?(i={blockedOn:o,domEventName:u,eventSystemFlags:f,nativeEvent:v,targetContainers:[m]},o!==null&&(o=Bl(o),o!==null&&Ho(o)),i):(i.eventSystemFlags|=f,o=i.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),i)}function Tc(i,o,u,f,m){switch(o){case"focusin":return _r=Jn(_r,i,o,u,f,m),!0;case"dragenter":return wr=Jn(wr,i,o,u,f,m),!0;case"mouseover":return Bt=Jn(Bt,i,o,u,f,m),!0;case"pointerover":var v=m.pointerId;return zs.set(v,Jn(zs.get(v)||null,i,o,u,f,m)),!0;case"gotpointercapture":return v=m.pointerId,Gr.set(v,Jn(Gr.get(v)||null,i,o,u,f,m)),!0}return!1}function Go(i){var o=qs(i.target);if(o!==null){var u=Xn(o);if(u!==null){if(o=u.tag,o===13){if(o=gl(u),o!==null){i.blockedOn=o,xl(i.priority,function(){Cl(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Ye(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=Ko(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var f=new u.constructor(u.type,u);Ai=f,u.target.dispatchEvent(f),Ai=null}else return o=Bl(u),o!==null&&Ho(o),i.blockedOn=u,!1;o.shift()}return!0}function Ec(i,o,u){Ye(i)&&u.delete(o)}function gf(){vr=!1,_r!==null&&Ye(_r)&&(_r=null),wr!==null&&Ye(wr)&&(wr=null),Bt!==null&&Ye(Bt)&&(Bt=null),zs.forEach(Ec),Gr.forEach(Ec)}function Di(i,o){i.blockedOn===o&&(i.blockedOn=null,vr||(vr=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,gf)))}function Vi(i){function o(m){return Di(m,i)}if(0<qo.length){Di(qo[0],i);for(var u=1;u<qo.length;u++){var f=qo[u];f.blockedOn===i&&(f.blockedOn=null)}}for(_r!==null&&Di(_r,i),wr!==null&&Di(wr,i),Bt!==null&&Di(Bt,i),zs.forEach(o),Gr.forEach(o),u=0;u<An.length;u++)f=An[u],f.blockedOn===i&&(f.blockedOn=null);for(;0<An.length&&(u=An[0],u.blockedOn===null);)Go(u),u.blockedOn===null&&An.shift()}var Kr=Q.ReactCurrentBatchConfig,Qr=!0;function Tr(i,o,u,f){var m=Be,v=Kr.transition;Kr.transition=null;try{Be=1,Pl(i,o,u,f)}finally{Be=m,Kr.transition=v}}function Ic(i,o,u,f){var m=Be,v=Kr.transition;Kr.transition=null;try{Be=4,Pl(i,o,u,f)}finally{Be=m,Kr.transition=v}}function Pl(i,o,u,f){if(Qr){var m=Ko(i,o,u,f);if(m===null)xf(i,o,f,Er,u),Ni(i,f);else if(Tc(m,i,o,u,f))f.stopPropagation();else if(Ni(i,f),o&4&&-1<wc.indexOf(i)){for(;m!==null;){var v=Bl(m);if(v!==null&&Sl(v),v=Ko(i,o,u,f),v===null&&xf(i,o,f,Er,u),v===m)break;m=v}m!==null&&f.stopPropagation()}else xf(i,o,f,null,u)}}var Er=null;function Ko(i,o,u,f){if(Er=null,i=Uo(f),i=qs(i),i!==null)if(o=Xn(i),o===null)i=null;else if(u=o.tag,u===13){if(i=gl(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return Er=i,null}function Qo(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pf()){case $o:return 1;case vl:return 4;case Ms:case _l:return 16;case Wo:return 536870912;default:return 16}default:return 16}}var xn=null,Yo=null,Yr=null;function Sc(){if(Yr)return Yr;var i,o=Yo,u=o.length,f,m="value"in xn?xn.value:xn.textContent,v=m.length;for(i=0;i<u&&o[i]===m[i];i++);var E=u-i;for(f=1;f<=E&&o[u-f]===m[v-f];f++);return Yr=m.slice(i,1<f?1-f:void 0)}function $s(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Ir(){return!0}function Rl(){return!1}function Qt(i){function o(u,f,m,v,E){this._reactName=u,this._targetInst=m,this.type=f,this.nativeEvent=v,this.target=E,this.currentTarget=null;for(var V in i)i.hasOwnProperty(V)&&(u=i[V],this[V]=u?u(v):v[V]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Ir:Rl,this.isPropagationStopped=Rl,this}return ce(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Ir)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Ir)},persist:function(){},isPersistent:Ir}),o}var Sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ws=Qt(Sr),Oi=ce({},Sr,{view:0,detail:0}),Xo=Qt(Oi),Jo,Zo,Pn,Hs=ce({},Oi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:be,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Pn&&(Pn&&i.type==="mousemove"?(Jo=i.screenX-Pn.screenX,Zo=i.screenY-Pn.screenY):Zo=Jo=0,Pn=i),Jo)},movementY:function(i){return"movementY"in i?i.movementY:Zo}}),bl=Qt(Hs),Cc=ce({},Hs,{dataTransfer:0}),Ac=Qt(Cc),ea=ce({},Oi,{relatedTarget:0}),zt=Qt(ea),xc=ce({},Sr,{animationName:0,elapsedTime:0,pseudoElement:0}),Pc=Qt(xc),Mi=ce({},Sr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),h=Qt(Mi),_=ce({},Sr,{data:0}),T=Qt(_),C={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},H={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},K={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ue(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=K[i])?!!o[i]:!1}function be(){return ue}var vt=ce({},Oi,{key:function(i){if(i.key){var o=C[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=$s(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?H[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:be,charCode:function(i){return i.type==="keypress"?$s(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?$s(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Qe=Qt(vt),Ct=ce({},Hs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rn=Qt(Ct),Xr=ce({},Oi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:be}),Cr=Qt(Xr),Ar=ce({},Sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ta=Qt(Ar),kl=ce({},Hs,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),fx=Qt(kl),px=[9,13,27,32],yf=c&&"CompositionEvent"in window,Nl=null;c&&"documentMode"in document&&(Nl=document.documentMode);var mx=c&&"TextEvent"in window&&!Nl,dv=c&&(!yf||Nl&&8<Nl&&11>=Nl),fv=" ",pv=!1;function mv(i,o){switch(i){case"keyup":return px.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gv(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var na=!1;function gx(i,o){switch(i){case"compositionend":return gv(o);case"keypress":return o.which!==32?null:(pv=!0,fv);case"textInput":return i=o.data,i===fv&&pv?null:i;default:return null}}function yx(i,o){if(na)return i==="compositionend"||!yf&&mv(i,o)?(i=Sc(),Yr=Yo=xn=null,na=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return dv&&o.locale!=="ko"?null:o.data;default:return null}}var vx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yv(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!vx[i.type]:o==="textarea"}function vv(i,o,u,f){xi(f),o=Dc(o,"onChange"),0<o.length&&(u=new Ws("onChange","change",null,u,f),i.push({event:u,listeners:o}))}var Dl=null,Vl=null;function _x(i){Mv(i,0)}function Rc(i){var o=aa(i);if(Vo(o))return i}function wx(i,o){if(i==="change")return o}var _v=!1;if(c){var vf;if(c){var _f="oninput"in document;if(!_f){var wv=document.createElement("div");wv.setAttribute("oninput","return;"),_f=typeof wv.oninput=="function"}vf=_f}else vf=!1;_v=vf&&(!document.documentMode||9<document.documentMode)}function Tv(){Dl&&(Dl.detachEvent("onpropertychange",Ev),Vl=Dl=null)}function Ev(i){if(i.propertyName==="value"&&Rc(Vl)){var o=[];vv(o,Vl,i,Uo(i)),dc(_x,o)}}function Tx(i,o,u){i==="focusin"?(Tv(),Dl=o,Vl=u,Dl.attachEvent("onpropertychange",Ev)):i==="focusout"&&Tv()}function Ex(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Rc(Vl)}function Ix(i,o){if(i==="click")return Rc(o)}function Sx(i,o){if(i==="input"||i==="change")return Rc(o)}function Cx(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Zn=typeof Object.is=="function"?Object.is:Cx;function Ol(i,o){if(Zn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),f=Object.keys(o);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var m=u[f];if(!d.call(o,m)||!Zn(i[m],o[m]))return!1}return!0}function Iv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Sv(i,o){var u=Iv(i);i=0;for(var f;u;){if(u.nodeType===3){if(f=i+u.textContent.length,i<=o&&f>=o)return{node:u,offset:o-i};i=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Iv(u)}}function Cv(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Cv(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Av(){for(var i=window,o=Ti();o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=Ti(i.document)}return o}function wf(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function Ax(i){var o=Av(),u=i.focusedElem,f=i.selectionRange;if(o!==u&&u&&u.ownerDocument&&Cv(u.ownerDocument.documentElement,u)){if(f!==null&&wf(u)){if(o=f.start,i=f.end,i===void 0&&(i=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(i,u.value.length);else if(i=(o=u.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var m=u.textContent.length,v=Math.min(f.start,m);f=f.end===void 0?v:Math.min(f.end,m),!i.extend&&v>f&&(m=f,f=v,v=m),m=Sv(u,v);var E=Sv(u,f);m&&E&&(i.rangeCount!==1||i.anchorNode!==m.node||i.anchorOffset!==m.offset||i.focusNode!==E.node||i.focusOffset!==E.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),i.removeAllRanges(),v>f?(i.addRange(o),i.extend(E.node,E.offset)):(o.setEnd(E.node,E.offset),i.addRange(o)))}}for(o=[],i=u;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)i=o[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var xx=c&&"documentMode"in document&&11>=document.documentMode,ra=null,Tf=null,Ml=null,Ef=!1;function xv(i,o,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Ef||ra==null||ra!==Ti(f)||(f=ra,"selectionStart"in f&&wf(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Ml&&Ol(Ml,f)||(Ml=f,f=Dc(Tf,"onSelect"),0<f.length&&(o=new Ws("onSelect","select",null,o,u),i.push({event:o,listeners:f}),o.target=ra)))}function bc(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var ia={animationend:bc("Animation","AnimationEnd"),animationiteration:bc("Animation","AnimationIteration"),animationstart:bc("Animation","AnimationStart"),transitionend:bc("Transition","TransitionEnd")},If={},Pv={};c&&(Pv=document.createElement("div").style,"AnimationEvent"in window||(delete ia.animationend.animation,delete ia.animationiteration.animation,delete ia.animationstart.animation),"TransitionEvent"in window||delete ia.transitionend.transition);function kc(i){if(If[i])return If[i];if(!ia[i])return i;var o=ia[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in Pv)return If[i]=o[u];return i}var Rv=kc("animationend"),bv=kc("animationiteration"),kv=kc("animationstart"),Nv=kc("transitionend"),Dv=new Map,Vv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Li(i,o){Dv.set(i,o),a(o,[i])}for(var Sf=0;Sf<Vv.length;Sf++){var Cf=Vv[Sf],Px=Cf.toLowerCase(),Rx=Cf[0].toUpperCase()+Cf.slice(1);Li(Px,"on"+Rx)}Li(Rv,"onAnimationEnd"),Li(bv,"onAnimationIteration"),Li(kv,"onAnimationStart"),Li("dblclick","onDoubleClick"),Li("focusin","onFocus"),Li("focusout","onBlur"),Li(Nv,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bx=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ll));function Ov(i,o,u){var f=i.type||"unknown-event";i.currentTarget=u,ml(f,o,void 0,i),i.currentTarget=null}function Mv(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var f=i[u],m=f.event;f=f.listeners;e:{var v=void 0;if(o)for(var E=f.length-1;0<=E;E--){var V=f[E],F=V.instance,G=V.currentTarget;if(V=V.listener,F!==v&&m.isPropagationStopped())break e;Ov(m,V,G),v=F}else for(E=0;E<f.length;E++){if(V=f[E],F=V.instance,G=V.currentTarget,V=V.listener,F!==v&&m.isPropagationStopped())break e;Ov(m,V,G),v=F}}}if(Bo)throw i=Mn,Bo=!1,Mn=null,i}function nt(i,o){var u=o[Df];u===void 0&&(u=o[Df]=new Set);var f=i+"__bubble";u.has(f)||(Lv(o,i,2,!1),u.add(f))}function Af(i,o,u){var f=0;o&&(f|=4),Lv(u,i,f,o)}var Nc="_reactListening"+Math.random().toString(36).slice(2);function Fl(i){if(!i[Nc]){i[Nc]=!0,r.forEach(function(u){u!=="selectionchange"&&(bx.has(u)||Af(u,!1,i),Af(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Nc]||(o[Nc]=!0,Af("selectionchange",!1,o))}}function Lv(i,o,u,f){switch(Qo(o)){case 1:var m=Tr;break;case 4:m=Ic;break;default:m=Pl}u=m.bind(null,o,u,i),m=void 0,!Ri||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),f?m!==void 0?i.addEventListener(o,u,{capture:!0,passive:m}):i.addEventListener(o,u,!0):m!==void 0?i.addEventListener(o,u,{passive:m}):i.addEventListener(o,u,!1)}function xf(i,o,u,f,m){var v=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var E=f.tag;if(E===3||E===4){var V=f.stateNode.containerInfo;if(V===m||V.nodeType===8&&V.parentNode===m)break;if(E===4)for(E=f.return;E!==null;){var F=E.tag;if((F===3||F===4)&&(F=E.stateNode.containerInfo,F===m||F.nodeType===8&&F.parentNode===m))return;E=E.return}for(;V!==null;){if(E=qs(V),E===null)return;if(F=E.tag,F===5||F===6){f=v=E;continue e}V=V.parentNode}}f=f.return}dc(function(){var G=v,te=Uo(u),re=[];e:{var Z=Dv.get(i);if(Z!==void 0){var he=Ws,ye=i;switch(i){case"keypress":if($s(u)===0)break e;case"keydown":case"keyup":he=Qe;break;case"focusin":ye="focus",he=zt;break;case"focusout":ye="blur",he=zt;break;case"beforeblur":case"afterblur":he=zt;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=bl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=Ac;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=Cr;break;case Rv:case bv:case kv:he=Pc;break;case Nv:he=ta;break;case"scroll":he=Xo;break;case"wheel":he=fx;break;case"copy":case"cut":case"paste":he=h;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=Rn}var ve=(o&4)!==0,_t=!ve&&i==="scroll",W=ve?Z!==null?Z+"Capture":null:Z;ve=[];for(var z=G,q;z!==null;){q=z;var oe=q.stateNode;if(q.tag===5&&oe!==null&&(q=oe,W!==null&&(oe=Ds(z,W),oe!=null&&ve.push(jl(z,oe,q)))),_t)break;z=z.return}0<ve.length&&(Z=new he(Z,ye,null,u,te),re.push({event:Z,listeners:ve}))}}if((o&7)===0){e:{if(Z=i==="mouseover"||i==="pointerover",he=i==="mouseout"||i==="pointerout",Z&&u!==Ai&&(ye=u.relatedTarget||u.fromElement)&&(qs(ye)||ye[Jr]))break e;if((he||Z)&&(Z=te.window===te?te:(Z=te.ownerDocument)?Z.defaultView||Z.parentWindow:window,he?(ye=u.relatedTarget||u.toElement,he=G,ye=ye?qs(ye):null,ye!==null&&(_t=Xn(ye),ye!==_t||ye.tag!==5&&ye.tag!==6)&&(ye=null)):(he=null,ye=G),he!==ye)){if(ve=bl,oe="onMouseLeave",W="onMouseEnter",z="mouse",(i==="pointerout"||i==="pointerover")&&(ve=Rn,oe="onPointerLeave",W="onPointerEnter",z="pointer"),_t=he==null?Z:aa(he),q=ye==null?Z:aa(ye),Z=new ve(oe,z+"leave",he,u,te),Z.target=_t,Z.relatedTarget=q,oe=null,qs(te)===G&&(ve=new ve(W,z+"enter",ye,u,te),ve.target=q,ve.relatedTarget=_t,oe=ve),_t=oe,he&&ye)t:{for(ve=he,W=ye,z=0,q=ve;q;q=sa(q))z++;for(q=0,oe=W;oe;oe=sa(oe))q++;for(;0<z-q;)ve=sa(ve),z--;for(;0<q-z;)W=sa(W),q--;for(;z--;){if(ve===W||W!==null&&ve===W.alternate)break t;ve=sa(ve),W=sa(W)}ve=null}else ve=null;he!==null&&Fv(re,Z,he,ve,!1),ye!==null&&_t!==null&&Fv(re,_t,ye,ve,!0)}}e:{if(Z=G?aa(G):window,he=Z.nodeName&&Z.nodeName.toLowerCase(),he==="select"||he==="input"&&Z.type==="file")var _e=wx;else if(yv(Z))if(_v)_e=Sx;else{_e=Ex;var Te=Tx}else(he=Z.nodeName)&&he.toLowerCase()==="input"&&(Z.type==="checkbox"||Z.type==="radio")&&(_e=Ix);if(_e&&(_e=_e(i,G))){vv(re,_e,u,te);break e}Te&&Te(i,Z,G),i==="focusout"&&(Te=Z._wrapperState)&&Te.controlled&&Z.type==="number"&&St(Z,"number",Z.value)}switch(Te=G?aa(G):window,i){case"focusin":(yv(Te)||Te.contentEditable==="true")&&(ra=Te,Tf=G,Ml=null);break;case"focusout":Ml=Tf=ra=null;break;case"mousedown":Ef=!0;break;case"contextmenu":case"mouseup":case"dragend":Ef=!1,xv(re,u,te);break;case"selectionchange":if(xx)break;case"keydown":case"keyup":xv(re,u,te)}var Ee;if(yf)e:{switch(i){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else na?mv(i,u)&&(Pe="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Pe="onCompositionStart");Pe&&(dv&&u.locale!=="ko"&&(na||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&na&&(Ee=Sc()):(xn=te,Yo="value"in xn?xn.value:xn.textContent,na=!0)),Te=Dc(G,Pe),0<Te.length&&(Pe=new T(Pe,i,null,u,te),re.push({event:Pe,listeners:Te}),Ee?Pe.data=Ee:(Ee=gv(u),Ee!==null&&(Pe.data=Ee)))),(Ee=mx?gx(i,u):yx(i,u))&&(G=Dc(G,"onBeforeInput"),0<G.length&&(te=new T("onBeforeInput","beforeinput",null,u,te),re.push({event:te,listeners:G}),te.data=Ee))}Mv(re,o)})}function jl(i,o,u){return{instance:i,listener:o,currentTarget:u}}function Dc(i,o){for(var u=o+"Capture",f=[];i!==null;){var m=i,v=m.stateNode;m.tag===5&&v!==null&&(m=v,v=Ds(i,u),v!=null&&f.unshift(jl(i,v,m)),v=Ds(i,o),v!=null&&f.push(jl(i,v,m))),i=i.return}return f}function sa(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Fv(i,o,u,f,m){for(var v=o._reactName,E=[];u!==null&&u!==f;){var V=u,F=V.alternate,G=V.stateNode;if(F!==null&&F===f)break;V.tag===5&&G!==null&&(V=G,m?(F=Ds(u,v),F!=null&&E.unshift(jl(u,F,V))):m||(F=Ds(u,v),F!=null&&E.push(jl(u,F,V)))),u=u.return}E.length!==0&&i.push({event:o,listeners:E})}var kx=/\r\n?/g,Nx=/\u0000|\uFFFD/g;function jv(i){return(typeof i=="string"?i:""+i).replace(kx,`
`).replace(Nx,"")}function Vc(i,o,u){if(o=jv(o),jv(i)!==o&&u)throw Error(t(425))}function Oc(){}var Pf=null,Rf=null;function bf(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var kf=typeof setTimeout=="function"?setTimeout:void 0,Dx=typeof clearTimeout=="function"?clearTimeout:void 0,Uv=typeof Promise=="function"?Promise:void 0,Vx=typeof queueMicrotask=="function"?queueMicrotask:typeof Uv<"u"?function(i){return Uv.resolve(null).then(i).catch(Ox)}:kf;function Ox(i){setTimeout(function(){throw i})}function Nf(i,o){var u=o,f=0;do{var m=u.nextSibling;if(i.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(f===0){i.removeChild(m),Vi(o);return}f--}else u!=="$"&&u!=="$?"&&u!=="$!"||f++;u=m}while(u);Vi(o)}function Fi(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function Bv(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return i;o--}else u==="/$"&&o++}i=i.previousSibling}return null}var oa=Math.random().toString(36).slice(2),xr="__reactFiber$"+oa,Ul="__reactProps$"+oa,Jr="__reactContainer$"+oa,Df="__reactEvents$"+oa,Mx="__reactListeners$"+oa,Lx="__reactHandles$"+oa;function qs(i){var o=i[xr];if(o)return o;for(var u=i.parentNode;u;){if(o=u[Jr]||u[xr]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=Bv(i);i!==null;){if(u=i[xr])return u;i=Bv(i)}return o}i=u,u=i.parentNode}return null}function Bl(i){return i=i[xr]||i[Jr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function aa(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function Mc(i){return i[Ul]||null}var Vf=[],la=-1;function ji(i){return{current:i}}function rt(i){0>la||(i.current=Vf[la],Vf[la]=null,la--)}function Je(i,o){la++,Vf[la]=i.current,i.current=o}var Ui={},Yt=ji(Ui),fn=ji(!1),Gs=Ui;function ua(i,o){var u=i.type.contextTypes;if(!u)return Ui;var f=i.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===o)return f.__reactInternalMemoizedMaskedChildContext;var m={},v;for(v in u)m[v]=o[v];return f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=m),m}function pn(i){return i=i.childContextTypes,i!=null}function Lc(){rt(fn),rt(Yt)}function zv(i,o,u){if(Yt.current!==Ui)throw Error(t(168));Je(Yt,o),Je(fn,u)}function $v(i,o,u){var f=i.stateNode;if(o=o.childContextTypes,typeof f.getChildContext!="function")return u;f=f.getChildContext();for(var m in f)if(!(m in o))throw Error(t(108,$e(i)||"Unknown",m));return ce({},u,f)}function Fc(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Ui,Gs=Yt.current,Je(Yt,i),Je(fn,fn.current),!0}function Wv(i,o,u){var f=i.stateNode;if(!f)throw Error(t(169));u?(i=$v(i,o,Gs),f.__reactInternalMemoizedMergedChildContext=i,rt(fn),rt(Yt),Je(Yt,i)):rt(fn),Je(fn,u)}var Zr=null,jc=!1,Of=!1;function Hv(i){Zr===null?Zr=[i]:Zr.push(i)}function Fx(i){jc=!0,Hv(i)}function Bi(){if(!Of&&Zr!==null){Of=!0;var i=0,o=Be;try{var u=Zr;for(Be=1;i<u.length;i++){var f=u[i];do f=f(!0);while(f!==null)}Zr=null,jc=!1}catch(m){throw Zr!==null&&(Zr=Zr.slice(i+1)),yl($o,Bi),m}finally{Be=o,Of=!1}}return null}var ca=[],ha=0,Uc=null,Bc=0,Fn=[],jn=0,Ks=null,ei=1,ti="";function Qs(i,o){ca[ha++]=Bc,ca[ha++]=Uc,Uc=i,Bc=o}function qv(i,o,u){Fn[jn++]=ei,Fn[jn++]=ti,Fn[jn++]=Ks,Ks=i;var f=ei;i=ti;var m=32-Cn(f)-1;f&=~(1<<m),u+=1;var v=32-Cn(o)+m;if(30<v){var E=m-m%5;v=(f&(1<<E)-1).toString(32),f>>=E,m-=E,ei=1<<32-Cn(o)+m|u<<m|f,ti=v+i}else ei=1<<v|u<<m|f,ti=i}function Mf(i){i.return!==null&&(Qs(i,1),qv(i,1,0))}function Lf(i){for(;i===Uc;)Uc=ca[--ha],ca[ha]=null,Bc=ca[--ha],ca[ha]=null;for(;i===Ks;)Ks=Fn[--jn],Fn[jn]=null,ti=Fn[--jn],Fn[jn]=null,ei=Fn[--jn],Fn[jn]=null}var bn=null,kn=null,ot=!1,er=null;function Gv(i,o){var u=$n(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=i,o=i.deletions,o===null?(i.deletions=[u],i.flags|=16):o.push(u)}function Kv(i,o){switch(i.tag){case 5:var u=i.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,bn=i,kn=Fi(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,bn=i,kn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=Ks!==null?{id:ei,overflow:ti}:null,i.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=$n(18,null,null,0),u.stateNode=o,u.return=i,i.child=u,bn=i,kn=null,!0):!1;default:return!1}}function Ff(i){return(i.mode&1)!==0&&(i.flags&128)===0}function jf(i){if(ot){var o=kn;if(o){var u=o;if(!Kv(i,o)){if(Ff(i))throw Error(t(418));o=Fi(u.nextSibling);var f=bn;o&&Kv(i,o)?Gv(f,u):(i.flags=i.flags&-4097|2,ot=!1,bn=i)}}else{if(Ff(i))throw Error(t(418));i.flags=i.flags&-4097|2,ot=!1,bn=i}}}function Qv(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;bn=i}function zc(i){if(i!==bn)return!1;if(!ot)return Qv(i),ot=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!bf(i.type,i.memoizedProps)),o&&(o=kn)){if(Ff(i))throw Yv(),Error(t(418));for(;o;)Gv(i,o),o=Fi(o.nextSibling)}if(Qv(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(o===0){kn=Fi(i.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}i=i.nextSibling}kn=null}}else kn=bn?Fi(i.stateNode.nextSibling):null;return!0}function Yv(){for(var i=kn;i;)i=Fi(i.nextSibling)}function da(){kn=bn=null,ot=!1}function Uf(i){er===null?er=[i]:er.push(i)}var jx=Q.ReactCurrentBatchConfig;function zl(i,o,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var f=u.stateNode}if(!f)throw Error(t(147,i));var m=f,v=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===v?o.ref:(o=function(E){var V=m.refs;E===null?delete V[v]:V[v]=E},o._stringRef=v,o)}if(typeof i!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,i))}return i}function $c(i,o){throw i=Object.prototype.toString.call(o),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function Xv(i){var o=i._init;return o(i._payload)}function Jv(i){function o(W,z){if(i){var q=W.deletions;q===null?(W.deletions=[z],W.flags|=16):q.push(z)}}function u(W,z){if(!i)return null;for(;z!==null;)o(W,z),z=z.sibling;return null}function f(W,z){for(W=new Map;z!==null;)z.key!==null?W.set(z.key,z):W.set(z.index,z),z=z.sibling;return W}function m(W,z){return W=Qi(W,z),W.index=0,W.sibling=null,W}function v(W,z,q){return W.index=q,i?(q=W.alternate,q!==null?(q=q.index,q<z?(W.flags|=2,z):q):(W.flags|=2,z)):(W.flags|=1048576,z)}function E(W){return i&&W.alternate===null&&(W.flags|=2),W}function V(W,z,q,oe){return z===null||z.tag!==6?(z=kp(q,W.mode,oe),z.return=W,z):(z=m(z,q),z.return=W,z)}function F(W,z,q,oe){var _e=q.type;return _e===N?te(W,z,q.props.children,oe,q.key):z!==null&&(z.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===pe&&Xv(_e)===z.type)?(oe=m(z,q.props),oe.ref=zl(W,z,q),oe.return=W,oe):(oe=fh(q.type,q.key,q.props,null,W.mode,oe),oe.ref=zl(W,z,q),oe.return=W,oe)}function G(W,z,q,oe){return z===null||z.tag!==4||z.stateNode.containerInfo!==q.containerInfo||z.stateNode.implementation!==q.implementation?(z=Np(q,W.mode,oe),z.return=W,z):(z=m(z,q.children||[]),z.return=W,z)}function te(W,z,q,oe,_e){return z===null||z.tag!==7?(z=ro(q,W.mode,oe,_e),z.return=W,z):(z=m(z,q),z.return=W,z)}function re(W,z,q){if(typeof z=="string"&&z!==""||typeof z=="number")return z=kp(""+z,W.mode,q),z.return=W,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case ee:return q=fh(z.type,z.key,z.props,null,W.mode,q),q.ref=zl(W,null,z),q.return=W,q;case ie:return z=Np(z,W.mode,q),z.return=W,z;case pe:var oe=z._init;return re(W,oe(z._payload),q)}if(yt(z)||le(z))return z=ro(z,W.mode,q,null),z.return=W,z;$c(W,z)}return null}function Z(W,z,q,oe){var _e=z!==null?z.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return _e!==null?null:V(W,z,""+q,oe);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case ee:return q.key===_e?F(W,z,q,oe):null;case ie:return q.key===_e?G(W,z,q,oe):null;case pe:return _e=q._init,Z(W,z,_e(q._payload),oe)}if(yt(q)||le(q))return _e!==null?null:te(W,z,q,oe,null);$c(W,q)}return null}function he(W,z,q,oe,_e){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return W=W.get(q)||null,V(z,W,""+oe,_e);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case ee:return W=W.get(oe.key===null?q:oe.key)||null,F(z,W,oe,_e);case ie:return W=W.get(oe.key===null?q:oe.key)||null,G(z,W,oe,_e);case pe:var Te=oe._init;return he(W,z,q,Te(oe._payload),_e)}if(yt(oe)||le(oe))return W=W.get(q)||null,te(z,W,oe,_e,null);$c(z,oe)}return null}function ye(W,z,q,oe){for(var _e=null,Te=null,Ee=z,Pe=z=0,jt=null;Ee!==null&&Pe<q.length;Pe++){Ee.index>Pe?(jt=Ee,Ee=null):jt=Ee.sibling;var He=Z(W,Ee,q[Pe],oe);if(He===null){Ee===null&&(Ee=jt);break}i&&Ee&&He.alternate===null&&o(W,Ee),z=v(He,z,Pe),Te===null?_e=He:Te.sibling=He,Te=He,Ee=jt}if(Pe===q.length)return u(W,Ee),ot&&Qs(W,Pe),_e;if(Ee===null){for(;Pe<q.length;Pe++)Ee=re(W,q[Pe],oe),Ee!==null&&(z=v(Ee,z,Pe),Te===null?_e=Ee:Te.sibling=Ee,Te=Ee);return ot&&Qs(W,Pe),_e}for(Ee=f(W,Ee);Pe<q.length;Pe++)jt=he(Ee,W,Pe,q[Pe],oe),jt!==null&&(i&&jt.alternate!==null&&Ee.delete(jt.key===null?Pe:jt.key),z=v(jt,z,Pe),Te===null?_e=jt:Te.sibling=jt,Te=jt);return i&&Ee.forEach(function(Yi){return o(W,Yi)}),ot&&Qs(W,Pe),_e}function ve(W,z,q,oe){var _e=le(q);if(typeof _e!="function")throw Error(t(150));if(q=_e.call(q),q==null)throw Error(t(151));for(var Te=_e=null,Ee=z,Pe=z=0,jt=null,He=q.next();Ee!==null&&!He.done;Pe++,He=q.next()){Ee.index>Pe?(jt=Ee,Ee=null):jt=Ee.sibling;var Yi=Z(W,Ee,He.value,oe);if(Yi===null){Ee===null&&(Ee=jt);break}i&&Ee&&Yi.alternate===null&&o(W,Ee),z=v(Yi,z,Pe),Te===null?_e=Yi:Te.sibling=Yi,Te=Yi,Ee=jt}if(He.done)return u(W,Ee),ot&&Qs(W,Pe),_e;if(Ee===null){for(;!He.done;Pe++,He=q.next())He=re(W,He.value,oe),He!==null&&(z=v(He,z,Pe),Te===null?_e=He:Te.sibling=He,Te=He);return ot&&Qs(W,Pe),_e}for(Ee=f(W,Ee);!He.done;Pe++,He=q.next())He=he(Ee,W,Pe,He.value,oe),He!==null&&(i&&He.alternate!==null&&Ee.delete(He.key===null?Pe:He.key),z=v(He,z,Pe),Te===null?_e=He:Te.sibling=He,Te=He);return i&&Ee.forEach(function(vP){return o(W,vP)}),ot&&Qs(W,Pe),_e}function _t(W,z,q,oe){if(typeof q=="object"&&q!==null&&q.type===N&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case ee:e:{for(var _e=q.key,Te=z;Te!==null;){if(Te.key===_e){if(_e=q.type,_e===N){if(Te.tag===7){u(W,Te.sibling),z=m(Te,q.props.children),z.return=W,W=z;break e}}else if(Te.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===pe&&Xv(_e)===Te.type){u(W,Te.sibling),z=m(Te,q.props),z.ref=zl(W,Te,q),z.return=W,W=z;break e}u(W,Te);break}else o(W,Te);Te=Te.sibling}q.type===N?(z=ro(q.props.children,W.mode,oe,q.key),z.return=W,W=z):(oe=fh(q.type,q.key,q.props,null,W.mode,oe),oe.ref=zl(W,z,q),oe.return=W,W=oe)}return E(W);case ie:e:{for(Te=q.key;z!==null;){if(z.key===Te)if(z.tag===4&&z.stateNode.containerInfo===q.containerInfo&&z.stateNode.implementation===q.implementation){u(W,z.sibling),z=m(z,q.children||[]),z.return=W,W=z;break e}else{u(W,z);break}else o(W,z);z=z.sibling}z=Np(q,W.mode,oe),z.return=W,W=z}return E(W);case pe:return Te=q._init,_t(W,z,Te(q._payload),oe)}if(yt(q))return ye(W,z,q,oe);if(le(q))return ve(W,z,q,oe);$c(W,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,z!==null&&z.tag===6?(u(W,z.sibling),z=m(z,q),z.return=W,W=z):(u(W,z),z=kp(q,W.mode,oe),z.return=W,W=z),E(W)):u(W,z)}return _t}var fa=Jv(!0),Zv=Jv(!1),Wc=ji(null),Hc=null,pa=null,Bf=null;function zf(){Bf=pa=Hc=null}function $f(i){var o=Wc.current;rt(Wc),i._currentValue=o}function Wf(i,o,u){for(;i!==null;){var f=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),i===u)break;i=i.return}}function ma(i,o){Hc=i,Bf=pa=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(mn=!0),i.firstContext=null)}function Un(i){var o=i._currentValue;if(Bf!==i)if(i={context:i,memoizedValue:o,next:null},pa===null){if(Hc===null)throw Error(t(308));pa=i,Hc.dependencies={lanes:0,firstContext:i}}else pa=pa.next=i;return o}var Ys=null;function Hf(i){Ys===null?Ys=[i]:Ys.push(i)}function e_(i,o,u,f){var m=o.interleaved;return m===null?(u.next=u,Hf(o)):(u.next=m.next,m.next=u),o.interleaved=u,ni(i,f)}function ni(i,o){i.lanes|=o;var u=i.alternate;for(u!==null&&(u.lanes|=o),u=i,i=i.return;i!==null;)i.childLanes|=o,u=i.alternate,u!==null&&(u.childLanes|=o),u=i,i=i.return;return u.tag===3?u.stateNode:null}var zi=!1;function qf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function t_(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function ri(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function $i(i,o,u){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(We&2)!==0){var m=f.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),f.pending=o,ni(i,u)}return m=f.interleaved,m===null?(o.next=o,Hf(f)):(o.next=m.next,m.next=o),f.interleaved=o,ni(i,u)}function qc(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var f=o.lanes;f&=i.pendingLanes,u|=f,o.lanes=u,Il(i,u)}}function n_(i,o){var u=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var m=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var E={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};v===null?m=v=E:v=v.next=E,u=u.next}while(u!==null);v===null?m=v=o:v=v.next=o}else m=v=o;u={baseState:f.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:f.shared,effects:f.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}function Gc(i,o,u,f){var m=i.updateQueue;zi=!1;var v=m.firstBaseUpdate,E=m.lastBaseUpdate,V=m.shared.pending;if(V!==null){m.shared.pending=null;var F=V,G=F.next;F.next=null,E===null?v=G:E.next=G,E=F;var te=i.alternate;te!==null&&(te=te.updateQueue,V=te.lastBaseUpdate,V!==E&&(V===null?te.firstBaseUpdate=G:V.next=G,te.lastBaseUpdate=F))}if(v!==null){var re=m.baseState;E=0,te=G=F=null,V=v;do{var Z=V.lane,he=V.eventTime;if((f&Z)===Z){te!==null&&(te=te.next={eventTime:he,lane:0,tag:V.tag,payload:V.payload,callback:V.callback,next:null});e:{var ye=i,ve=V;switch(Z=o,he=u,ve.tag){case 1:if(ye=ve.payload,typeof ye=="function"){re=ye.call(he,re,Z);break e}re=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=ve.payload,Z=typeof ye=="function"?ye.call(he,re,Z):ye,Z==null)break e;re=ce({},re,Z);break e;case 2:zi=!0}}V.callback!==null&&V.lane!==0&&(i.flags|=64,Z=m.effects,Z===null?m.effects=[V]:Z.push(V))}else he={eventTime:he,lane:Z,tag:V.tag,payload:V.payload,callback:V.callback,next:null},te===null?(G=te=he,F=re):te=te.next=he,E|=Z;if(V=V.next,V===null){if(V=m.shared.pending,V===null)break;Z=V,V=Z.next,Z.next=null,m.lastBaseUpdate=Z,m.shared.pending=null}}while(!0);if(te===null&&(F=re),m.baseState=F,m.firstBaseUpdate=G,m.lastBaseUpdate=te,o=m.shared.interleaved,o!==null){m=o;do E|=m.lane,m=m.next;while(m!==o)}else v===null&&(m.shared.lanes=0);Zs|=E,i.lanes=E,i.memoizedState=re}}function r_(i,o,u){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var f=i[o],m=f.callback;if(m!==null){if(f.callback=null,f=u,typeof m!="function")throw Error(t(191,m));m.call(f)}}}var $l={},Pr=ji($l),Wl=ji($l),Hl=ji($l);function Xs(i){if(i===$l)throw Error(t(174));return i}function Gf(i,o){switch(Je(Hl,o),Je(Wl,i),Je(Pr,$l),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Lo(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=Lo(o,i)}rt(Pr),Je(Pr,o)}function ga(){rt(Pr),rt(Wl),rt(Hl)}function i_(i){Xs(Hl.current);var o=Xs(Pr.current),u=Lo(o,i.type);o!==u&&(Je(Wl,i),Je(Pr,u))}function Kf(i){Wl.current===i&&(rt(Pr),rt(Wl))}var ct=ji(0);function Kc(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Qf=[];function Yf(){for(var i=0;i<Qf.length;i++)Qf[i]._workInProgressVersionPrimary=null;Qf.length=0}var Qc=Q.ReactCurrentDispatcher,Xf=Q.ReactCurrentBatchConfig,Js=0,ht=null,Dt=null,Lt=null,Yc=!1,ql=!1,Gl=0,Ux=0;function Xt(){throw Error(t(321))}function Jf(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!Zn(i[u],o[u]))return!1;return!0}function Zf(i,o,u,f,m,v){if(Js=v,ht=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Qc.current=i===null||i.memoizedState===null?Wx:Hx,i=u(f,m),ql){v=0;do{if(ql=!1,Gl=0,25<=v)throw Error(t(301));v+=1,Lt=Dt=null,o.updateQueue=null,Qc.current=qx,i=u(f,m)}while(ql)}if(Qc.current=Zc,o=Dt!==null&&Dt.next!==null,Js=0,Lt=Dt=ht=null,Yc=!1,o)throw Error(t(300));return i}function ep(){var i=Gl!==0;return Gl=0,i}function Rr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?ht.memoizedState=Lt=i:Lt=Lt.next=i,Lt}function Bn(){if(Dt===null){var i=ht.alternate;i=i!==null?i.memoizedState:null}else i=Dt.next;var o=Lt===null?ht.memoizedState:Lt.next;if(o!==null)Lt=o,Dt=i;else{if(i===null)throw Error(t(310));Dt=i,i={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},Lt===null?ht.memoizedState=Lt=i:Lt=Lt.next=i}return Lt}function Kl(i,o){return typeof o=="function"?o(i):o}function tp(i){var o=Bn(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var f=Dt,m=f.baseQueue,v=u.pending;if(v!==null){if(m!==null){var E=m.next;m.next=v.next,v.next=E}f.baseQueue=m=v,u.pending=null}if(m!==null){v=m.next,f=f.baseState;var V=E=null,F=null,G=v;do{var te=G.lane;if((Js&te)===te)F!==null&&(F=F.next={lane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),f=G.hasEagerState?G.eagerState:i(f,G.action);else{var re={lane:te,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null};F===null?(V=F=re,E=f):F=F.next=re,ht.lanes|=te,Zs|=te}G=G.next}while(G!==null&&G!==v);F===null?E=f:F.next=V,Zn(f,o.memoizedState)||(mn=!0),o.memoizedState=f,o.baseState=E,o.baseQueue=F,u.lastRenderedState=f}if(i=u.interleaved,i!==null){m=i;do v=m.lane,ht.lanes|=v,Zs|=v,m=m.next;while(m!==i)}else m===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function np(i){var o=Bn(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var f=u.dispatch,m=u.pending,v=o.memoizedState;if(m!==null){u.pending=null;var E=m=m.next;do v=i(v,E.action),E=E.next;while(E!==m);Zn(v,o.memoizedState)||(mn=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),u.lastRenderedState=v}return[v,f]}function s_(){}function o_(i,o){var u=ht,f=Bn(),m=o(),v=!Zn(f.memoizedState,m);if(v&&(f.memoizedState=m,mn=!0),f=f.queue,rp(u_.bind(null,u,f,i),[i]),f.getSnapshot!==o||v||Lt!==null&&Lt.memoizedState.tag&1){if(u.flags|=2048,Ql(9,l_.bind(null,u,f,m,o),void 0,null),Ft===null)throw Error(t(349));(Js&30)!==0||a_(u,o,m)}return m}function a_(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=ht.updateQueue,o===null?(o={lastEffect:null,stores:null},ht.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function l_(i,o,u,f){o.value=u,o.getSnapshot=f,c_(o)&&h_(i)}function u_(i,o,u){return u(function(){c_(o)&&h_(i)})}function c_(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!Zn(i,u)}catch{return!0}}function h_(i){var o=ni(i,1);o!==null&&ir(o,i,1,-1)}function d_(i){var o=Rr();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Kl,lastRenderedState:i},o.queue=i,i=i.dispatch=$x.bind(null,ht,i),[o.memoizedState,i]}function Ql(i,o,u,f){return i={tag:i,create:o,destroy:u,deps:f,next:null},o=ht.updateQueue,o===null?(o={lastEffect:null,stores:null},ht.updateQueue=o,o.lastEffect=i.next=i):(u=o.lastEffect,u===null?o.lastEffect=i.next=i:(f=u.next,u.next=i,i.next=f,o.lastEffect=i)),i}function f_(){return Bn().memoizedState}function Xc(i,o,u,f){var m=Rr();ht.flags|=i,m.memoizedState=Ql(1|o,u,void 0,f===void 0?null:f)}function Jc(i,o,u,f){var m=Bn();f=f===void 0?null:f;var v=void 0;if(Dt!==null){var E=Dt.memoizedState;if(v=E.destroy,f!==null&&Jf(f,E.deps)){m.memoizedState=Ql(o,u,v,f);return}}ht.flags|=i,m.memoizedState=Ql(1|o,u,v,f)}function p_(i,o){return Xc(8390656,8,i,o)}function rp(i,o){return Jc(2048,8,i,o)}function m_(i,o){return Jc(4,2,i,o)}function g_(i,o){return Jc(4,4,i,o)}function y_(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function v_(i,o,u){return u=u!=null?u.concat([i]):null,Jc(4,4,y_.bind(null,o,i),u)}function ip(){}function __(i,o){var u=Bn();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&Jf(o,f[1])?f[0]:(u.memoizedState=[i,o],i)}function w_(i,o){var u=Bn();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&Jf(o,f[1])?f[0]:(i=i(),u.memoizedState=[i,o],i)}function T_(i,o,u){return(Js&21)===0?(i.baseState&&(i.baseState=!1,mn=!0),i.memoizedState=u):(Zn(u,o)||(u=Tl(),ht.lanes|=u,Zs|=u,i.baseState=!0),o)}function Bx(i,o){var u=Be;Be=u!==0&&4>u?u:4,i(!0);var f=Xf.transition;Xf.transition={};try{i(!1),o()}finally{Be=u,Xf.transition=f}}function E_(){return Bn().memoizedState}function zx(i,o,u){var f=Gi(i);if(u={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null},I_(i))S_(o,u);else if(u=e_(i,o,u,f),u!==null){var m=an();ir(u,i,f,m),C_(u,o,f)}}function $x(i,o,u){var f=Gi(i),m={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null};if(I_(i))S_(o,m);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var E=o.lastRenderedState,V=v(E,u);if(m.hasEagerState=!0,m.eagerState=V,Zn(V,E)){var F=o.interleaved;F===null?(m.next=m,Hf(o)):(m.next=F.next,F.next=m),o.interleaved=m;return}}catch{}finally{}u=e_(i,o,m,f),u!==null&&(m=an(),ir(u,i,f,m),C_(u,o,f))}}function I_(i){var o=i.alternate;return i===ht||o!==null&&o===ht}function S_(i,o){ql=Yc=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function C_(i,o,u){if((u&4194240)!==0){var f=o.lanes;f&=i.pendingLanes,u|=f,o.lanes=u,Il(i,u)}}var Zc={readContext:Un,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useInsertionEffect:Xt,useLayoutEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useMutableSource:Xt,useSyncExternalStore:Xt,useId:Xt,unstable_isNewReconciler:!1},Wx={readContext:Un,useCallback:function(i,o){return Rr().memoizedState=[i,o===void 0?null:o],i},useContext:Un,useEffect:p_,useImperativeHandle:function(i,o,u){return u=u!=null?u.concat([i]):null,Xc(4194308,4,y_.bind(null,o,i),u)},useLayoutEffect:function(i,o){return Xc(4194308,4,i,o)},useInsertionEffect:function(i,o){return Xc(4,2,i,o)},useMemo:function(i,o){var u=Rr();return o=o===void 0?null:o,i=i(),u.memoizedState=[i,o],i},useReducer:function(i,o,u){var f=Rr();return o=u!==void 0?u(o):o,f.memoizedState=f.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},f.queue=i,i=i.dispatch=zx.bind(null,ht,i),[f.memoizedState,i]},useRef:function(i){var o=Rr();return i={current:i},o.memoizedState=i},useState:d_,useDebugValue:ip,useDeferredValue:function(i){return Rr().memoizedState=i},useTransition:function(){var i=d_(!1),o=i[0];return i=Bx.bind(null,i[1]),Rr().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,u){var f=ht,m=Rr();if(ot){if(u===void 0)throw Error(t(407));u=u()}else{if(u=o(),Ft===null)throw Error(t(349));(Js&30)!==0||a_(f,o,u)}m.memoizedState=u;var v={value:u,getSnapshot:o};return m.queue=v,p_(u_.bind(null,f,v,i),[i]),f.flags|=2048,Ql(9,l_.bind(null,f,v,u,o),void 0,null),u},useId:function(){var i=Rr(),o=Ft.identifierPrefix;if(ot){var u=ti,f=ei;u=(f&~(1<<32-Cn(f)-1)).toString(32)+u,o=":"+o+"R"+u,u=Gl++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=Ux++,o=":"+o+"r"+u.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},Hx={readContext:Un,useCallback:__,useContext:Un,useEffect:rp,useImperativeHandle:v_,useInsertionEffect:m_,useLayoutEffect:g_,useMemo:w_,useReducer:tp,useRef:f_,useState:function(){return tp(Kl)},useDebugValue:ip,useDeferredValue:function(i){var o=Bn();return T_(o,Dt.memoizedState,i)},useTransition:function(){var i=tp(Kl)[0],o=Bn().memoizedState;return[i,o]},useMutableSource:s_,useSyncExternalStore:o_,useId:E_,unstable_isNewReconciler:!1},qx={readContext:Un,useCallback:__,useContext:Un,useEffect:rp,useImperativeHandle:v_,useInsertionEffect:m_,useLayoutEffect:g_,useMemo:w_,useReducer:np,useRef:f_,useState:function(){return np(Kl)},useDebugValue:ip,useDeferredValue:function(i){var o=Bn();return Dt===null?o.memoizedState=i:T_(o,Dt.memoizedState,i)},useTransition:function(){var i=np(Kl)[0],o=Bn().memoizedState;return[i,o]},useMutableSource:s_,useSyncExternalStore:o_,useId:E_,unstable_isNewReconciler:!1};function tr(i,o){if(i&&i.defaultProps){o=ce({},o),i=i.defaultProps;for(var u in i)o[u]===void 0&&(o[u]=i[u]);return o}return o}function sp(i,o,u,f){o=i.memoizedState,u=u(f,o),u=u==null?o:ce({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var eh={isMounted:function(i){return(i=i._reactInternals)?Xn(i)===i:!1},enqueueSetState:function(i,o,u){i=i._reactInternals;var f=an(),m=Gi(i),v=ri(f,m);v.payload=o,u!=null&&(v.callback=u),o=$i(i,v,m),o!==null&&(ir(o,i,m,f),qc(o,i,m))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var f=an(),m=Gi(i),v=ri(f,m);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=$i(i,v,m),o!==null&&(ir(o,i,m,f),qc(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=an(),f=Gi(i),m=ri(u,f);m.tag=2,o!=null&&(m.callback=o),o=$i(i,m,f),o!==null&&(ir(o,i,f,u),qc(o,i,f))}};function A_(i,o,u,f,m,v,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,v,E):o.prototype&&o.prototype.isPureReactComponent?!Ol(u,f)||!Ol(m,v):!0}function x_(i,o,u){var f=!1,m=Ui,v=o.contextType;return typeof v=="object"&&v!==null?v=Un(v):(m=pn(o)?Gs:Yt.current,f=o.contextTypes,v=(f=f!=null)?ua(i,m):Ui),o=new o(u,v),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=eh,i.stateNode=o,o._reactInternals=i,f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=m,i.__reactInternalMemoizedMaskedChildContext=v),o}function P_(i,o,u,f){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,f),o.state!==i&&eh.enqueueReplaceState(o,o.state,null)}function op(i,o,u,f){var m=i.stateNode;m.props=u,m.state=i.memoizedState,m.refs={},qf(i);var v=o.contextType;typeof v=="object"&&v!==null?m.context=Un(v):(v=pn(o)?Gs:Yt.current,m.context=ua(i,v)),m.state=i.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(sp(i,o,v,u),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&eh.enqueueReplaceState(m,m.state,null),Gc(i,u,m,f),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308)}function ya(i,o){try{var u="",f=o;do u+=Ve(f),f=f.return;while(f);var m=u}catch(v){m=`
Error generating stack: `+v.message+`
`+v.stack}return{value:i,source:o,stack:m,digest:null}}function ap(i,o,u){return{value:i,source:null,stack:u??null,digest:o??null}}function lp(i,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var Gx=typeof WeakMap=="function"?WeakMap:Map;function R_(i,o,u){u=ri(-1,u),u.tag=3,u.payload={element:null};var f=o.value;return u.callback=function(){ah||(ah=!0,Ip=f),lp(i,o)},u}function b_(i,o,u){u=ri(-1,u),u.tag=3;var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var m=o.value;u.payload=function(){return f(m)},u.callback=function(){lp(i,o)}}var v=i.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(u.callback=function(){lp(i,o),typeof f!="function"&&(Hi===null?Hi=new Set([this]):Hi.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})}),u}function k_(i,o,u){var f=i.pingCache;if(f===null){f=i.pingCache=new Gx;var m=new Set;f.set(o,m)}else m=f.get(o),m===void 0&&(m=new Set,f.set(o,m));m.has(u)||(m.add(u),i=aP.bind(null,i,o,u),o.then(i,i))}function N_(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function D_(i,o,u,f,m){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=ri(-1,1),o.tag=2,$i(u,o,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=m,i)}var Kx=Q.ReactCurrentOwner,mn=!1;function on(i,o,u,f){o.child=i===null?Zv(o,null,u,f):fa(o,i.child,u,f)}function V_(i,o,u,f,m){u=u.render;var v=o.ref;return ma(o,m),f=Zf(i,o,u,f,v,m),u=ep(),i!==null&&!mn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,ii(i,o,m)):(ot&&u&&Mf(o),o.flags|=1,on(i,o,f,m),o.child)}function O_(i,o,u,f,m){if(i===null){var v=u.type;return typeof v=="function"&&!bp(v)&&v.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=v,M_(i,o,v,f,m)):(i=fh(u.type,null,f,o,o.mode,m),i.ref=o.ref,i.return=o,o.child=i)}if(v=i.child,(i.lanes&m)===0){var E=v.memoizedProps;if(u=u.compare,u=u!==null?u:Ol,u(E,f)&&i.ref===o.ref)return ii(i,o,m)}return o.flags|=1,i=Qi(v,f),i.ref=o.ref,i.return=o,o.child=i}function M_(i,o,u,f,m){if(i!==null){var v=i.memoizedProps;if(Ol(v,f)&&i.ref===o.ref)if(mn=!1,o.pendingProps=f=v,(i.lanes&m)!==0)(i.flags&131072)!==0&&(mn=!0);else return o.lanes=i.lanes,ii(i,o,m)}return up(i,o,u,f,m)}function L_(i,o,u){var f=o.pendingProps,m=f.children,v=i!==null?i.memoizedState:null;if(f.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Je(_a,Nn),Nn|=u;else{if((u&1073741824)===0)return i=v!==null?v.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,Je(_a,Nn),Nn|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=v!==null?v.baseLanes:u,Je(_a,Nn),Nn|=f}else v!==null?(f=v.baseLanes|u,o.memoizedState=null):f=u,Je(_a,Nn),Nn|=f;return on(i,o,m,u),o.child}function F_(i,o){var u=o.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function up(i,o,u,f,m){var v=pn(u)?Gs:Yt.current;return v=ua(o,v),ma(o,m),u=Zf(i,o,u,f,v,m),f=ep(),i!==null&&!mn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,ii(i,o,m)):(ot&&f&&Mf(o),o.flags|=1,on(i,o,u,m),o.child)}function j_(i,o,u,f,m){if(pn(u)){var v=!0;Fc(o)}else v=!1;if(ma(o,m),o.stateNode===null)nh(i,o),x_(o,u,f),op(o,u,f,m),f=!0;else if(i===null){var E=o.stateNode,V=o.memoizedProps;E.props=V;var F=E.context,G=u.contextType;typeof G=="object"&&G!==null?G=Un(G):(G=pn(u)?Gs:Yt.current,G=ua(o,G));var te=u.getDerivedStateFromProps,re=typeof te=="function"||typeof E.getSnapshotBeforeUpdate=="function";re||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(V!==f||F!==G)&&P_(o,E,f,G),zi=!1;var Z=o.memoizedState;E.state=Z,Gc(o,f,E,m),F=o.memoizedState,V!==f||Z!==F||fn.current||zi?(typeof te=="function"&&(sp(o,u,te,f),F=o.memoizedState),(V=zi||A_(o,u,V,f,Z,F,G))?(re||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(o.flags|=4194308)):(typeof E.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=F),E.props=f,E.state=F,E.context=G,f=V):(typeof E.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{E=o.stateNode,t_(i,o),V=o.memoizedProps,G=o.type===o.elementType?V:tr(o.type,V),E.props=G,re=o.pendingProps,Z=E.context,F=u.contextType,typeof F=="object"&&F!==null?F=Un(F):(F=pn(u)?Gs:Yt.current,F=ua(o,F));var he=u.getDerivedStateFromProps;(te=typeof he=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(V!==re||Z!==F)&&P_(o,E,f,F),zi=!1,Z=o.memoizedState,E.state=Z,Gc(o,f,E,m);var ye=o.memoizedState;V!==re||Z!==ye||fn.current||zi?(typeof he=="function"&&(sp(o,u,he,f),ye=o.memoizedState),(G=zi||A_(o,u,G,f,Z,ye,F)||!1)?(te||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(f,ye,F),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(f,ye,F)),typeof E.componentDidUpdate=="function"&&(o.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof E.componentDidUpdate!="function"||V===i.memoizedProps&&Z===i.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||V===i.memoizedProps&&Z===i.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=ye),E.props=f,E.state=ye,E.context=F,f=G):(typeof E.componentDidUpdate!="function"||V===i.memoizedProps&&Z===i.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||V===i.memoizedProps&&Z===i.memoizedState||(o.flags|=1024),f=!1)}return cp(i,o,u,f,v,m)}function cp(i,o,u,f,m,v){F_(i,o);var E=(o.flags&128)!==0;if(!f&&!E)return m&&Wv(o,u,!1),ii(i,o,v);f=o.stateNode,Kx.current=o;var V=E&&typeof u.getDerivedStateFromError!="function"?null:f.render();return o.flags|=1,i!==null&&E?(o.child=fa(o,i.child,null,v),o.child=fa(o,null,V,v)):on(i,o,V,v),o.memoizedState=f.state,m&&Wv(o,u,!0),o.child}function U_(i){var o=i.stateNode;o.pendingContext?zv(i,o.pendingContext,o.pendingContext!==o.context):o.context&&zv(i,o.context,!1),Gf(i,o.containerInfo)}function B_(i,o,u,f,m){return da(),Uf(m),o.flags|=256,on(i,o,u,f),o.child}var hp={dehydrated:null,treeContext:null,retryLane:0};function dp(i){return{baseLanes:i,cachePool:null,transitions:null}}function z_(i,o,u){var f=o.pendingProps,m=ct.current,v=!1,E=(o.flags&128)!==0,V;if((V=E)||(V=i!==null&&i.memoizedState===null?!1:(m&2)!==0),V?(v=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(m|=1),Je(ct,m&1),i===null)return jf(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(E=f.children,i=f.fallback,v?(f=o.mode,v=o.child,E={mode:"hidden",children:E},(f&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=E):v=ph(E,f,0,null),i=ro(i,f,u,null),v.return=o,i.return=o,v.sibling=i,o.child=v,o.child.memoizedState=dp(u),o.memoizedState=hp,i):fp(o,E));if(m=i.memoizedState,m!==null&&(V=m.dehydrated,V!==null))return Qx(i,o,E,f,V,m,u);if(v){v=f.fallback,E=o.mode,m=i.child,V=m.sibling;var F={mode:"hidden",children:f.children};return(E&1)===0&&o.child!==m?(f=o.child,f.childLanes=0,f.pendingProps=F,o.deletions=null):(f=Qi(m,F),f.subtreeFlags=m.subtreeFlags&14680064),V!==null?v=Qi(V,v):(v=ro(v,E,u,null),v.flags|=2),v.return=o,f.return=o,f.sibling=v,o.child=f,f=v,v=o.child,E=i.child.memoizedState,E=E===null?dp(u):{baseLanes:E.baseLanes|u,cachePool:null,transitions:E.transitions},v.memoizedState=E,v.childLanes=i.childLanes&~u,o.memoizedState=hp,f}return v=i.child,i=v.sibling,f=Qi(v,{mode:"visible",children:f.children}),(o.mode&1)===0&&(f.lanes=u),f.return=o,f.sibling=null,i!==null&&(u=o.deletions,u===null?(o.deletions=[i],o.flags|=16):u.push(i)),o.child=f,o.memoizedState=null,f}function fp(i,o){return o=ph({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function th(i,o,u,f){return f!==null&&Uf(f),fa(o,i.child,null,u),i=fp(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function Qx(i,o,u,f,m,v,E){if(u)return o.flags&256?(o.flags&=-257,f=ap(Error(t(422))),th(i,o,E,f)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(v=f.fallback,m=o.mode,f=ph({mode:"visible",children:f.children},m,0,null),v=ro(v,m,E,null),v.flags|=2,f.return=o,v.return=o,f.sibling=v,o.child=f,(o.mode&1)!==0&&fa(o,i.child,null,E),o.child.memoizedState=dp(E),o.memoizedState=hp,v);if((o.mode&1)===0)return th(i,o,E,null);if(m.data==="$!"){if(f=m.nextSibling&&m.nextSibling.dataset,f)var V=f.dgst;return f=V,v=Error(t(419)),f=ap(v,f,void 0),th(i,o,E,f)}if(V=(E&i.childLanes)!==0,mn||V){if(f=Ft,f!==null){switch(E&-E){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(f.suspendedLanes|E))!==0?0:m,m!==0&&m!==v.retryLane&&(v.retryLane=m,ni(i,m),ir(f,i,m,-1))}return Rp(),f=ap(Error(t(421))),th(i,o,E,f)}return m.data==="$?"?(o.flags|=128,o.child=i.child,o=lP.bind(null,i),m._reactRetry=o,null):(i=v.treeContext,kn=Fi(m.nextSibling),bn=o,ot=!0,er=null,i!==null&&(Fn[jn++]=ei,Fn[jn++]=ti,Fn[jn++]=Ks,ei=i.id,ti=i.overflow,Ks=o),o=fp(o,f.children),o.flags|=4096,o)}function $_(i,o,u){i.lanes|=o;var f=i.alternate;f!==null&&(f.lanes|=o),Wf(i.return,o,u)}function pp(i,o,u,f,m){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:m}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=f,v.tail=u,v.tailMode=m)}function W_(i,o,u){var f=o.pendingProps,m=f.revealOrder,v=f.tail;if(on(i,o,f.children,u),f=ct.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&$_(i,u,o);else if(i.tag===19)$_(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}if(Je(ct,f),(o.mode&1)===0)o.memoizedState=null;else switch(m){case"forwards":for(u=o.child,m=null;u!==null;)i=u.alternate,i!==null&&Kc(i)===null&&(m=u),u=u.sibling;u=m,u===null?(m=o.child,o.child=null):(m=u.sibling,u.sibling=null),pp(o,!1,m,u,v);break;case"backwards":for(u=null,m=o.child,o.child=null;m!==null;){if(i=m.alternate,i!==null&&Kc(i)===null){o.child=m;break}i=m.sibling,m.sibling=u,u=m,m=i}pp(o,!0,u,null,v);break;case"together":pp(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function nh(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function ii(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),Zs|=o.lanes,(u&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(t(153));if(o.child!==null){for(i=o.child,u=Qi(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=Qi(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function Yx(i,o,u){switch(o.tag){case 3:U_(o),da();break;case 5:i_(o);break;case 1:pn(o.type)&&Fc(o);break;case 4:Gf(o,o.stateNode.containerInfo);break;case 10:var f=o.type._context,m=o.memoizedProps.value;Je(Wc,f._currentValue),f._currentValue=m;break;case 13:if(f=o.memoizedState,f!==null)return f.dehydrated!==null?(Je(ct,ct.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?z_(i,o,u):(Je(ct,ct.current&1),i=ii(i,o,u),i!==null?i.sibling:null);Je(ct,ct.current&1);break;case 19:if(f=(u&o.childLanes)!==0,(i.flags&128)!==0){if(f)return W_(i,o,u);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Je(ct,ct.current),f)break;return null;case 22:case 23:return o.lanes=0,L_(i,o,u)}return ii(i,o,u)}var H_,mp,q_,G_;H_=function(i,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},mp=function(){},q_=function(i,o,u,f){var m=i.memoizedProps;if(m!==f){i=o.stateNode,Xs(Pr.current);var v=null;switch(u){case"input":m=Oo(i,m),f=Oo(i,f),v=[];break;case"select":m=ce({},m,{value:void 0}),f=ce({},f,{value:void 0}),v=[];break;case"textarea":m=cl(i,m),f=cl(i,f),v=[];break;default:typeof m.onClick!="function"&&typeof f.onClick=="function"&&(i.onclick=Oc)}Yn(u,f);var E;u=null;for(G in m)if(!f.hasOwnProperty(G)&&m.hasOwnProperty(G)&&m[G]!=null)if(G==="style"){var V=m[G];for(E in V)V.hasOwnProperty(E)&&(u||(u={}),u[E]="")}else G!=="dangerouslySetInnerHTML"&&G!=="children"&&G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(s.hasOwnProperty(G)?v||(v=[]):(v=v||[]).push(G,null));for(G in f){var F=f[G];if(V=m?.[G],f.hasOwnProperty(G)&&F!==V&&(F!=null||V!=null))if(G==="style")if(V){for(E in V)!V.hasOwnProperty(E)||F&&F.hasOwnProperty(E)||(u||(u={}),u[E]="");for(E in F)F.hasOwnProperty(E)&&V[E]!==F[E]&&(u||(u={}),u[E]=F[E])}else u||(v||(v=[]),v.push(G,u)),u=F;else G==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,V=V?V.__html:void 0,F!=null&&V!==F&&(v=v||[]).push(G,F)):G==="children"?typeof F!="string"&&typeof F!="number"||(v=v||[]).push(G,""+F):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&(s.hasOwnProperty(G)?(F!=null&&G==="onScroll"&&nt("scroll",i),v||V===F||(v=[])):(v=v||[]).push(G,F))}u&&(v=v||[]).push("style",u);var G=v;(o.updateQueue=G)&&(o.flags|=4)}},G_=function(i,o,u,f){u!==f&&(o.flags|=4)};function Yl(i,o){if(!ot)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function Jt(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,f=0;if(o)for(var m=i.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags&14680064,f|=m.flags&14680064,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags,f|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=f,i.childLanes=u,o}function Xx(i,o,u){var f=o.pendingProps;switch(Lf(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(o),null;case 1:return pn(o.type)&&Lc(),Jt(o),null;case 3:return f=o.stateNode,ga(),rt(fn),rt(Yt),Yf(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(i===null||i.child===null)&&(zc(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,er!==null&&(Ap(er),er=null))),mp(i,o),Jt(o),null;case 5:Kf(o);var m=Xs(Hl.current);if(u=o.type,i!==null&&o.stateNode!=null)q_(i,o,u,f,m),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!f){if(o.stateNode===null)throw Error(t(166));return Jt(o),null}if(i=Xs(Pr.current),zc(o)){f=o.stateNode,u=o.type;var v=o.memoizedProps;switch(f[xr]=o,f[Ul]=v,i=(o.mode&1)!==0,u){case"dialog":nt("cancel",f),nt("close",f);break;case"iframe":case"object":case"embed":nt("load",f);break;case"video":case"audio":for(m=0;m<Ll.length;m++)nt(Ll[m],f);break;case"source":nt("error",f);break;case"img":case"image":case"link":nt("error",f),nt("load",f);break;case"details":nt("toggle",f);break;case"input":oc(f,v),nt("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!v.multiple},nt("invalid",f);break;case"textarea":hl(f,v),nt("invalid",f)}Yn(u,v),m=null;for(var E in v)if(v.hasOwnProperty(E)){var V=v[E];E==="children"?typeof V=="string"?f.textContent!==V&&(v.suppressHydrationWarning!==!0&&Vc(f.textContent,V,i),m=["children",V]):typeof V=="number"&&f.textContent!==""+V&&(v.suppressHydrationWarning!==!0&&Vc(f.textContent,V,i),m=["children",""+V]):s.hasOwnProperty(E)&&V!=null&&E==="onScroll"&&nt("scroll",f)}switch(u){case"input":dn(f),ul(f,v,!0);break;case"textarea":dn(f),Ei(f);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(f.onclick=Oc)}f=m,o.updateQueue=f,f!==null&&(o.flags|=4)}else{E=m.nodeType===9?m:m.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=dl(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=E.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof f.is=="string"?i=E.createElement(u,{is:f.is}):(i=E.createElement(u),u==="select"&&(E=i,f.multiple?E.multiple=!0:f.size&&(E.size=f.size))):i=E.createElementNS(i,u),i[xr]=o,i[Ul]=f,H_(i,o,!1,!1),o.stateNode=i;e:{switch(E=jo(u,f),u){case"dialog":nt("cancel",i),nt("close",i),m=f;break;case"iframe":case"object":case"embed":nt("load",i),m=f;break;case"video":case"audio":for(m=0;m<Ll.length;m++)nt(Ll[m],i);m=f;break;case"source":nt("error",i),m=f;break;case"img":case"image":case"link":nt("error",i),nt("load",i),m=f;break;case"details":nt("toggle",i),m=f;break;case"input":oc(i,f),m=Oo(i,f),nt("invalid",i);break;case"option":m=f;break;case"select":i._wrapperState={wasMultiple:!!f.multiple},m=ce({},f,{value:void 0}),nt("invalid",i);break;case"textarea":hl(i,f),m=cl(i,f),nt("invalid",i);break;default:m=f}Yn(u,m),V=m;for(v in V)if(V.hasOwnProperty(v)){var F=V[v];v==="style"?Fo(i,F):v==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,F!=null&&lc(i,F)):v==="children"?typeof F=="string"?(u!=="textarea"||F!=="")&&Ns(i,F):typeof F=="number"&&Ns(i,""+F):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(s.hasOwnProperty(v)?F!=null&&v==="onScroll"&&nt("scroll",i):F!=null&&B(i,v,F,E))}switch(u){case"input":dn(i),ul(i,f,!1);break;case"textarea":dn(i),Ei(i);break;case"option":f.value!=null&&i.setAttribute("value",""+Ue(f.value));break;case"select":i.multiple=!!f.multiple,v=f.value,v!=null?Qn(i,!!f.multiple,v,!1):f.defaultValue!=null&&Qn(i,!!f.multiple,f.defaultValue,!0);break;default:typeof m.onClick=="function"&&(i.onclick=Oc)}switch(u){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Jt(o),null;case 6:if(i&&o.stateNode!=null)G_(i,o,i.memoizedProps,f);else{if(typeof f!="string"&&o.stateNode===null)throw Error(t(166));if(u=Xs(Hl.current),Xs(Pr.current),zc(o)){if(f=o.stateNode,u=o.memoizedProps,f[xr]=o,(v=f.nodeValue!==u)&&(i=bn,i!==null))switch(i.tag){case 3:Vc(f.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Vc(f.nodeValue,u,(i.mode&1)!==0)}v&&(o.flags|=4)}else f=(u.nodeType===9?u:u.ownerDocument).createTextNode(f),f[xr]=o,o.stateNode=f}return Jt(o),null;case 13:if(rt(ct),f=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(ot&&kn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Yv(),da(),o.flags|=98560,v=!1;else if(v=zc(o),f!==null&&f.dehydrated!==null){if(i===null){if(!v)throw Error(t(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(t(317));v[xr]=o}else da(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Jt(o),v=!1}else er!==null&&(Ap(er),er=null),v=!0;if(!v)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(f=f!==null,f!==(i!==null&&i.memoizedState!==null)&&f&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(ct.current&1)!==0?Vt===0&&(Vt=3):Rp())),o.updateQueue!==null&&(o.flags|=4),Jt(o),null);case 4:return ga(),mp(i,o),i===null&&Fl(o.stateNode.containerInfo),Jt(o),null;case 10:return $f(o.type._context),Jt(o),null;case 17:return pn(o.type)&&Lc(),Jt(o),null;case 19:if(rt(ct),v=o.memoizedState,v===null)return Jt(o),null;if(f=(o.flags&128)!==0,E=v.rendering,E===null)if(f)Yl(v,!1);else{if(Vt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(E=Kc(i),E!==null){for(o.flags|=128,Yl(v,!1),f=E.updateQueue,f!==null&&(o.updateQueue=f,o.flags|=4),o.subtreeFlags=0,f=u,u=o.child;u!==null;)v=u,i=f,v.flags&=14680066,E=v.alternate,E===null?(v.childLanes=0,v.lanes=i,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=E.childLanes,v.lanes=E.lanes,v.child=E.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=E.memoizedProps,v.memoizedState=E.memoizedState,v.updateQueue=E.updateQueue,v.type=E.type,i=E.dependencies,v.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return Je(ct,ct.current&1|2),o.child}i=i.sibling}v.tail!==null&&tt()>wa&&(o.flags|=128,f=!0,Yl(v,!1),o.lanes=4194304)}else{if(!f)if(i=Kc(E),i!==null){if(o.flags|=128,f=!0,u=i.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),Yl(v,!0),v.tail===null&&v.tailMode==="hidden"&&!E.alternate&&!ot)return Jt(o),null}else 2*tt()-v.renderingStartTime>wa&&u!==1073741824&&(o.flags|=128,f=!0,Yl(v,!1),o.lanes=4194304);v.isBackwards?(E.sibling=o.child,o.child=E):(u=v.last,u!==null?u.sibling=E:o.child=E,v.last=E)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=tt(),o.sibling=null,u=ct.current,Je(ct,f?u&1|2:u&1),o):(Jt(o),null);case 22:case 23:return Pp(),f=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==f&&(o.flags|=8192),f&&(o.mode&1)!==0?(Nn&1073741824)!==0&&(Jt(o),o.subtreeFlags&6&&(o.flags|=8192)):Jt(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function Jx(i,o){switch(Lf(o),o.tag){case 1:return pn(o.type)&&Lc(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return ga(),rt(fn),rt(Yt),Yf(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return Kf(o),null;case 13:if(rt(ct),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(t(340));da()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return rt(ct),null;case 4:return ga(),null;case 10:return $f(o.type._context),null;case 22:case 23:return Pp(),null;case 24:return null;default:return null}}var rh=!1,Zt=!1,Zx=typeof WeakSet=="function"?WeakSet:Set,me=null;function va(i,o){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(f){gt(i,o,f)}else u.current=null}function gp(i,o,u){try{u()}catch(f){gt(i,o,f)}}var K_=!1;function eP(i,o){if(Pf=Qr,i=Av(),wf(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var m=f.anchorOffset,v=f.focusNode;f=f.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break e}var E=0,V=-1,F=-1,G=0,te=0,re=i,Z=null;t:for(;;){for(var he;re!==u||m!==0&&re.nodeType!==3||(V=E+m),re!==v||f!==0&&re.nodeType!==3||(F=E+f),re.nodeType===3&&(E+=re.nodeValue.length),(he=re.firstChild)!==null;)Z=re,re=he;for(;;){if(re===i)break t;if(Z===u&&++G===m&&(V=E),Z===v&&++te===f&&(F=E),(he=re.nextSibling)!==null)break;re=Z,Z=re.parentNode}re=he}u=V===-1||F===-1?null:{start:V,end:F}}else u=null}u=u||{start:0,end:0}}else u=null;for(Rf={focusedElem:i,selectionRange:u},Qr=!1,me=o;me!==null;)if(o=me,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,me=i;else for(;me!==null;){o=me;try{var ye=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(ye!==null){var ve=ye.memoizedProps,_t=ye.memoizedState,W=o.stateNode,z=W.getSnapshotBeforeUpdate(o.elementType===o.type?ve:tr(o.type,ve),_t);W.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var q=o.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(oe){gt(o,o.return,oe)}if(i=o.sibling,i!==null){i.return=o.return,me=i;break}me=o.return}return ye=K_,K_=!1,ye}function Xl(i,o,u){var f=o.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var m=f=f.next;do{if((m.tag&i)===i){var v=m.destroy;m.destroy=void 0,v!==void 0&&gp(o,u,v)}m=m.next}while(m!==f)}}function ih(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&i)===i){var f=u.create;u.destroy=f()}u=u.next}while(u!==o)}}function yp(i){var o=i.ref;if(o!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof o=="function"?o(i):o.current=i}}function Q_(i){var o=i.alternate;o!==null&&(i.alternate=null,Q_(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[xr],delete o[Ul],delete o[Df],delete o[Mx],delete o[Lx])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Y_(i){return i.tag===5||i.tag===3||i.tag===4}function X_(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Y_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function vp(i,o,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(i,o):u.insertBefore(i,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(i,u)):(o=u,o.appendChild(i)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Oc));else if(f!==4&&(i=i.child,i!==null))for(vp(i,o,u),i=i.sibling;i!==null;)vp(i,o,u),i=i.sibling}function _p(i,o,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(f!==4&&(i=i.child,i!==null))for(_p(i,o,u),i=i.sibling;i!==null;)_p(i,o,u),i=i.sibling}var $t=null,nr=!1;function Wi(i,o,u){for(u=u.child;u!==null;)J_(i,o,u),u=u.sibling}function J_(i,o,u){if(Sn&&typeof Sn.onCommitFiberUnmount=="function")try{Sn.onCommitFiberUnmount(Ls,u)}catch{}switch(u.tag){case 5:Zt||va(u,o);case 6:var f=$t,m=nr;$t=null,Wi(i,o,u),$t=f,nr=m,$t!==null&&(nr?(i=$t,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):$t.removeChild(u.stateNode));break;case 18:$t!==null&&(nr?(i=$t,u=u.stateNode,i.nodeType===8?Nf(i.parentNode,u):i.nodeType===1&&Nf(i,u),Vi(i)):Nf($t,u.stateNode));break;case 4:f=$t,m=nr,$t=u.stateNode.containerInfo,nr=!0,Wi(i,o,u),$t=f,nr=m;break;case 0:case 11:case 14:case 15:if(!Zt&&(f=u.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){m=f=f.next;do{var v=m,E=v.destroy;v=v.tag,E!==void 0&&((v&2)!==0||(v&4)!==0)&&gp(u,o,E),m=m.next}while(m!==f)}Wi(i,o,u);break;case 1:if(!Zt&&(va(u,o),f=u.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=u.memoizedProps,f.state=u.memoizedState,f.componentWillUnmount()}catch(V){gt(u,o,V)}Wi(i,o,u);break;case 21:Wi(i,o,u);break;case 22:u.mode&1?(Zt=(f=Zt)||u.memoizedState!==null,Wi(i,o,u),Zt=f):Wi(i,o,u);break;default:Wi(i,o,u)}}function Z_(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new Zx),o.forEach(function(f){var m=uP.bind(null,i,f);u.has(f)||(u.add(f),f.then(m,m))})}}function rr(i,o){var u=o.deletions;if(u!==null)for(var f=0;f<u.length;f++){var m=u[f];try{var v=i,E=o,V=E;e:for(;V!==null;){switch(V.tag){case 5:$t=V.stateNode,nr=!1;break e;case 3:$t=V.stateNode.containerInfo,nr=!0;break e;case 4:$t=V.stateNode.containerInfo,nr=!0;break e}V=V.return}if($t===null)throw Error(t(160));J_(v,E,m),$t=null,nr=!1;var F=m.alternate;F!==null&&(F.return=null),m.return=null}catch(G){gt(m,o,G)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)ew(o,i),o=o.sibling}function ew(i,o){var u=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(rr(o,i),br(i),f&4){try{Xl(3,i,i.return),ih(3,i)}catch(ve){gt(i,i.return,ve)}try{Xl(5,i,i.return)}catch(ve){gt(i,i.return,ve)}}break;case 1:rr(o,i),br(i),f&512&&u!==null&&va(u,u.return);break;case 5:if(rr(o,i),br(i),f&512&&u!==null&&va(u,u.return),i.flags&32){var m=i.stateNode;try{Ns(m,"")}catch(ve){gt(i,i.return,ve)}}if(f&4&&(m=i.stateNode,m!=null)){var v=i.memoizedProps,E=u!==null?u.memoizedProps:v,V=i.type,F=i.updateQueue;if(i.updateQueue=null,F!==null)try{V==="input"&&v.type==="radio"&&v.name!=null&&Mo(m,v),jo(V,E);var G=jo(V,v);for(E=0;E<F.length;E+=2){var te=F[E],re=F[E+1];te==="style"?Fo(m,re):te==="dangerouslySetInnerHTML"?lc(m,re):te==="children"?Ns(m,re):B(m,te,re,G)}switch(V){case"input":ks(m,v);break;case"textarea":ac(m,v);break;case"select":var Z=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!v.multiple;var he=v.value;he!=null?Qn(m,!!v.multiple,he,!1):Z!==!!v.multiple&&(v.defaultValue!=null?Qn(m,!!v.multiple,v.defaultValue,!0):Qn(m,!!v.multiple,v.multiple?[]:"",!1))}m[Ul]=v}catch(ve){gt(i,i.return,ve)}}break;case 6:if(rr(o,i),br(i),f&4){if(i.stateNode===null)throw Error(t(162));m=i.stateNode,v=i.memoizedProps;try{m.nodeValue=v}catch(ve){gt(i,i.return,ve)}}break;case 3:if(rr(o,i),br(i),f&4&&u!==null&&u.memoizedState.isDehydrated)try{Vi(o.containerInfo)}catch(ve){gt(i,i.return,ve)}break;case 4:rr(o,i),br(i);break;case 13:rr(o,i),br(i),m=i.child,m.flags&8192&&(v=m.memoizedState!==null,m.stateNode.isHidden=v,!v||m.alternate!==null&&m.alternate.memoizedState!==null||(Ep=tt())),f&4&&Z_(i);break;case 22:if(te=u!==null&&u.memoizedState!==null,i.mode&1?(Zt=(G=Zt)||te,rr(o,i),Zt=G):rr(o,i),br(i),f&8192){if(G=i.memoizedState!==null,(i.stateNode.isHidden=G)&&!te&&(i.mode&1)!==0)for(me=i,te=i.child;te!==null;){for(re=me=te;me!==null;){switch(Z=me,he=Z.child,Z.tag){case 0:case 11:case 14:case 15:Xl(4,Z,Z.return);break;case 1:va(Z,Z.return);var ye=Z.stateNode;if(typeof ye.componentWillUnmount=="function"){f=Z,u=Z.return;try{o=f,ye.props=o.memoizedProps,ye.state=o.memoizedState,ye.componentWillUnmount()}catch(ve){gt(f,u,ve)}}break;case 5:va(Z,Z.return);break;case 22:if(Z.memoizedState!==null){rw(re);continue}}he!==null?(he.return=Z,me=he):rw(re)}te=te.sibling}e:for(te=null,re=i;;){if(re.tag===5){if(te===null){te=re;try{m=re.stateNode,G?(v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(V=re.stateNode,F=re.memoizedProps.style,E=F!=null&&F.hasOwnProperty("display")?F.display:null,V.style.display=Ci("display",E))}catch(ve){gt(i,i.return,ve)}}}else if(re.tag===6){if(te===null)try{re.stateNode.nodeValue=G?"":re.memoizedProps}catch(ve){gt(i,i.return,ve)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===i)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===i)break e;for(;re.sibling===null;){if(re.return===null||re.return===i)break e;te===re&&(te=null),re=re.return}te===re&&(te=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:rr(o,i),br(i),f&4&&Z_(i);break;case 21:break;default:rr(o,i),br(i)}}function br(i){var o=i.flags;if(o&2){try{e:{for(var u=i.return;u!==null;){if(Y_(u)){var f=u;break e}u=u.return}throw Error(t(160))}switch(f.tag){case 5:var m=f.stateNode;f.flags&32&&(Ns(m,""),f.flags&=-33);var v=X_(i);_p(i,v,m);break;case 3:case 4:var E=f.stateNode.containerInfo,V=X_(i);vp(i,V,E);break;default:throw Error(t(161))}}catch(F){gt(i,i.return,F)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function tP(i,o,u){me=i,tw(i)}function tw(i,o,u){for(var f=(i.mode&1)!==0;me!==null;){var m=me,v=m.child;if(m.tag===22&&f){var E=m.memoizedState!==null||rh;if(!E){var V=m.alternate,F=V!==null&&V.memoizedState!==null||Zt;V=rh;var G=Zt;if(rh=E,(Zt=F)&&!G)for(me=m;me!==null;)E=me,F=E.child,E.tag===22&&E.memoizedState!==null?iw(m):F!==null?(F.return=E,me=F):iw(m);for(;v!==null;)me=v,tw(v),v=v.sibling;me=m,rh=V,Zt=G}nw(i)}else(m.subtreeFlags&8772)!==0&&v!==null?(v.return=m,me=v):nw(i)}}function nw(i){for(;me!==null;){var o=me;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Zt||ih(5,o);break;case 1:var f=o.stateNode;if(o.flags&4&&!Zt)if(u===null)f.componentDidMount();else{var m=o.elementType===o.type?u.memoizedProps:tr(o.type,u.memoizedProps);f.componentDidUpdate(m,u.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var v=o.updateQueue;v!==null&&r_(o,v,f);break;case 3:var E=o.updateQueue;if(E!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}r_(o,E,u)}break;case 5:var V=o.stateNode;if(u===null&&o.flags&4){u=V;var F=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":F.autoFocus&&u.focus();break;case"img":F.src&&(u.src=F.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var G=o.alternate;if(G!==null){var te=G.memoizedState;if(te!==null){var re=te.dehydrated;re!==null&&Vi(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Zt||o.flags&512&&yp(o)}catch(Z){gt(o,o.return,Z)}}if(o===i){me=null;break}if(u=o.sibling,u!==null){u.return=o.return,me=u;break}me=o.return}}function rw(i){for(;me!==null;){var o=me;if(o===i){me=null;break}var u=o.sibling;if(u!==null){u.return=o.return,me=u;break}me=o.return}}function iw(i){for(;me!==null;){var o=me;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{ih(4,o)}catch(F){gt(o,u,F)}break;case 1:var f=o.stateNode;if(typeof f.componentDidMount=="function"){var m=o.return;try{f.componentDidMount()}catch(F){gt(o,m,F)}}var v=o.return;try{yp(o)}catch(F){gt(o,v,F)}break;case 5:var E=o.return;try{yp(o)}catch(F){gt(o,E,F)}}}catch(F){gt(o,o.return,F)}if(o===i){me=null;break}var V=o.sibling;if(V!==null){V.return=o.return,me=V;break}me=o.return}}var nP=Math.ceil,sh=Q.ReactCurrentDispatcher,wp=Q.ReactCurrentOwner,zn=Q.ReactCurrentBatchConfig,We=0,Ft=null,At=null,Wt=0,Nn=0,_a=ji(0),Vt=0,Jl=null,Zs=0,oh=0,Tp=0,Zl=null,gn=null,Ep=0,wa=1/0,si=null,ah=!1,Ip=null,Hi=null,lh=!1,qi=null,uh=0,eu=0,Sp=null,ch=-1,hh=0;function an(){return(We&6)!==0?tt():ch!==-1?ch:ch=tt()}function Gi(i){return(i.mode&1)===0?1:(We&2)!==0&&Wt!==0?Wt&-Wt:jx.transition!==null?(hh===0&&(hh=Tl()),hh):(i=Be,i!==0||(i=window.event,i=i===void 0?16:Qo(i.type)),i)}function ir(i,o,u,f){if(50<eu)throw eu=0,Sp=null,Error(t(185));Bs(i,u,f),((We&2)===0||i!==Ft)&&(i===Ft&&((We&2)===0&&(oh|=u),Vt===4&&Ki(i,Wt)),yn(i,f),u===1&&We===0&&(o.mode&1)===0&&(wa=tt()+500,jc&&Bi()))}function yn(i,o){var u=i.callbackNode;Us(i,o);var f=qr(i,i===Ft?Wt:0);if(f===0)u!==null&&zo(u),i.callbackNode=null,i.callbackPriority=0;else if(o=f&-f,i.callbackPriority!==o){if(u!=null&&zo(u),o===1)i.tag===0?Fx(ow.bind(null,i)):Hv(ow.bind(null,i)),Vx(function(){(We&6)===0&&Bi()}),u=null;else{switch(yr(f)){case 1:u=$o;break;case 4:u=vl;break;case 16:u=Ms;break;case 536870912:u=Wo;break;default:u=Ms}u=pw(u,sw.bind(null,i))}i.callbackPriority=o,i.callbackNode=u}}function sw(i,o){if(ch=-1,hh=0,(We&6)!==0)throw Error(t(327));var u=i.callbackNode;if(Ta()&&i.callbackNode!==u)return null;var f=qr(i,i===Ft?Wt:0);if(f===0)return null;if((f&30)!==0||(f&i.expiredLanes)!==0||o)o=dh(i,f);else{o=f;var m=We;We|=2;var v=lw();(Ft!==i||Wt!==o)&&(si=null,wa=tt()+500,to(i,o));do try{sP();break}catch(V){aw(i,V)}while(!0);zf(),sh.current=v,We=m,At!==null?o=0:(Ft=null,Wt=0,o=Vt)}if(o!==0){if(o===2&&(m=wl(i),m!==0&&(f=m,o=Cp(i,m))),o===1)throw u=Jl,to(i,0),Ki(i,f),yn(i,tt()),u;if(o===6)Ki(i,f);else{if(m=i.current.alternate,(f&30)===0&&!rP(m)&&(o=dh(i,f),o===2&&(v=wl(i),v!==0&&(f=v,o=Cp(i,v))),o===1))throw u=Jl,to(i,0),Ki(i,f),yn(i,tt()),u;switch(i.finishedWork=m,i.finishedLanes=f,o){case 0:case 1:throw Error(t(345));case 2:no(i,gn,si);break;case 3:if(Ki(i,f),(f&130023424)===f&&(o=Ep+500-tt(),10<o)){if(qr(i,0)!==0)break;if(m=i.suspendedLanes,(m&f)!==f){an(),i.pingedLanes|=i.suspendedLanes&m;break}i.timeoutHandle=kf(no.bind(null,i,gn,si),o);break}no(i,gn,si);break;case 4:if(Ki(i,f),(f&4194240)===f)break;for(o=i.eventTimes,m=-1;0<f;){var E=31-Cn(f);v=1<<E,E=o[E],E>m&&(m=E),f&=~v}if(f=m,f=tt()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*nP(f/1960))-f,10<f){i.timeoutHandle=kf(no.bind(null,i,gn,si),f);break}no(i,gn,si);break;case 5:no(i,gn,si);break;default:throw Error(t(329))}}}return yn(i,tt()),i.callbackNode===u?sw.bind(null,i):null}function Cp(i,o){var u=Zl;return i.current.memoizedState.isDehydrated&&(to(i,o).flags|=256),i=dh(i,o),i!==2&&(o=gn,gn=u,o!==null&&Ap(o)),i}function Ap(i){gn===null?gn=i:gn.push.apply(gn,i)}function rP(i){for(var o=i;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var f=0;f<u.length;f++){var m=u[f],v=m.getSnapshot;m=m.value;try{if(!Zn(v(),m))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ki(i,o){for(o&=~Tp,o&=~oh,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var u=31-Cn(o),f=1<<u;i[u]=-1,o&=~f}}function ow(i){if((We&6)!==0)throw Error(t(327));Ta();var o=qr(i,0);if((o&1)===0)return yn(i,tt()),null;var u=dh(i,o);if(i.tag!==0&&u===2){var f=wl(i);f!==0&&(o=f,u=Cp(i,f))}if(u===1)throw u=Jl,to(i,0),Ki(i,o),yn(i,tt()),u;if(u===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,no(i,gn,si),yn(i,tt()),null}function xp(i,o){var u=We;We|=1;try{return i(o)}finally{We=u,We===0&&(wa=tt()+500,jc&&Bi())}}function eo(i){qi!==null&&qi.tag===0&&(We&6)===0&&Ta();var o=We;We|=1;var u=zn.transition,f=Be;try{if(zn.transition=null,Be=1,i)return i()}finally{Be=f,zn.transition=u,We=o,(We&6)===0&&Bi()}}function Pp(){Nn=_a.current,rt(_a)}function to(i,o){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,Dx(u)),At!==null)for(u=At.return;u!==null;){var f=u;switch(Lf(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&Lc();break;case 3:ga(),rt(fn),rt(Yt),Yf();break;case 5:Kf(f);break;case 4:ga();break;case 13:rt(ct);break;case 19:rt(ct);break;case 10:$f(f.type._context);break;case 22:case 23:Pp()}u=u.return}if(Ft=i,At=i=Qi(i.current,null),Wt=Nn=o,Vt=0,Jl=null,Tp=oh=Zs=0,gn=Zl=null,Ys!==null){for(o=0;o<Ys.length;o++)if(u=Ys[o],f=u.interleaved,f!==null){u.interleaved=null;var m=f.next,v=u.pending;if(v!==null){var E=v.next;v.next=m,f.next=E}u.pending=f}Ys=null}return i}function aw(i,o){do{var u=At;try{if(zf(),Qc.current=Zc,Yc){for(var f=ht.memoizedState;f!==null;){var m=f.queue;m!==null&&(m.pending=null),f=f.next}Yc=!1}if(Js=0,Lt=Dt=ht=null,ql=!1,Gl=0,wp.current=null,u===null||u.return===null){Vt=1,Jl=o,At=null;break}e:{var v=i,E=u.return,V=u,F=o;if(o=Wt,V.flags|=32768,F!==null&&typeof F=="object"&&typeof F.then=="function"){var G=F,te=V,re=te.tag;if((te.mode&1)===0&&(re===0||re===11||re===15)){var Z=te.alternate;Z?(te.updateQueue=Z.updateQueue,te.memoizedState=Z.memoizedState,te.lanes=Z.lanes):(te.updateQueue=null,te.memoizedState=null)}var he=N_(E);if(he!==null){he.flags&=-257,D_(he,E,V,v,o),he.mode&1&&k_(v,G,o),o=he,F=G;var ye=o.updateQueue;if(ye===null){var ve=new Set;ve.add(F),o.updateQueue=ve}else ye.add(F);break e}else{if((o&1)===0){k_(v,G,o),Rp();break e}F=Error(t(426))}}else if(ot&&V.mode&1){var _t=N_(E);if(_t!==null){(_t.flags&65536)===0&&(_t.flags|=256),D_(_t,E,V,v,o),Uf(ya(F,V));break e}}v=F=ya(F,V),Vt!==4&&(Vt=2),Zl===null?Zl=[v]:Zl.push(v),v=E;do{switch(v.tag){case 3:v.flags|=65536,o&=-o,v.lanes|=o;var W=R_(v,F,o);n_(v,W);break e;case 1:V=F;var z=v.type,q=v.stateNode;if((v.flags&128)===0&&(typeof z.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(Hi===null||!Hi.has(q)))){v.flags|=65536,o&=-o,v.lanes|=o;var oe=b_(v,V,o);n_(v,oe);break e}}v=v.return}while(v!==null)}cw(u)}catch(_e){o=_e,At===u&&u!==null&&(At=u=u.return);continue}break}while(!0)}function lw(){var i=sh.current;return sh.current=Zc,i===null?Zc:i}function Rp(){(Vt===0||Vt===3||Vt===2)&&(Vt=4),Ft===null||(Zs&268435455)===0&&(oh&268435455)===0||Ki(Ft,Wt)}function dh(i,o){var u=We;We|=2;var f=lw();(Ft!==i||Wt!==o)&&(si=null,to(i,o));do try{iP();break}catch(m){aw(i,m)}while(!0);if(zf(),We=u,sh.current=f,At!==null)throw Error(t(261));return Ft=null,Wt=0,Vt}function iP(){for(;At!==null;)uw(At)}function sP(){for(;At!==null&&!Os();)uw(At)}function uw(i){var o=fw(i.alternate,i,Nn);i.memoizedProps=i.pendingProps,o===null?cw(i):At=o,wp.current=null}function cw(i){var o=i;do{var u=o.alternate;if(i=o.return,(o.flags&32768)===0){if(u=Xx(u,o,Nn),u!==null){At=u;return}}else{if(u=Jx(u,o),u!==null){u.flags&=32767,At=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Vt=6,At=null;return}}if(o=o.sibling,o!==null){At=o;return}At=o=i}while(o!==null);Vt===0&&(Vt=5)}function no(i,o,u){var f=Be,m=zn.transition;try{zn.transition=null,Be=1,oP(i,o,u,f)}finally{zn.transition=m,Be=f}return null}function oP(i,o,u,f){do Ta();while(qi!==null);if((We&6)!==0)throw Error(t(327));u=i.finishedWork;var m=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var v=u.lanes|u.childLanes;if(mf(i,v),i===Ft&&(At=Ft=null,Wt=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||lh||(lh=!0,pw(Ms,function(){return Ta(),null})),v=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||v){v=zn.transition,zn.transition=null;var E=Be;Be=1;var V=We;We|=4,wp.current=null,eP(i,u),ew(u,i),Ax(Rf),Qr=!!Pf,Rf=Pf=null,i.current=u,tP(u),Hr(),We=V,Be=E,zn.transition=v}else i.current=u;if(lh&&(lh=!1,qi=i,uh=m),v=i.pendingLanes,v===0&&(Hi=null),_c(u.stateNode),yn(i,tt()),o!==null)for(f=i.onRecoverableError,u=0;u<o.length;u++)m=o[u],f(m.value,{componentStack:m.stack,digest:m.digest});if(ah)throw ah=!1,i=Ip,Ip=null,i;return(uh&1)!==0&&i.tag!==0&&Ta(),v=i.pendingLanes,(v&1)!==0?i===Sp?eu++:(eu=0,Sp=i):eu=0,Bi(),null}function Ta(){if(qi!==null){var i=yr(uh),o=zn.transition,u=Be;try{if(zn.transition=null,Be=16>i?16:i,qi===null)var f=!1;else{if(i=qi,qi=null,uh=0,(We&6)!==0)throw Error(t(331));var m=We;for(We|=4,me=i.current;me!==null;){var v=me,E=v.child;if((me.flags&16)!==0){var V=v.deletions;if(V!==null){for(var F=0;F<V.length;F++){var G=V[F];for(me=G;me!==null;){var te=me;switch(te.tag){case 0:case 11:case 15:Xl(8,te,v)}var re=te.child;if(re!==null)re.return=te,me=re;else for(;me!==null;){te=me;var Z=te.sibling,he=te.return;if(Q_(te),te===G){me=null;break}if(Z!==null){Z.return=he,me=Z;break}me=he}}}var ye=v.alternate;if(ye!==null){var ve=ye.child;if(ve!==null){ye.child=null;do{var _t=ve.sibling;ve.sibling=null,ve=_t}while(ve!==null)}}me=v}}if((v.subtreeFlags&2064)!==0&&E!==null)E.return=v,me=E;else e:for(;me!==null;){if(v=me,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:Xl(9,v,v.return)}var W=v.sibling;if(W!==null){W.return=v.return,me=W;break e}me=v.return}}var z=i.current;for(me=z;me!==null;){E=me;var q=E.child;if((E.subtreeFlags&2064)!==0&&q!==null)q.return=E,me=q;else e:for(E=z;me!==null;){if(V=me,(V.flags&2048)!==0)try{switch(V.tag){case 0:case 11:case 15:ih(9,V)}}catch(_e){gt(V,V.return,_e)}if(V===E){me=null;break e}var oe=V.sibling;if(oe!==null){oe.return=V.return,me=oe;break e}me=V.return}}if(We=m,Bi(),Sn&&typeof Sn.onPostCommitFiberRoot=="function")try{Sn.onPostCommitFiberRoot(Ls,i)}catch{}f=!0}return f}finally{Be=u,zn.transition=o}}return!1}function hw(i,o,u){o=ya(u,o),o=R_(i,o,1),i=$i(i,o,1),o=an(),i!==null&&(Bs(i,1,o),yn(i,o))}function gt(i,o,u){if(i.tag===3)hw(i,i,u);else for(;o!==null;){if(o.tag===3){hw(o,i,u);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Hi===null||!Hi.has(f))){i=ya(u,i),i=b_(o,i,1),o=$i(o,i,1),i=an(),o!==null&&(Bs(o,1,i),yn(o,i));break}}o=o.return}}function aP(i,o,u){var f=i.pingCache;f!==null&&f.delete(o),o=an(),i.pingedLanes|=i.suspendedLanes&u,Ft===i&&(Wt&u)===u&&(Vt===4||Vt===3&&(Wt&130023424)===Wt&&500>tt()-Ep?to(i,0):Tp|=u),yn(i,o)}function dw(i,o){o===0&&((i.mode&1)===0?o=1:(o=ki,ki<<=1,(ki&130023424)===0&&(ki=4194304)));var u=an();i=ni(i,o),i!==null&&(Bs(i,o,u),yn(i,u))}function lP(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),dw(i,u)}function uP(i,o){var u=0;switch(i.tag){case 13:var f=i.stateNode,m=i.memoizedState;m!==null&&(u=m.retryLane);break;case 19:f=i.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(o),dw(i,u)}var fw;fw=function(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps||fn.current)mn=!0;else{if((i.lanes&u)===0&&(o.flags&128)===0)return mn=!1,Yx(i,o,u);mn=(i.flags&131072)!==0}else mn=!1,ot&&(o.flags&1048576)!==0&&qv(o,Bc,o.index);switch(o.lanes=0,o.tag){case 2:var f=o.type;nh(i,o),i=o.pendingProps;var m=ua(o,Yt.current);ma(o,u),m=Zf(null,o,f,i,m,u);var v=ep();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,pn(f)?(v=!0,Fc(o)):v=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,qf(o),m.updater=eh,o.stateNode=m,m._reactInternals=o,op(o,f,i,u),o=cp(null,o,f,!0,v,u)):(o.tag=0,ot&&v&&Mf(o),on(null,o,m,u),o=o.child),o;case 16:f=o.elementType;e:{switch(nh(i,o),i=o.pendingProps,m=f._init,f=m(f._payload),o.type=f,m=o.tag=hP(f),i=tr(f,i),m){case 0:o=up(null,o,f,i,u);break e;case 1:o=j_(null,o,f,i,u);break e;case 11:o=V_(null,o,f,i,u);break e;case 14:o=O_(null,o,f,tr(f.type,i),u);break e}throw Error(t(306,f,""))}return o;case 0:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:tr(f,m),up(i,o,f,m,u);case 1:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:tr(f,m),j_(i,o,f,m,u);case 3:e:{if(U_(o),i===null)throw Error(t(387));f=o.pendingProps,v=o.memoizedState,m=v.element,t_(i,o),Gc(o,f,null,u);var E=o.memoizedState;if(f=E.element,v.isDehydrated)if(v={element:f,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){m=ya(Error(t(423)),o),o=B_(i,o,f,u,m);break e}else if(f!==m){m=ya(Error(t(424)),o),o=B_(i,o,f,u,m);break e}else for(kn=Fi(o.stateNode.containerInfo.firstChild),bn=o,ot=!0,er=null,u=Zv(o,null,f,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(da(),f===m){o=ii(i,o,u);break e}on(i,o,f,u)}o=o.child}return o;case 5:return i_(o),i===null&&jf(o),f=o.type,m=o.pendingProps,v=i!==null?i.memoizedProps:null,E=m.children,bf(f,m)?E=null:v!==null&&bf(f,v)&&(o.flags|=32),F_(i,o),on(i,o,E,u),o.child;case 6:return i===null&&jf(o),null;case 13:return z_(i,o,u);case 4:return Gf(o,o.stateNode.containerInfo),f=o.pendingProps,i===null?o.child=fa(o,null,f,u):on(i,o,f,u),o.child;case 11:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:tr(f,m),V_(i,o,f,m,u);case 7:return on(i,o,o.pendingProps,u),o.child;case 8:return on(i,o,o.pendingProps.children,u),o.child;case 12:return on(i,o,o.pendingProps.children,u),o.child;case 10:e:{if(f=o.type._context,m=o.pendingProps,v=o.memoizedProps,E=m.value,Je(Wc,f._currentValue),f._currentValue=E,v!==null)if(Zn(v.value,E)){if(v.children===m.children&&!fn.current){o=ii(i,o,u);break e}}else for(v=o.child,v!==null&&(v.return=o);v!==null;){var V=v.dependencies;if(V!==null){E=v.child;for(var F=V.firstContext;F!==null;){if(F.context===f){if(v.tag===1){F=ri(-1,u&-u),F.tag=2;var G=v.updateQueue;if(G!==null){G=G.shared;var te=G.pending;te===null?F.next=F:(F.next=te.next,te.next=F),G.pending=F}}v.lanes|=u,F=v.alternate,F!==null&&(F.lanes|=u),Wf(v.return,u,o),V.lanes|=u;break}F=F.next}}else if(v.tag===10)E=v.type===o.type?null:v.child;else if(v.tag===18){if(E=v.return,E===null)throw Error(t(341));E.lanes|=u,V=E.alternate,V!==null&&(V.lanes|=u),Wf(E,u,o),E=v.sibling}else E=v.child;if(E!==null)E.return=v;else for(E=v;E!==null;){if(E===o){E=null;break}if(v=E.sibling,v!==null){v.return=E.return,E=v;break}E=E.return}v=E}on(i,o,m.children,u),o=o.child}return o;case 9:return m=o.type,f=o.pendingProps.children,ma(o,u),m=Un(m),f=f(m),o.flags|=1,on(i,o,f,u),o.child;case 14:return f=o.type,m=tr(f,o.pendingProps),m=tr(f.type,m),O_(i,o,f,m,u);case 15:return M_(i,o,o.type,o.pendingProps,u);case 17:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:tr(f,m),nh(i,o),o.tag=1,pn(f)?(i=!0,Fc(o)):i=!1,ma(o,u),x_(o,f,m),op(o,f,m,u),cp(null,o,f,!0,i,u);case 19:return W_(i,o,u);case 22:return L_(i,o,u)}throw Error(t(156,o.tag))};function pw(i,o){return yl(i,o)}function cP(i,o,u,f){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $n(i,o,u,f){return new cP(i,o,u,f)}function bp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function hP(i){if(typeof i=="function")return bp(i)?1:0;if(i!=null){if(i=i.$$typeof,i===L)return 11;if(i===se)return 14}return 2}function Qi(i,o){var u=i.alternate;return u===null?(u=$n(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function fh(i,o,u,f,m,v){var E=2;if(f=i,typeof i=="function")bp(i)&&(E=1);else if(typeof i=="string")E=5;else e:switch(i){case N:return ro(u.children,m,v,o);case x:E=8,m|=8;break;case b:return i=$n(12,u,o,m|2),i.elementType=b,i.lanes=v,i;case D:return i=$n(13,u,o,m),i.elementType=D,i.lanes=v,i;case ae:return i=$n(19,u,o,m),i.elementType=ae,i.lanes=v,i;case Ie:return ph(u,m,v,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case M:E=10;break e;case O:E=9;break e;case L:E=11;break e;case se:E=14;break e;case pe:E=16,f=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return o=$n(E,u,o,m),o.elementType=i,o.type=f,o.lanes=v,o}function ro(i,o,u,f){return i=$n(7,i,f,o),i.lanes=u,i}function ph(i,o,u,f){return i=$n(22,i,f,o),i.elementType=Ie,i.lanes=u,i.stateNode={isHidden:!1},i}function kp(i,o,u){return i=$n(6,i,null,o),i.lanes=u,i}function Np(i,o,u){return o=$n(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function dP(i,o,u,f,m){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=El(0),this.expirationTimes=El(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=El(0),this.identifierPrefix=f,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Dp(i,o,u,f,m,v,E,V,F){return i=new dP(i,o,u,V,F),o===1?(o=1,v===!0&&(o|=8)):o=0,v=$n(3,null,null,o),i.current=v,v.stateNode=i,v.memoizedState={element:f,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},qf(v),i}function fP(i,o,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ie,key:f==null?null:""+f,children:i,containerInfo:o,implementation:u}}function mw(i){if(!i)return Ui;i=i._reactInternals;e:{if(Xn(i)!==i||i.tag!==1)throw Error(t(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(pn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(i.tag===1){var u=i.type;if(pn(u))return $v(i,u,o)}return o}function gw(i,o,u,f,m,v,E,V,F){return i=Dp(u,f,!0,i,m,v,E,V,F),i.context=mw(null),u=i.current,f=an(),m=Gi(u),v=ri(f,m),v.callback=o??null,$i(u,v,m),i.current.lanes=m,Bs(i,m,f),yn(i,f),i}function mh(i,o,u,f){var m=o.current,v=an(),E=Gi(m);return u=mw(u),o.context===null?o.context=u:o.pendingContext=u,o=ri(v,E),o.payload={element:i},f=f===void 0?null:f,f!==null&&(o.callback=f),i=$i(m,o,E),i!==null&&(ir(i,m,E,v),qc(i,m,E)),E}function gh(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function yw(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function Vp(i,o){yw(i,o),(i=i.alternate)&&yw(i,o)}function pP(){return null}var vw=typeof reportError=="function"?reportError:function(i){console.error(i)};function Op(i){this._internalRoot=i}yh.prototype.render=Op.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(t(409));mh(i,o,null,null)},yh.prototype.unmount=Op.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;eo(function(){mh(null,i,null,null)}),o[Jr]=null}};function yh(i){this._internalRoot=i}yh.prototype.unstable_scheduleHydration=function(i){if(i){var o=Al();i={blockedOn:null,target:i,priority:o};for(var u=0;u<An.length&&o!==0&&o<An[u].priority;u++);An.splice(u,0,i),u===0&&Go(i)}};function Mp(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function vh(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function _w(){}function mP(i,o,u,f,m){if(m){if(typeof f=="function"){var v=f;f=function(){var G=gh(E);v.call(G)}}var E=gw(o,f,i,0,null,!1,!1,"",_w);return i._reactRootContainer=E,i[Jr]=E.current,Fl(i.nodeType===8?i.parentNode:i),eo(),E}for(;m=i.lastChild;)i.removeChild(m);if(typeof f=="function"){var V=f;f=function(){var G=gh(F);V.call(G)}}var F=Dp(i,0,!1,null,null,!1,!1,"",_w);return i._reactRootContainer=F,i[Jr]=F.current,Fl(i.nodeType===8?i.parentNode:i),eo(function(){mh(o,F,u,f)}),F}function _h(i,o,u,f,m){var v=u._reactRootContainer;if(v){var E=v;if(typeof m=="function"){var V=m;m=function(){var F=gh(E);V.call(F)}}mh(o,E,i,m)}else E=mP(u,o,i,m,f);return gh(E)}Sl=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var u=Ge(o.pendingLanes);u!==0&&(Il(o,u|1),yn(o,tt()),(We&6)===0&&(wa=tt()+500,Bi()))}break;case 13:eo(function(){var f=ni(i,1);if(f!==null){var m=an();ir(f,i,1,m)}}),Vp(i,1)}},Ho=function(i){if(i.tag===13){var o=ni(i,134217728);if(o!==null){var u=an();ir(o,i,134217728,u)}Vp(i,134217728)}},Cl=function(i){if(i.tag===13){var o=Gi(i),u=ni(i,o);if(u!==null){var f=an();ir(u,i,o,f)}Vp(i,o)}},Al=function(){return Be},xl=function(i,o){var u=Be;try{return Be=i,o()}finally{Be=u}},zr=function(i,o,u){switch(o){case"input":if(ks(i,u),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var f=u[o];if(f!==i&&f.form===i.form){var m=Mc(f);if(!m)throw Error(t(90));Vo(f),ks(f,m)}}}break;case"textarea":ac(i,u);break;case"select":o=u.value,o!=null&&Qn(i,!!u.multiple,o,!1)}},cc=xp,hc=eo;var gP={usingClientEntryPoint:!1,Events:[Bl,aa,Mc,xi,Pi,xp]},tu={findFiberByHostInstance:qs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yP={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Q.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=vc(i),i===null?null:i.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||pP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wh.isDisabled&&wh.supportsFiber)try{Ls=wh.inject(yP),Sn=wh}catch{}}return vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gP,vn.createPortal=function(i,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mp(o))throw Error(t(200));return fP(i,o,null,u)},vn.createRoot=function(i,o){if(!Mp(i))throw Error(t(299));var u=!1,f="",m=vw;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=Dp(i,1,!1,null,null,u,!1,f,m),i[Jr]=o.current,Fl(i.nodeType===8?i.parentNode:i),new Op(o)},vn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=vc(o),i=i===null?null:i.stateNode,i},vn.flushSync=function(i){return eo(i)},vn.hydrate=function(i,o,u){if(!vh(o))throw Error(t(200));return _h(null,i,o,!0,u)},vn.hydrateRoot=function(i,o,u){if(!Mp(i))throw Error(t(405));var f=u!=null&&u.hydratedSources||null,m=!1,v="",E=vw;if(u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onRecoverableError!==void 0&&(E=u.onRecoverableError)),o=gw(o,null,i,1,u??null,m,!1,v,E),i[Jr]=o.current,Fl(i),f)for(i=0;i<f.length;i++)u=f[i],m=u._getVersion,m=m(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,m]:o.mutableSourceEagerHydrationData.push(u,m);return new yh(o)},vn.render=function(i,o,u){if(!vh(o))throw Error(t(200));return _h(null,i,o,!1,u)},vn.unmountComponentAtNode=function(i){if(!vh(i))throw Error(t(40));return i._reactRootContainer?(eo(function(){_h(null,null,i,!1,function(){i._reactRootContainer=null,i[Jr]=null})}),!0):!1},vn.unstable_batchedUpdates=xp,vn.unstable_renderSubtreeIntoContainer=function(i,o,u,f){if(!vh(u))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return _h(i,o,u,!1,f)},vn.version="18.3.1-next-f1338f8080-20240426",vn}var xw;function qE(){if(xw)return jp.exports;xw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),jp.exports=CP(),jp.exports}var Pw;function AP(){if(Pw)return Th;Pw=1;var n=qE();return Th.createRoot=n.createRoot,Th.hydrateRoot=n.hydrateRoot,Th}var xP=AP();const PP=Co(xP);var Vg=qE();const RP=Co(Vg);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Au(){return Au=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Au.apply(this,arguments)}var ss;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(ss||(ss={}));const Rw="popstate";function bP(n){n===void 0&&(n={});function e(r,s){let{pathname:a,search:l,hash:c}=r.location;return Pm("",{pathname:a,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:Yh(s)}return NP(e,t,null,n)}function Et(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function GE(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function kP(){return Math.random().toString(36).substr(2,8)}function bw(n,e){return{usr:n.state,key:n.key,idx:e}}function Pm(n,e,t,r){return t===void 0&&(t=null),Au({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Za(e):e,{state:t,key:e&&e.key||r||kP()})}function Yh(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Za(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function NP(n,e,t,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,l=s.history,c=ss.Pop,d=null,p=g();p==null&&(p=0,l.replaceState(Au({},l.state,{idx:p}),""));function g(){return(l.state||{idx:null}).idx}function y(){c=ss.Pop;let A=g(),$=A==null?null:A-p;p=A,d&&d({action:c,location:R.location,delta:$})}function w(A,$){c=ss.Push;let U=Pm(R.location,A,$);p=g()+1;let B=bw(U,p),Q=R.createHref(U);try{l.pushState(B,"",Q)}catch(ee){if(ee instanceof DOMException&&ee.name==="DataCloneError")throw ee;s.location.assign(Q)}a&&d&&d({action:c,location:R.location,delta:1})}function I(A,$){c=ss.Replace;let U=Pm(R.location,A,$);p=g();let B=bw(U,p),Q=R.createHref(U);l.replaceState(B,"",Q),a&&d&&d({action:c,location:R.location,delta:0})}function k(A){let $=s.location.origin!=="null"?s.location.origin:s.location.href,U=typeof A=="string"?A:Yh(A);return U=U.replace(/ $/,"%20"),Et($,"No window.location.(origin|href) available to create URL for href: "+U),new URL(U,$)}let R={get action(){return c},get location(){return n(s,l)},listen(A){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(Rw,y),d=A,()=>{s.removeEventListener(Rw,y),d=null}},createHref(A){return e(s,A)},createURL:k,encodeLocation(A){let $=k(A);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:w,replace:I,go(A){return l.go(A)}};return R}var kw;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(kw||(kw={}));function DP(n,e,t){return t===void 0&&(t="/"),VP(n,e,t)}function VP(n,e,t,r){let s=typeof e=="string"?Za(e):e,a=Og(s.pathname||"/",t);if(a==null)return null;let l=KE(n);OP(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let p=GP(a);c=WP(l[d],p)}return c}function KE(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let s=(a,l,c)=>{let d={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};d.relativePath.startsWith("/")&&(Et(d.relativePath.startsWith(r),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(r.length));let p=as([r,d.relativePath]),g=t.concat(d);a.children&&a.children.length>0&&(Et(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),KE(a.children,e,g,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:zP(p,a.index),routesMeta:g})};return n.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))s(a,l);else for(let d of QE(a.path))s(a,l,d)}),e}function QE(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let l=QE(r.join("/")),c=[];return c.push(...l.map(d=>d===""?a:[a,d].join("/"))),s&&c.push(...l),c.map(d=>n.startsWith("/")&&d===""?"/":d)}function OP(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:$P(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const MP=/^:[\w-]+$/,LP=3,FP=2,jP=1,UP=10,BP=-2,Nw=n=>n==="*";function zP(n,e){let t=n.split("/"),r=t.length;return t.some(Nw)&&(r+=BP),e&&(r+=FP),t.filter(s=>!Nw(s)).reduce((s,a)=>s+(MP.test(a)?LP:a===""?jP:UP),r)}function $P(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function WP(n,e,t){let{routesMeta:r}=n,s={},a="/",l=[];for(let c=0;c<r.length;++c){let d=r[c],p=c===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",y=HP({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},g),w=d.route;if(!y)return null;Object.assign(s,y.params),l.push({params:s,pathname:as([a,y.pathname]),pathnameBase:XP(as([a,y.pathnameBase])),route:w}),y.pathnameBase!=="/"&&(a=as([a,y.pathnameBase]))}return l}function HP(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=qP(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((p,g,y)=>{let{paramName:w,isOptional:I}=g;if(w==="*"){let R=c[y]||"";l=a.slice(0,a.length-R.length).replace(/(.)\/+$/,"$1")}const k=c[y];return I&&!k?p[w]=void 0:p[w]=(k||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:n}}function qP(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),GE(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function GP(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return GE(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function Og(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function KP(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?Za(n):n;return{pathname:t?t.startsWith("/")?t:QP(t,e):e,search:JP(r),hash:ZP(s)}}function QP(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function zp(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function YP(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Mg(n,e){let t=YP(n);return e?t.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function Lg(n,e,t,r){r===void 0&&(r=!1);let s;typeof n=="string"?s=Za(n):(s=Au({},n),Et(!s.pathname||!s.pathname.includes("?"),zp("?","pathname","search",s)),Et(!s.pathname||!s.pathname.includes("#"),zp("#","pathname","hash",s)),Et(!s.search||!s.search.includes("#"),zp("#","search","hash",s)));let a=n===""||s.pathname==="",l=a?"/":s.pathname,c;if(l==null)c=t;else{let y=e.length-1;if(!r&&l.startsWith("..")){let w=l.split("/");for(;w[0]==="..";)w.shift(),y-=1;s.pathname=w.join("/")}c=y>=0?e[y]:"/"}let d=KP(s,c),p=l&&l!=="/"&&l.endsWith("/"),g=(a||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(p||g)&&(d.pathname+="/"),d}const as=n=>n.join("/").replace(/\/\/+/g,"/"),XP=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),JP=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,ZP=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function eR(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const YE=["post","put","patch","delete"];new Set(YE);const tR=["get",...YE];new Set(tR);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xu(){return xu=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},xu.apply(this,arguments)}const Fg=P.createContext(null),nR=P.createContext(null),Ss=P.createContext(null),kd=P.createContext(null),Cs=P.createContext({outlet:null,matches:[],isDataRoute:!1}),XE=P.createContext(null);function rR(n,e){let{relative:t}=e===void 0?{}:e;el()||Et(!1);let{basename:r,navigator:s}=P.useContext(Ss),{hash:a,pathname:l,search:c}=ZE(n,{relative:t}),d=l;return r!=="/"&&(d=l==="/"?r:as([r,l])),s.createHref({pathname:d,search:c,hash:a})}function el(){return P.useContext(kd)!=null}function Bu(){return el()||Et(!1),P.useContext(kd).location}function JE(n){P.useContext(Ss).static||P.useLayoutEffect(n)}function Nd(){let{isDataRoute:n}=P.useContext(Cs);return n?gR():iR()}function iR(){el()||Et(!1);let n=P.useContext(Fg),{basename:e,future:t,navigator:r}=P.useContext(Ss),{matches:s}=P.useContext(Cs),{pathname:a}=Bu(),l=JSON.stringify(Mg(s,t.v7_relativeSplatPath)),c=P.useRef(!1);return JE(()=>{c.current=!0}),P.useCallback(function(p,g){if(g===void 0&&(g={}),!c.current)return;if(typeof p=="number"){r.go(p);return}let y=Lg(p,JSON.parse(l),a,g.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:as([e,y.pathname])),(g.replace?r.replace:r.push)(y,g.state,g)},[e,r,l,a,n])}function ZE(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=P.useContext(Ss),{matches:s}=P.useContext(Cs),{pathname:a}=Bu(),l=JSON.stringify(Mg(s,r.v7_relativeSplatPath));return P.useMemo(()=>Lg(n,JSON.parse(l),a,t==="path"),[n,l,a,t])}function sR(n,e){return oR(n,e)}function oR(n,e,t,r){el()||Et(!1);let{navigator:s}=P.useContext(Ss),{matches:a}=P.useContext(Cs),l=a[a.length-1],c=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let p=Bu(),g;if(e){var y;let A=typeof e=="string"?Za(e):e;d==="/"||(y=A.pathname)!=null&&y.startsWith(d)||Et(!1),g=A}else g=p;let w=g.pathname||"/",I=w;if(d!=="/"){let A=d.replace(/^\//,"").split("/");I="/"+w.replace(/^\//,"").split("/").slice(A.length).join("/")}let k=DP(n,{pathname:I}),R=hR(k&&k.map(A=>Object.assign({},A,{params:Object.assign({},c,A.params),pathname:as([d,s.encodeLocation?s.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?d:as([d,s.encodeLocation?s.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),a,t,r);return e&&R?P.createElement(kd.Provider,{value:{location:xu({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:ss.Pop}},R):R}function aR(){let n=mR(),e=eR(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),t?P.createElement("pre",{style:s},t):null,null)}const lR=P.createElement(aR,null);class uR extends P.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?P.createElement(Cs.Provider,{value:this.props.routeContext},P.createElement(XE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function cR(n){let{routeContext:e,match:t,children:r}=n,s=P.useContext(Fg);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),P.createElement(Cs.Provider,{value:e},r)}function hR(n,e,t,r){var s;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var a;if(!t)return null;if(t.errors)n=t.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,c=(s=t)==null?void 0:s.errors;if(c!=null){let g=l.findIndex(y=>y.route.id&&c?.[y.route.id]!==void 0);g>=0||Et(!1),l=l.slice(0,Math.min(l.length,g+1))}let d=!1,p=-1;if(t&&r&&r.v7_partialHydration)for(let g=0;g<l.length;g++){let y=l[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(p=g),y.route.id){let{loaderData:w,errors:I}=t,k=y.route.loader&&w[y.route.id]===void 0&&(!I||I[y.route.id]===void 0);if(y.route.lazy||k){d=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((g,y,w)=>{let I,k=!1,R=null,A=null;t&&(I=c&&y.route.id?c[y.route.id]:void 0,R=y.route.errorElement||lR,d&&(p<0&&w===0?(yR("route-fallback"),k=!0,A=null):p===w&&(k=!0,A=y.route.hydrateFallbackElement||null)));let $=e.concat(l.slice(0,w+1)),U=()=>{let B;return I?B=R:k?B=A:y.route.Component?B=P.createElement(y.route.Component,null):y.route.element?B=y.route.element:B=g,P.createElement(cR,{match:y,routeContext:{outlet:g,matches:$,isDataRoute:t!=null},children:B})};return t&&(y.route.ErrorBoundary||y.route.errorElement||w===0)?P.createElement(uR,{location:t.location,revalidation:t.revalidation,component:R,error:I,children:U(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):U()},null)}var eI=(function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n})(eI||{}),tI=(function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n})(tI||{});function dR(n){let e=P.useContext(Fg);return e||Et(!1),e}function fR(n){let e=P.useContext(nR);return e||Et(!1),e}function pR(n){let e=P.useContext(Cs);return e||Et(!1),e}function nI(n){let e=pR(),t=e.matches[e.matches.length-1];return t.route.id||Et(!1),t.route.id}function mR(){var n;let e=P.useContext(XE),t=fR(),r=nI();return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function gR(){let{router:n}=dR(eI.UseNavigateStable),e=nI(tI.UseNavigateStable),t=P.useRef(!1);return JE(()=>{t.current=!0}),P.useCallback(function(s,a){a===void 0&&(a={}),t.current&&(typeof s=="number"?n.navigate(s):n.navigate(s,xu({fromRouteId:e},a)))},[n,e])}const Dw={};function yR(n,e,t){Dw[n]||(Dw[n]=!0)}function vR(n,e){n?.v7_startTransition,n?.v7_relativeSplatPath}function Rm(n){let{to:e,replace:t,state:r,relative:s}=n;el()||Et(!1);let{future:a,static:l}=P.useContext(Ss),{matches:c}=P.useContext(Cs),{pathname:d}=Bu(),p=Nd(),g=Lg(e,Mg(c,a.v7_relativeSplatPath),d,s==="path"),y=JSON.stringify(g);return P.useEffect(()=>p(JSON.parse(y),{replace:t,state:r,relative:s}),[p,y,s,t,r]),null}function so(n){Et(!1)}function _R(n){let{basename:e="/",children:t=null,location:r,navigationType:s=ss.Pop,navigator:a,static:l=!1,future:c}=n;el()&&Et(!1);let d=e.replace(/^\/*/,"/"),p=P.useMemo(()=>({basename:d,navigator:a,static:l,future:xu({v7_relativeSplatPath:!1},c)}),[d,c,a,l]);typeof r=="string"&&(r=Za(r));let{pathname:g="/",search:y="",hash:w="",state:I=null,key:k="default"}=r,R=P.useMemo(()=>{let A=Og(g,d);return A==null?null:{location:{pathname:A,search:y,hash:w,state:I,key:k},navigationType:s}},[d,g,y,w,I,k,s]);return R==null?null:P.createElement(Ss.Provider,{value:p},P.createElement(kd.Provider,{children:t,value:R}))}function wR(n){let{children:e,location:t}=n;return sR(bm(e),t)}new Promise(()=>{});function bm(n,e){e===void 0&&(e=[]);let t=[];return P.Children.forEach(n,(r,s)=>{if(!P.isValidElement(r))return;let a=[...e,s];if(r.type===P.Fragment){t.push.apply(t,bm(r.props.children,a));return}r.type!==so&&Et(!1),!r.props.index||!r.props.children||Et(!1);let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=bm(r.props.children,a)),t.push(l)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function km(){return km=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},km.apply(this,arguments)}function TR(n,e){if(n==null)return{};var t={},r=Object.keys(n),s,a;for(a=0;a<r.length;a++)s=r[a],!(e.indexOf(s)>=0)&&(t[s]=n[s]);return t}function ER(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function IR(n,e){return n.button===0&&(!e||e==="_self")&&!ER(n)}const SR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],CR="6";try{window.__reactRouterVersion=CR}catch{}const AR="startTransition",Vw=HE[AR];function xR(n){let{basename:e,children:t,future:r,window:s}=n,a=P.useRef();a.current==null&&(a.current=bP({window:s,v5Compat:!0}));let l=a.current,[c,d]=P.useState({action:l.action,location:l.location}),{v7_startTransition:p}=r||{},g=P.useCallback(y=>{p&&Vw?Vw(()=>d(y)):d(y)},[d,p]);return P.useLayoutEffect(()=>l.listen(g),[l,g]),P.useEffect(()=>vR(r),[r]),P.createElement(_R,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:l,future:r})}const PR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",RR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bR=P.forwardRef(function(e,t){let{onClick:r,relative:s,reloadDocument:a,replace:l,state:c,target:d,to:p,preventScrollReset:g,viewTransition:y}=e,w=TR(e,SR),{basename:I}=P.useContext(Ss),k,R=!1;if(typeof p=="string"&&RR.test(p)&&(k=p,PR))try{let B=new URL(window.location.href),Q=p.startsWith("//")?new URL(B.protocol+p):new URL(p),ee=Og(Q.pathname,I);Q.origin===B.origin&&ee!=null?p=ee+Q.search+Q.hash:R=!0}catch{}let A=rR(p,{relative:s}),$=kR(p,{replace:l,state:c,target:d,preventScrollReset:g,relative:s,viewTransition:y});function U(B){r&&r(B),B.defaultPrevented||$(B)}return P.createElement("a",km({},w,{href:k||A,onClick:R||a?r:U,ref:t,target:d}))});var Ow;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(Ow||(Ow={}));var Mw;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(Mw||(Mw={}));function kR(n,e){let{target:t,replace:r,state:s,preventScrollReset:a,relative:l,viewTransition:c}=e===void 0?{}:e,d=Nd(),p=Bu(),g=ZE(n,{relative:l});return P.useCallback(y=>{if(IR(y,t)){y.preventDefault();let w=r!==void 0?r:Yh(p)===Yh(g);d(n,{replace:w,state:s,preventScrollReset:a,relative:l,viewTransition:c})}},[p,d,g,r,s,t,n,a,l,c])}var $p={exports:{}},Wp,Lw;function NR(){if(Lw)return Wp;Lw=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Wp=n,Wp}var Hp,Fw;function DR(){if(Fw)return Hp;Fw=1;var n=NR();function e(){}function t(){}return t.resetWarningCache=e,Hp=function(){function r(l,c,d,p,g,y){if(y!==n){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}r.isRequired=r;function s(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},Hp}var jw;function VR(){return jw||(jw=1,$p.exports=DR()()),$p.exports}var OR=VR();const at=Co(OR);var qp,Uw;function MR(){if(Uw)return qp;Uw=1;function n(c){return c&&typeof c=="object"&&"default"in c?c.default:c}var e=bd(),t=n(e);function r(c,d,p){return d in c?Object.defineProperty(c,d,{value:p,enumerable:!0,configurable:!0,writable:!0}):c[d]=p,c}function s(c,d){c.prototype=Object.create(d.prototype),c.prototype.constructor=c,c.__proto__=d}var a=!!(typeof window<"u"&&window.document&&window.document.createElement);function l(c,d,p){if(typeof c!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof d!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof p<"u"&&typeof p!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function g(y){return y.displayName||y.name||"Component"}return function(w){if(typeof w!="function")throw new Error("Expected WrappedComponent to be a React component.");var I=[],k;function R(){k=c(I.map(function($){return $.props})),A.canUseDOM?d(k):p&&(k=p(k))}var A=(function($){s(U,$);function U(){return $.apply(this,arguments)||this}U.peek=function(){return k},U.rewind=function(){if(U.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var ee=k;return k=void 0,I=[],ee};var B=U.prototype;return B.UNSAFE_componentWillMount=function(){I.push(this),R()},B.componentDidUpdate=function(){R()},B.componentWillUnmount=function(){var ee=I.indexOf(this);I.splice(ee,1),R()},B.render=function(){return t.createElement(w,this.props)},U})(e.PureComponent);return r(A,"displayName","SideEffect("+g(w)+")"),r(A,"canUseDOM",a),A}}return qp=l,qp}var LR=MR();const FR=Co(LR);var Gp,Bw;function jR(){if(Bw)return Gp;Bw=1;var n=typeof Element<"u",e=typeof Map=="function",t=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function s(a,l){if(a===l)return!0;if(a&&l&&typeof a=="object"&&typeof l=="object"){if(a.constructor!==l.constructor)return!1;var c,d,p;if(Array.isArray(a)){if(c=a.length,c!=l.length)return!1;for(d=c;d--!==0;)if(!s(a[d],l[d]))return!1;return!0}var g;if(e&&a instanceof Map&&l instanceof Map){if(a.size!==l.size)return!1;for(g=a.entries();!(d=g.next()).done;)if(!l.has(d.value[0]))return!1;for(g=a.entries();!(d=g.next()).done;)if(!s(d.value[1],l.get(d.value[0])))return!1;return!0}if(t&&a instanceof Set&&l instanceof Set){if(a.size!==l.size)return!1;for(g=a.entries();!(d=g.next()).done;)if(!l.has(d.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(a)&&ArrayBuffer.isView(l)){if(c=a.length,c!=l.length)return!1;for(d=c;d--!==0;)if(a[d]!==l[d])return!1;return!0}if(a.constructor===RegExp)return a.source===l.source&&a.flags===l.flags;if(a.valueOf!==Object.prototype.valueOf&&typeof a.valueOf=="function"&&typeof l.valueOf=="function")return a.valueOf()===l.valueOf();if(a.toString!==Object.prototype.toString&&typeof a.toString=="function"&&typeof l.toString=="function")return a.toString()===l.toString();if(p=Object.keys(a),c=p.length,c!==Object.keys(l).length)return!1;for(d=c;d--!==0;)if(!Object.prototype.hasOwnProperty.call(l,p[d]))return!1;if(n&&a instanceof Element)return!1;for(d=c;d--!==0;)if(!((p[d]==="_owner"||p[d]==="__v"||p[d]==="__o")&&a.$$typeof)&&!s(a[p[d]],l[p[d]]))return!1;return!0}return a!==a&&l!==l}return Gp=function(l,c){try{return s(l,c)}catch(d){if((d.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw d}},Gp}var UR=jR();const BR=Co(UR);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Kp,zw;function zR(){if(zw)return Kp;zw=1;var n=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable;function r(a){if(a==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(a)}function s(){try{if(!Object.assign)return!1;var a=new String("abc");if(a[5]="de",Object.getOwnPropertyNames(a)[0]==="5")return!1;for(var l={},c=0;c<10;c++)l["_"+String.fromCharCode(c)]=c;var d=Object.getOwnPropertyNames(l).map(function(g){return l[g]});if(d.join("")!=="0123456789")return!1;var p={};return"abcdefghijklmnopqrst".split("").forEach(function(g){p[g]=g}),Object.keys(Object.assign({},p)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return Kp=s()?Object.assign:function(a,l){for(var c,d=r(a),p,g=1;g<arguments.length;g++){c=Object(arguments[g]);for(var y in c)e.call(c,y)&&(d[y]=c[y]);if(n){p=n(c);for(var w=0;w<p.length;w++)t.call(c,p[w])&&(d[p[w]]=c[p[w]])}}return d},Kp}var $R=zR();const WR=Co($R);var mo={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},Ne={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(Ne).map(function(n){return Ne[n]});var lt={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},Xh={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Pu={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},HR=Object.keys(Xh).reduce(function(n,e){return n[Xh[e]]=e,n},{}),qR=[Ne.NOSCRIPT,Ne.SCRIPT,Ne.STYLE],or="data-react-helmet",GR=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},KR=function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")},QR=(function(){function n(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}})(),_n=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},YR=function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)},$w=function(n,e){var t={};for(var r in n)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t},XR=function(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n},Nm=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},JR=function(e){var t=Na(e,Ne.TITLE),r=Na(e,Pu.TITLE_TEMPLATE);if(r&&t)return r.replace(/%s/g,function(){return Array.isArray(t)?t.join(""):t});var s=Na(e,Pu.DEFAULT_TITLE);return t||s||void 0},ZR=function(e){return Na(e,Pu.ON_CHANGE_CLIENT_STATE)||function(){}},Qp=function(e,t){return t.filter(function(r){return typeof r[e]<"u"}).map(function(r){return r[e]}).reduce(function(r,s){return _n({},r,s)},{})},eb=function(e,t){return t.filter(function(r){return typeof r[Ne.BASE]<"u"}).map(function(r){return r[Ne.BASE]}).reverse().reduce(function(r,s){if(!r.length)for(var a=Object.keys(s),l=0;l<a.length;l++){var c=a[l],d=c.toLowerCase();if(e.indexOf(d)!==-1&&s[d])return r.concat(s)}return r},[])},ru=function(e,t,r){var s={};return r.filter(function(a){return Array.isArray(a[e])?!0:(typeof a[e]<"u"&&ib("Helmet: "+e+' should be of type "Array". Instead found type "'+GR(a[e])+'"'),!1)}).map(function(a){return a[e]}).reverse().reduce(function(a,l){var c={};l.filter(function(w){for(var I=void 0,k=Object.keys(w),R=0;R<k.length;R++){var A=k[R],$=A.toLowerCase();t.indexOf($)!==-1&&!(I===lt.REL&&w[I].toLowerCase()==="canonical")&&!($===lt.REL&&w[$].toLowerCase()==="stylesheet")&&(I=$),t.indexOf(A)!==-1&&(A===lt.INNER_HTML||A===lt.CSS_TEXT||A===lt.ITEM_PROP)&&(I=A)}if(!I||!w[I])return!1;var U=w[I].toLowerCase();return s[I]||(s[I]={}),c[I]||(c[I]={}),s[I][U]?!1:(c[I][U]=!0,!0)}).reverse().forEach(function(w){return a.push(w)});for(var d=Object.keys(c),p=0;p<d.length;p++){var g=d[p],y=WR({},s[g],c[g]);s[g]=y}return a},[]).reverse()},Na=function(e,t){for(var r=e.length-1;r>=0;r--){var s=e[r];if(s.hasOwnProperty(t))return s[t]}return null},tb=function(e){return{baseTag:eb([lt.HREF,lt.TARGET],e),bodyAttributes:Qp(mo.BODY,e),defer:Na(e,Pu.DEFER),encode:Na(e,Pu.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Qp(mo.HTML,e),linkTags:ru(Ne.LINK,[lt.REL,lt.HREF],e),metaTags:ru(Ne.META,[lt.NAME,lt.CHARSET,lt.HTTPEQUIV,lt.PROPERTY,lt.ITEM_PROP],e),noscriptTags:ru(Ne.NOSCRIPT,[lt.INNER_HTML],e),onChangeClientState:ZR(e),scriptTags:ru(Ne.SCRIPT,[lt.SRC,lt.INNER_HTML],e),styleTags:ru(Ne.STYLE,[lt.CSS_TEXT],e),title:JR(e),titleAttributes:Qp(mo.TITLE,e)}},Dm=(function(){var n=Date.now();return function(e){var t=Date.now();t-n>16?(n=t,e(t)):setTimeout(function(){Dm(e)},0)}})(),Ww=function(e){return clearTimeout(e)},nb=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Dm:global.requestAnimationFrame||Dm,rb=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||Ww:global.cancelAnimationFrame||Ww,ib=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},iu=null,sb=function(e){iu&&rb(iu),e.defer?iu=nb(function(){Hw(e,function(){iu=null})}):(Hw(e),iu=null)},Hw=function(e,t){var r=e.baseTag,s=e.bodyAttributes,a=e.htmlAttributes,l=e.linkTags,c=e.metaTags,d=e.noscriptTags,p=e.onChangeClientState,g=e.scriptTags,y=e.styleTags,w=e.title,I=e.titleAttributes;Vm(Ne.BODY,s),Vm(Ne.HTML,a),ob(w,I);var k={baseTag:Ea(Ne.BASE,r),linkTags:Ea(Ne.LINK,l),metaTags:Ea(Ne.META,c),noscriptTags:Ea(Ne.NOSCRIPT,d),scriptTags:Ea(Ne.SCRIPT,g),styleTags:Ea(Ne.STYLE,y)},R={},A={};Object.keys(k).forEach(function($){var U=k[$],B=U.newTags,Q=U.oldTags;B.length&&(R[$]=B),Q.length&&(A[$]=k[$].oldTags)}),t&&t(),p(e,R,A)},rI=function(e){return Array.isArray(e)?e.join(""):e},ob=function(e,t){typeof e<"u"&&document.title!==e&&(document.title=rI(e)),Vm(Ne.TITLE,t)},Vm=function(e,t){var r=document.getElementsByTagName(e)[0];if(r){for(var s=r.getAttribute(or),a=s?s.split(","):[],l=[].concat(a),c=Object.keys(t),d=0;d<c.length;d++){var p=c[d],g=t[p]||"";r.getAttribute(p)!==g&&r.setAttribute(p,g),a.indexOf(p)===-1&&a.push(p);var y=l.indexOf(p);y!==-1&&l.splice(y,1)}for(var w=l.length-1;w>=0;w--)r.removeAttribute(l[w]);a.length===l.length?r.removeAttribute(or):r.getAttribute(or)!==c.join(",")&&r.setAttribute(or,c.join(","))}},Ea=function(e,t){var r=document.head||document.querySelector(Ne.HEAD),s=r.querySelectorAll(e+"["+or+"]"),a=Array.prototype.slice.call(s),l=[],c=void 0;return t&&t.length&&t.forEach(function(d){var p=document.createElement(e);for(var g in d)if(d.hasOwnProperty(g))if(g===lt.INNER_HTML)p.innerHTML=d.innerHTML;else if(g===lt.CSS_TEXT)p.styleSheet?p.styleSheet.cssText=d.cssText:p.appendChild(document.createTextNode(d.cssText));else{var y=typeof d[g]>"u"?"":d[g];p.setAttribute(g,y)}p.setAttribute(or,"true"),a.some(function(w,I){return c=I,p.isEqualNode(w)})?a.splice(c,1):l.push(p)}),a.forEach(function(d){return d.parentNode.removeChild(d)}),l.forEach(function(d){return r.appendChild(d)}),{oldTags:a,newTags:l}},iI=function(e){return Object.keys(e).reduce(function(t,r){var s=typeof e[r]<"u"?r+'="'+e[r]+'"':""+r;return t?t+" "+s:s},"")},ab=function(e,t,r,s){var a=iI(r),l=rI(t);return a?"<"+e+" "+or+'="true" '+a+">"+Nm(l,s)+"</"+e+">":"<"+e+" "+or+'="true">'+Nm(l,s)+"</"+e+">"},lb=function(e,t,r){return t.reduce(function(s,a){var l=Object.keys(a).filter(function(p){return!(p===lt.INNER_HTML||p===lt.CSS_TEXT)}).reduce(function(p,g){var y=typeof a[g]>"u"?g:g+'="'+Nm(a[g],r)+'"';return p?p+" "+y:y},""),c=a.innerHTML||a.cssText||"",d=qR.indexOf(e)===-1;return s+"<"+e+" "+or+'="true" '+l+(d?"/>":">"+c+"</"+e+">")},"")},sI=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,s){return r[Xh[s]||s]=e[s],r},t)},ub=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,s){return r[HR[s]||s]=e[s],r},t)},cb=function(e,t,r){var s,a=(s={key:t},s[or]=!0,s),l=sI(r,a);return[ut.createElement(Ne.TITLE,l,t)]},hb=function(e,t){return t.map(function(r,s){var a,l=(a={key:s},a[or]=!0,a);return Object.keys(r).forEach(function(c){var d=Xh[c]||c;if(d===lt.INNER_HTML||d===lt.CSS_TEXT){var p=r.innerHTML||r.cssText;l.dangerouslySetInnerHTML={__html:p}}else l[d]=r[c]}),ut.createElement(e,l)})},oi=function(e,t,r){switch(e){case Ne.TITLE:return{toComponent:function(){return cb(e,t.title,t.titleAttributes)},toString:function(){return ab(e,t.title,t.titleAttributes,r)}};case mo.BODY:case mo.HTML:return{toComponent:function(){return sI(t)},toString:function(){return iI(t)}};default:return{toComponent:function(){return hb(e,t)},toString:function(){return lb(e,t,r)}}}},oI=function(e){var t=e.baseTag,r=e.bodyAttributes,s=e.encode,a=e.htmlAttributes,l=e.linkTags,c=e.metaTags,d=e.noscriptTags,p=e.scriptTags,g=e.styleTags,y=e.title,w=y===void 0?"":y,I=e.titleAttributes;return{base:oi(Ne.BASE,t,s),bodyAttributes:oi(mo.BODY,r,s),htmlAttributes:oi(mo.HTML,a,s),link:oi(Ne.LINK,l,s),meta:oi(Ne.META,c,s),noscript:oi(Ne.NOSCRIPT,d,s),script:oi(Ne.SCRIPT,p,s),style:oi(Ne.STYLE,g,s),title:oi(Ne.TITLE,{title:w,titleAttributes:I},s)}},db=function(e){var t,r;return r=t=(function(s){YR(a,s);function a(){return KR(this,a),XR(this,s.apply(this,arguments))}return a.prototype.shouldComponentUpdate=function(c){return!BR(this.props,c)},a.prototype.mapNestedChildrenToProps=function(c,d){if(!d)return null;switch(c.type){case Ne.SCRIPT:case Ne.NOSCRIPT:return{innerHTML:d};case Ne.STYLE:return{cssText:d}}throw new Error("<"+c.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},a.prototype.flattenArrayTypeChildren=function(c){var d,p=c.child,g=c.arrayTypeChildren,y=c.newChildProps,w=c.nestedChildren;return _n({},g,(d={},d[p.type]=[].concat(g[p.type]||[],[_n({},y,this.mapNestedChildrenToProps(p,w))]),d))},a.prototype.mapObjectTypeChildren=function(c){var d,p,g=c.child,y=c.newProps,w=c.newChildProps,I=c.nestedChildren;switch(g.type){case Ne.TITLE:return _n({},y,(d={},d[g.type]=I,d.titleAttributes=_n({},w),d));case Ne.BODY:return _n({},y,{bodyAttributes:_n({},w)});case Ne.HTML:return _n({},y,{htmlAttributes:_n({},w)})}return _n({},y,(p={},p[g.type]=_n({},w),p))},a.prototype.mapArrayTypeChildrenToProps=function(c,d){var p=_n({},d);return Object.keys(c).forEach(function(g){var y;p=_n({},p,(y={},y[g]=c[g],y))}),p},a.prototype.warnOnInvalidChildren=function(c,d){return!0},a.prototype.mapChildrenToProps=function(c,d){var p=this,g={};return ut.Children.forEach(c,function(y){if(!(!y||!y.props)){var w=y.props,I=w.children,k=$w(w,["children"]),R=ub(k);switch(p.warnOnInvalidChildren(y,I),y.type){case Ne.LINK:case Ne.META:case Ne.NOSCRIPT:case Ne.SCRIPT:case Ne.STYLE:g=p.flattenArrayTypeChildren({child:y,arrayTypeChildren:g,newChildProps:R,nestedChildren:I});break;default:d=p.mapObjectTypeChildren({child:y,newProps:d,newChildProps:R,nestedChildren:I});break}}}),d=this.mapArrayTypeChildrenToProps(g,d),d},a.prototype.render=function(){var c=this.props,d=c.children,p=$w(c,["children"]),g=_n({},p);return d&&(g=this.mapChildrenToProps(d,g)),ut.createElement(e,g)},QR(a,null,[{key:"canUseDOM",set:function(c){e.canUseDOM=c}}]),a})(ut.Component),t.propTypes={base:at.object,bodyAttributes:at.object,children:at.oneOfType([at.arrayOf(at.node),at.node]),defaultTitle:at.string,defer:at.bool,encodeSpecialCharacters:at.bool,htmlAttributes:at.object,link:at.arrayOf(at.object),meta:at.arrayOf(at.object),noscript:at.arrayOf(at.object),onChangeClientState:at.func,script:at.arrayOf(at.object),style:at.arrayOf(at.object),title:at.string,titleAttributes:at.object,titleTemplate:at.string},t.defaultProps={defer:!0,encodeSpecialCharacters:!0},t.peek=e.peek,t.rewind=function(){var s=e.rewind();return s||(s=oI({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),s},r},fb=function(){return null},pb=FR(tb,sb,oI)(fb),Om=db(pb);Om.renderStatic=Om.rewind;const aI=P.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"}),Dd=P.createContext({}),Vd=P.createContext(null),Od=typeof document<"u",jg=Od?P.useLayoutEffect:P.useEffect,lI=P.createContext({strict:!1}),Ug=n=>n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),mb="framerAppearId",uI="data-"+Ug(mb);function gb(n,e,t,r){const{visualElement:s}=P.useContext(Dd),a=P.useContext(lI),l=P.useContext(Vd),c=P.useContext(aI).reducedMotion,d=P.useRef();r=r||a.renderer,!d.current&&r&&(d.current=r(n,{visualState:e,parent:s,props:t,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const p=d.current;P.useInsertionEffect(()=>{p&&p.update(t,l)});const g=P.useRef(!!(t[uI]&&!window.HandoffComplete));return jg(()=>{p&&(p.render(),g.current&&p.animationState&&p.animationState.animateChanges())}),P.useEffect(()=>{p&&(p.updateFeatures(),!g.current&&p.animationState&&p.animationState.animateChanges(),g.current&&(g.current=!1,window.HandoffComplete=!0))}),p}function xa(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function yb(n,e,t){return P.useCallback(r=>{r&&n.mount&&n.mount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):xa(t)&&(t.current=r))},[e])}function Ru(n){return typeof n=="string"||Array.isArray(n)}function Md(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const Bg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],zg=["initial",...Bg];function Ld(n){return Md(n.animate)||zg.some(e=>Ru(n[e]))}function cI(n){return!!(Ld(n)||n.variants)}function vb(n,e){if(Ld(n)){const{initial:t,animate:r}=n;return{initial:t===!1||Ru(t)?t:void 0,animate:Ru(r)?r:void 0}}return n.inherit!==!1?e:{}}function _b(n){const{initial:e,animate:t}=vb(n,P.useContext(Dd));return P.useMemo(()=>({initial:e,animate:t}),[qw(e),qw(t)])}function qw(n){return Array.isArray(n)?n.join(" "):n}const Gw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},bu={};for(const n in Gw)bu[n]={isEnabled:e=>Gw[n].some(t=>!!e[t])};function wb(n){for(const e in n)bu[e]={...bu[e],...n[e]}}const $g=P.createContext({}),hI=P.createContext({}),Tb=Symbol.for("motionComponentSymbol");function Eb({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:s}){n&&wb(n);function a(c,d){let p;const g={...P.useContext(aI),...c,layoutId:Ib(c)},{isStatic:y}=g,w=_b(c),I=r(c,y);if(!y&&Od){w.visualElement=gb(s,I,g,e);const k=P.useContext(hI),R=P.useContext(lI).strict;w.visualElement&&(p=w.visualElement.loadFeatures(g,R,n,k))}return P.createElement(Dd.Provider,{value:w},p&&w.visualElement?P.createElement(p,{visualElement:w.visualElement,...g}):null,t(s,c,yb(I,w.visualElement,d),I,y,w.visualElement))}const l=P.forwardRef(a);return l[Tb]=s,l}function Ib({layoutId:n}){const e=P.useContext($g).id;return e&&n!==void 0?e+"-"+n:n}function Sb(n){function e(r,s={}){return Eb(n(r,s))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(r,s)=>(t.has(s)||t.set(s,e(s)),t.get(s))})}const Cb=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Wg(n){return typeof n!="string"||n.includes("-")?!1:!!(Cb.indexOf(n)>-1||/[A-Z]/.test(n))}const Jh={};function Ab(n){Object.assign(Jh,n)}const zu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ao=new Set(zu);function dI(n,{layout:e,layoutId:t}){return Ao.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Jh[n]||n==="opacity")}const En=n=>!!(n&&n.getVelocity),xb={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Pb=zu.length;function Rb(n,{enableHardwareAcceleration:e=!0,allowTransformNone:t=!0},r,s){let a="";for(let l=0;l<Pb;l++){const c=zu[l];if(n[c]!==void 0){const d=xb[c]||c;a+=`${d}(${n[c]}) `}}return e&&!n.z&&(a+="translateZ(0)"),a=a.trim(),s?a=s(n,r?"":a):t&&r&&(a="none"),a}const fI=n=>e=>typeof e=="string"&&e.startsWith(n),pI=fI("--"),Mm=fI("var(--"),bb=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,kb=(n,e)=>e&&typeof n=="number"?e.transform(n):n,ms=(n,e,t)=>Math.min(Math.max(t,n),e),xo={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},gu={...xo,transform:n=>ms(0,1,n)},Eh={...xo,default:1},yu=n=>Math.round(n*1e5)/1e5,Fd=/(-)?([\d]*\.?[\d])+/g,mI=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Nb=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function $u(n){return typeof n=="string"}const Wu=n=>({test:e=>$u(e)&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Zi=Wu("deg"),Dr=Wu("%"),Se=Wu("px"),Db=Wu("vh"),Vb=Wu("vw"),Kw={...Dr,parse:n=>Dr.parse(n)/100,transform:n=>Dr.transform(n*100)},Qw={...xo,transform:Math.round},gI={borderWidth:Se,borderTopWidth:Se,borderRightWidth:Se,borderBottomWidth:Se,borderLeftWidth:Se,borderRadius:Se,radius:Se,borderTopLeftRadius:Se,borderTopRightRadius:Se,borderBottomRightRadius:Se,borderBottomLeftRadius:Se,width:Se,maxWidth:Se,height:Se,maxHeight:Se,size:Se,top:Se,right:Se,bottom:Se,left:Se,padding:Se,paddingTop:Se,paddingRight:Se,paddingBottom:Se,paddingLeft:Se,margin:Se,marginTop:Se,marginRight:Se,marginBottom:Se,marginLeft:Se,rotate:Zi,rotateX:Zi,rotateY:Zi,rotateZ:Zi,scale:Eh,scaleX:Eh,scaleY:Eh,scaleZ:Eh,skew:Zi,skewX:Zi,skewY:Zi,distance:Se,translateX:Se,translateY:Se,translateZ:Se,x:Se,y:Se,z:Se,perspective:Se,transformPerspective:Se,opacity:gu,originX:Kw,originY:Kw,originZ:Se,zIndex:Qw,fillOpacity:gu,strokeOpacity:gu,numOctaves:Qw};function Hg(n,e,t,r){const{style:s,vars:a,transform:l,transformOrigin:c}=n;let d=!1,p=!1,g=!0;for(const y in e){const w=e[y];if(pI(y)){a[y]=w;continue}const I=gI[y],k=kb(w,I);if(Ao.has(y)){if(d=!0,l[y]=k,!g)continue;w!==(I.default||0)&&(g=!1)}else y.startsWith("origin")?(p=!0,c[y]=k):s[y]=k}if(e.transform||(d||r?s.transform=Rb(n.transform,t,g,r):s.transform&&(s.transform="none")),p){const{originX:y="50%",originY:w="50%",originZ:I=0}=c;s.transformOrigin=`${y} ${w} ${I}`}}const qg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function yI(n,e,t){for(const r in e)!En(e[r])&&!dI(r,t)&&(n[r]=e[r])}function Ob({transformTemplate:n},e,t){return P.useMemo(()=>{const r=qg();return Hg(r,e,{enableHardwareAcceleration:!t},n),Object.assign({},r.vars,r.style)},[e])}function Mb(n,e,t){const r=n.style||{},s={};return yI(s,r,n),Object.assign(s,Ob(n,e,t)),n.transformValues?n.transformValues(s):s}function Lb(n,e,t){const r={},s=Mb(n,e,t);return n.drag&&n.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(r.tabIndex=0),r.style=s,r}const Fb=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Zh(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||Fb.has(n)}let vI=n=>!Zh(n);function jb(n){n&&(vI=e=>e.startsWith("on")?!Zh(e):n(e))}try{jb(require("@emotion/is-prop-valid").default)}catch{}function Ub(n,e,t){const r={};for(const s in n)s==="values"&&typeof n.values=="object"||(vI(s)||t===!0&&Zh(s)||!e&&!Zh(s)||n.draggable&&s.startsWith("onDrag"))&&(r[s]=n[s]);return r}function Yw(n,e,t){return typeof n=="string"?n:Se.transform(e+t*n)}function Bb(n,e,t){const r=Yw(e,n.x,n.width),s=Yw(t,n.y,n.height);return`${r} ${s}`}const zb={offset:"stroke-dashoffset",array:"stroke-dasharray"},$b={offset:"strokeDashoffset",array:"strokeDasharray"};function Wb(n,e,t=1,r=0,s=!0){n.pathLength=1;const a=s?zb:$b;n[a.offset]=Se.transform(-r);const l=Se.transform(e),c=Se.transform(t);n[a.array]=`${l} ${c}`}function Gg(n,{attrX:e,attrY:t,attrScale:r,originX:s,originY:a,pathLength:l,pathSpacing:c=1,pathOffset:d=0,...p},g,y,w){if(Hg(n,p,g,w),y){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:I,style:k,dimensions:R}=n;I.transform&&(R&&(k.transform=I.transform),delete I.transform),R&&(s!==void 0||a!==void 0||k.transform)&&(k.transformOrigin=Bb(R,s!==void 0?s:.5,a!==void 0?a:.5)),e!==void 0&&(I.x=e),t!==void 0&&(I.y=t),r!==void 0&&(I.scale=r),l!==void 0&&Wb(I,l,c,d,!1)}const _I=()=>({...qg(),attrs:{}}),Kg=n=>typeof n=="string"&&n.toLowerCase()==="svg";function Hb(n,e,t,r){const s=P.useMemo(()=>{const a=_I();return Gg(a,e,{enableHardwareAcceleration:!1},Kg(r),n.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(n.style){const a={};yI(a,n.style,n),s.style={...a,...s.style}}return s}function qb(n=!1){return(t,r,s,{latestValues:a},l)=>{const d=(Wg(t)?Hb:Lb)(r,a,l,t),g={...Ub(r,typeof t=="string",n),...d,ref:s},{children:y}=r,w=P.useMemo(()=>En(y)?y.get():y,[y]);return P.createElement(t,{...g,children:w})}}function wI(n,{style:e,vars:t},r,s){Object.assign(n.style,e,s&&s.getProjectionStyles(r));for(const a in t)n.style.setProperty(a,t[a])}const TI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function EI(n,e,t,r){wI(n,e,void 0,r);for(const s in e.attrs)n.setAttribute(TI.has(s)?s:Ug(s),e.attrs[s])}function Qg(n,e){const{style:t}=n,r={};for(const s in t)(En(t[s])||e.style&&En(e.style[s])||dI(s,n))&&(r[s]=t[s]);return r}function II(n,e){const t=Qg(n,e);for(const r in n)if(En(n[r])||En(e[r])){const s=zu.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;t[s]=n[r]}return t}function Yg(n,e,t,r={},s={}){return typeof e=="function"&&(e=e(t!==void 0?t:n.custom,r,s)),typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"&&(e=e(t!==void 0?t:n.custom,r,s)),e}function SI(n){const e=P.useRef(null);return e.current===null&&(e.current=n()),e.current}const ed=n=>Array.isArray(n),Gb=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),Kb=n=>ed(n)?n[n.length-1]||0:n;function Fh(n){const e=En(n)?n.get():n;return Gb(e)?e.toValue():e}function Qb({scrapeMotionValuesFromProps:n,createRenderState:e,onMount:t},r,s,a){const l={latestValues:Yb(r,s,a,n),renderState:e()};return t&&(l.mount=c=>t(r,c,l)),l}const CI=n=>(e,t)=>{const r=P.useContext(Dd),s=P.useContext(Vd),a=()=>Qb(n,e,r,s);return t?a():SI(a)};function Yb(n,e,t,r){const s={},a=r(n,{});for(const w in a)s[w]=Fh(a[w]);let{initial:l,animate:c}=n;const d=Ld(n),p=cI(n);e&&p&&!d&&n.inherit!==!1&&(l===void 0&&(l=e.initial),c===void 0&&(c=e.animate));let g=t?t.initial===!1:!1;g=g||l===!1;const y=g?c:l;return y&&typeof y!="boolean"&&!Md(y)&&(Array.isArray(y)?y:[y]).forEach(I=>{const k=Yg(n,I);if(!k)return;const{transitionEnd:R,transition:A,...$}=k;for(const U in $){let B=$[U];if(Array.isArray(B)){const Q=g?B.length-1:0;B=B[Q]}B!==null&&(s[U]=B)}for(const U in R)s[U]=R[U]}),s}const Tt=n=>n;class Xw{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);t!==-1&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function Xb(n){let e=new Xw,t=new Xw,r=0,s=!1,a=!1;const l=new WeakSet,c={schedule:(d,p=!1,g=!1)=>{const y=g&&s,w=y?e:t;return p&&l.add(d),w.add(d)&&y&&s&&(r=e.order.length),d},cancel:d=>{t.remove(d),l.delete(d)},process:d=>{if(s){a=!0;return}if(s=!0,[e,t]=[t,e],t.clear(),r=e.order.length,r)for(let p=0;p<r;p++){const g=e.order[p];g(d),l.has(g)&&(c.schedule(g),n())}s=!1,a&&(a=!1,c.process(d))}};return c}const Ih=["prepare","read","update","preRender","render","postRender"],Jb=40;function Zb(n,e){let t=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=Ih.reduce((y,w)=>(y[w]=Xb(()=>t=!0),y),{}),l=y=>a[y].process(s),c=()=>{const y=performance.now();t=!1,s.delta=r?1e3/60:Math.max(Math.min(y-s.timestamp,Jb),1),s.timestamp=y,s.isProcessing=!0,Ih.forEach(l),s.isProcessing=!1,t&&e&&(r=!1,n(c))},d=()=>{t=!0,r=!0,s.isProcessing||n(c)};return{schedule:Ih.reduce((y,w)=>{const I=a[w];return y[w]=(k,R=!1,A=!1)=>(t||d(),I.schedule(k,R,A)),y},{}),cancel:y=>Ih.forEach(w=>a[w].cancel(y)),state:s,steps:a}}const{schedule:et,cancel:mi,state:tn,steps:Yp}=Zb(typeof requestAnimationFrame<"u"?requestAnimationFrame:Tt,!0),ek={useVisualState:CI({scrapeMotionValuesFromProps:II,createRenderState:_I,onMount:(n,e,{renderState:t,latestValues:r})=>{et.read(()=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}),et.render(()=>{Gg(t,r,{enableHardwareAcceleration:!1},Kg(e.tagName),n.transformTemplate),EI(e,t)})}})},tk={useVisualState:CI({scrapeMotionValuesFromProps:Qg,createRenderState:qg})};function nk(n,{forwardMotionProps:e=!1},t,r){return{...Wg(n)?ek:tk,preloadedFeatures:t,useRender:qb(e),createVisualElement:r,Component:n}}function ui(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}const AI=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1;function jd(n,e="page"){return{point:{x:n[e+"X"],y:n[e+"Y"]}}}const rk=n=>e=>AI(e)&&n(e,jd(e));function di(n,e,t,r){return ui(n,e,rk(t),r)}const ik=(n,e)=>t=>e(n(t)),ls=(...n)=>n.reduce(ik);function xI(n){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=n,t):!1}}const Jw=xI("dragHorizontal"),Zw=xI("dragVertical");function PI(n){let e=!1;if(n==="y")e=Zw();else if(n==="x")e=Jw();else{const t=Jw(),r=Zw();t&&r?e=()=>{t(),r()}:(t&&t(),r&&r())}return e}function RI(){const n=PI(!0);return n?(n(),!1):!0}class As{constructor(e){this.isMounted=!1,this.node=e}update(){}}function e0(n,e){const t="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),s=(a,l)=>{if(a.pointerType==="touch"||RI())return;const c=n.getProps();n.animationState&&c.whileHover&&n.animationState.setActive("whileHover",e),c[r]&&et.update(()=>c[r](a,l))};return di(n.current,t,s,{passive:!n.getProps()[r]})}class sk extends As{mount(){this.unmount=ls(e0(this.node,!0),e0(this.node,!1))}unmount(){}}class ok extends As{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ls(ui(this.node.current,"focus",()=>this.onFocus()),ui(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const bI=(n,e)=>e?n===e?!0:bI(n,e.parentElement):!1;function Xp(n,e){if(!e)return;const t=new PointerEvent("pointer"+n);e(t,jd(t))}class ak extends As{constructor(){super(...arguments),this.removeStartListeners=Tt,this.removeEndListeners=Tt,this.removeAccessibleListeners=Tt,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),a=di(window,"pointerup",(c,d)=>{if(!this.checkPressEnd())return;const{onTap:p,onTapCancel:g,globalTapTarget:y}=this.node.getProps();et.update(()=>{!y&&!bI(this.node.current,c.target)?g&&g(c,d):p&&p(c,d)})},{passive:!(r.onTap||r.onPointerUp)}),l=di(window,"pointercancel",(c,d)=>this.cancelPress(c,d),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=ls(a,l),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=a=>{if(a.key!=="Enter"||this.isPressing)return;const l=c=>{c.key!=="Enter"||!this.checkPressEnd()||Xp("up",(d,p)=>{const{onTap:g}=this.node.getProps();g&&et.update(()=>g(d,p))})};this.removeEndListeners(),this.removeEndListeners=ui(this.node.current,"keyup",l),Xp("down",(c,d)=>{this.startPress(c,d)})},t=ui(this.node.current,"keydown",e),r=()=>{this.isPressing&&Xp("cancel",(a,l)=>this.cancelPress(a,l))},s=ui(this.node.current,"blur",r);this.removeAccessibleListeners=ls(t,s)}}startPress(e,t){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&et.update(()=>r(e,t))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!RI()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&et.update(()=>r(e,t))}mount(){const e=this.node.getProps(),t=di(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=ui(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=ls(t,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Lm=new WeakMap,Jp=new WeakMap,lk=n=>{const e=Lm.get(n.target);e&&e(n)},uk=n=>{n.forEach(lk)};function ck({root:n,...e}){const t=n||document;Jp.has(t)||Jp.set(t,{});const r=Jp.get(t),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(uk,{root:n,...e})),r[s]}function hk(n,e,t){const r=ck(e);return Lm.set(n,t),r.observe(n),()=>{Lm.delete(n),r.unobserve(n)}}const dk={some:0,all:1};class fk extends As{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:s="some",once:a}=e,l={root:t?t.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:dk[s]},c=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:y}=this.node.getProps(),w=p?g:y;w&&w(d)};return hk(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(pk(e,t))&&this.startObserver()}unmount(){}}function pk({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const mk={inView:{Feature:fk},tap:{Feature:ak},focus:{Feature:ok},hover:{Feature:sk}};function kI(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}function gk(n){const e={};return n.values.forEach((t,r)=>e[r]=t.get()),e}function yk(n){const e={};return n.values.forEach((t,r)=>e[r]=t.getVelocity()),e}function Ud(n,e,t){const r=n.getProps();return Yg(r,e,t!==void 0?t:r.custom,gk(n),yk(n))}let Xg=Tt;const go=n=>n*1e3,fi=n=>n/1e3,vk={current:!1},NI=n=>Array.isArray(n)&&typeof n[0]=="number";function DI(n){return!!(!n||typeof n=="string"&&VI[n]||NI(n)||Array.isArray(n)&&n.every(DI))}const cu=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,VI={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cu([0,.65,.55,1]),circOut:cu([.55,0,1,.45]),backIn:cu([.31,.01,.66,-.59]),backOut:cu([.33,1.53,.69,.99])};function OI(n){if(n)return NI(n)?cu(n):Array.isArray(n)?n.map(OI):VI[n]}function _k(n,e,t,{delay:r=0,duration:s,repeat:a=0,repeatType:l="loop",ease:c,times:d}={}){const p={[e]:t};d&&(p.offset=d);const g=OI(c);return Array.isArray(g)&&(p.easing=g),n.animate(p,{delay:r,duration:s,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"})}function wk(n,{repeat:e,repeatType:t="loop"}){const r=e&&t!=="loop"&&e%2===1?0:n.length-1;return n[r]}const MI=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,Tk=1e-7,Ek=12;function Ik(n,e,t,r,s){let a,l,c=0;do l=e+(t-e)/2,a=MI(l,r,s)-n,a>0?t=l:e=l;while(Math.abs(a)>Tk&&++c<Ek);return l}function Hu(n,e,t,r){if(n===e&&t===r)return Tt;const s=a=>Ik(a,0,1,n,t);return a=>a===0||a===1?a:MI(s(a),e,r)}const Sk=Hu(.42,0,1,1),Ck=Hu(0,0,.58,1),LI=Hu(.42,0,.58,1),Ak=n=>Array.isArray(n)&&typeof n[0]!="number",FI=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,jI=n=>e=>1-n(1-e),Jg=n=>1-Math.sin(Math.acos(n)),UI=jI(Jg),xk=FI(Jg),BI=Hu(.33,1.53,.69,.99),Zg=jI(BI),Pk=FI(Zg),Rk=n=>(n*=2)<1?.5*Zg(n):.5*(2-Math.pow(2,-10*(n-1))),bk={linear:Tt,easeIn:Sk,easeInOut:LI,easeOut:Ck,circIn:Jg,circInOut:xk,circOut:UI,backIn:Zg,backInOut:Pk,backOut:BI,anticipate:Rk},t0=n=>{if(Array.isArray(n)){Xg(n.length===4);const[e,t,r,s]=n;return Hu(e,t,r,s)}else if(typeof n=="string")return bk[n];return n},ey=(n,e)=>t=>!!($u(t)&&Nb.test(t)&&t.startsWith(n)||e&&Object.prototype.hasOwnProperty.call(t,e)),zI=(n,e,t)=>r=>{if(!$u(r))return r;const[s,a,l,c]=r.match(Fd);return{[n]:parseFloat(s),[e]:parseFloat(a),[t]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},kk=n=>ms(0,255,n),Zp={...xo,transform:n=>Math.round(kk(n))},co={test:ey("rgb","red"),parse:zI("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+Zp.transform(n)+", "+Zp.transform(e)+", "+Zp.transform(t)+", "+yu(gu.transform(r))+")"};function Nk(n){let e="",t="",r="",s="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),s=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),s=n.substring(4,5),e+=e,t+=t,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Fm={test:ey("#"),parse:Nk,transform:co.transform},Pa={test:ey("hsl","hue"),parse:zI("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+Dr.transform(yu(e))+", "+Dr.transform(yu(t))+", "+yu(gu.transform(r))+")"},ln={test:n=>co.test(n)||Fm.test(n)||Pa.test(n),parse:n=>co.test(n)?co.parse(n):Pa.test(n)?Pa.parse(n):Fm.parse(n),transform:n=>$u(n)?n:n.hasOwnProperty("red")?co.transform(n):Pa.transform(n)},ft=(n,e,t)=>-t*n+t*e+n;function em(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function Dk({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let s=0,a=0,l=0;if(!e)s=a=l=t;else{const c=t<.5?t*(1+e):t+e-t*e,d=2*t-c;s=em(d,c,n+1/3),a=em(d,c,n),l=em(d,c,n-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}const tm=(n,e,t)=>{const r=n*n;return Math.sqrt(Math.max(0,t*(e*e-r)+r))},Vk=[Fm,co,Pa],Ok=n=>Vk.find(e=>e.test(n));function n0(n){const e=Ok(n);let t=e.parse(n);return e===Pa&&(t=Dk(t)),t}const $I=(n,e)=>{const t=n0(n),r=n0(e),s={...t};return a=>(s.red=tm(t.red,r.red,a),s.green=tm(t.green,r.green,a),s.blue=tm(t.blue,r.blue,a),s.alpha=ft(t.alpha,r.alpha,a),co.transform(s))};function Mk(n){var e,t;return isNaN(n)&&$u(n)&&(((e=n.match(Fd))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(mI))===null||t===void 0?void 0:t.length)||0)>0}const WI={regex:bb,countKey:"Vars",token:"${v}",parse:Tt},HI={regex:mI,countKey:"Colors",token:"${c}",parse:ln.parse},qI={regex:Fd,countKey:"Numbers",token:"${n}",parse:xo.parse};function nm(n,{regex:e,countKey:t,token:r,parse:s}){const a=n.tokenised.match(e);a&&(n["num"+t]=a.length,n.tokenised=n.tokenised.replace(e,r),n.values.push(...a.map(s)))}function td(n){const e=n.toString(),t={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return t.value.includes("var(--")&&nm(t,WI),nm(t,HI),nm(t,qI),t}function GI(n){return td(n).values}function KI(n){const{values:e,numColors:t,numVars:r,tokenised:s}=td(n),a=e.length;return l=>{let c=s;for(let d=0;d<a;d++)d<r?c=c.replace(WI.token,l[d]):d<r+t?c=c.replace(HI.token,ln.transform(l[d])):c=c.replace(qI.token,yu(l[d]));return c}}const Lk=n=>typeof n=="number"?0:n;function Fk(n){const e=GI(n);return KI(n)(e.map(Lk))}const gs={test:Mk,parse:GI,createTransformer:KI,getAnimatableNone:Fk},QI=(n,e)=>t=>`${t>0?e:n}`;function YI(n,e){return typeof n=="number"?t=>ft(n,e,t):ln.test(n)?$I(n,e):n.startsWith("var(")?QI(n,e):JI(n,e)}const XI=(n,e)=>{const t=[...n],r=t.length,s=n.map((a,l)=>YI(a,e[l]));return a=>{for(let l=0;l<r;l++)t[l]=s[l](a);return t}},jk=(n,e)=>{const t={...n,...e},r={};for(const s in t)n[s]!==void 0&&e[s]!==void 0&&(r[s]=YI(n[s],e[s]));return s=>{for(const a in r)t[a]=r[a](s);return t}},JI=(n,e)=>{const t=gs.createTransformer(e),r=td(n),s=td(e);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?ls(XI(r.values,s.values),t):QI(n,e)},ku=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r},r0=(n,e)=>t=>ft(n,e,t);function Uk(n){return typeof n=="number"?r0:typeof n=="string"?ln.test(n)?$I:JI:Array.isArray(n)?XI:typeof n=="object"?jk:r0}function Bk(n,e,t){const r=[],s=t||Uk(n[0]),a=n.length-1;for(let l=0;l<a;l++){let c=s(n[l],n[l+1]);if(e){const d=Array.isArray(e)?e[l]||Tt:e;c=ls(d,c)}r.push(c)}return r}function ZI(n,e,{clamp:t=!0,ease:r,mixer:s}={}){const a=n.length;if(Xg(a===e.length),a===1)return()=>e[0];n[0]>n[a-1]&&(n=[...n].reverse(),e=[...e].reverse());const l=Bk(e,r,s),c=l.length,d=p=>{let g=0;if(c>1)for(;g<n.length-2&&!(p<n[g+1]);g++);const y=ku(n[g],n[g+1],p);return l[g](y)};return t?p=>d(ms(n[0],n[a-1],p)):d}function zk(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const s=ku(0,e,r);n.push(ft(t,1,s))}}function $k(n){const e=[0];return zk(e,n.length-1),e}function Wk(n,e){return n.map(t=>t*e)}function Hk(n,e){return n.map(()=>e||LI).splice(0,n.length-1)}function nd({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const s=Ak(r)?r.map(t0):t0(r),a={done:!1,value:e[0]},l=Wk(t&&t.length===e.length?t:$k(e),n),c=ZI(l,e,{ease:Array.isArray(s)?s:Hk(e,s)});return{calculatedDuration:n,next:d=>(a.value=c(d),a.done=d>=n,a)}}function eS(n,e){return e?n*(1e3/e):0}const qk=5;function tS(n,e,t){const r=Math.max(e-qk,0);return eS(t-n(r),e-r)}const rm=.001,Gk=.01,Kk=10,Qk=.05,Yk=1;function Xk({duration:n=800,bounce:e=.25,velocity:t=0,mass:r=1}){let s,a,l=1-e;l=ms(Qk,Yk,l),n=ms(Gk,Kk,fi(n)),l<1?(s=p=>{const g=p*l,y=g*n,w=g-t,I=jm(p,l),k=Math.exp(-y);return rm-w/I*k},a=p=>{const y=p*l*n,w=y*t+t,I=Math.pow(l,2)*Math.pow(p,2)*n,k=Math.exp(-y),R=jm(Math.pow(p,2),l);return(-s(p)+rm>0?-1:1)*((w-I)*k)/R}):(s=p=>{const g=Math.exp(-p*n),y=(p-t)*n+1;return-rm+g*y},a=p=>{const g=Math.exp(-p*n),y=(t-p)*(n*n);return g*y});const c=5/n,d=Zk(s,a,c);if(n=go(n),isNaN(d))return{stiffness:100,damping:10,duration:n};{const p=Math.pow(d,2)*r;return{stiffness:p,damping:l*2*Math.sqrt(r*p),duration:n}}}const Jk=12;function Zk(n,e,t){let r=t;for(let s=1;s<Jk;s++)r=r-n(r)/e(r);return r}function jm(n,e){return n*Math.sqrt(1-e*e)}const eN=["duration","bounce"],tN=["stiffness","damping","mass"];function i0(n,e){return e.some(t=>n[t]!==void 0)}function nN(n){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...n};if(!i0(n,tN)&&i0(n,eN)){const t=Xk(n);e={...e,...t,mass:1},e.isResolvedFromDuration=!0}return e}function nS({keyframes:n,restDelta:e,restSpeed:t,...r}){const s=n[0],a=n[n.length-1],l={done:!1,value:s},{stiffness:c,damping:d,mass:p,duration:g,velocity:y,isResolvedFromDuration:w}=nN({...r,velocity:-fi(r.velocity||0)}),I=y||0,k=d/(2*Math.sqrt(c*p)),R=a-s,A=fi(Math.sqrt(c/p)),$=Math.abs(R)<5;t||(t=$?.01:2),e||(e=$?.005:.5);let U;if(k<1){const B=jm(A,k);U=Q=>{const ee=Math.exp(-k*A*Q);return a-ee*((I+k*A*R)/B*Math.sin(B*Q)+R*Math.cos(B*Q))}}else if(k===1)U=B=>a-Math.exp(-A*B)*(R+(I+A*R)*B);else{const B=A*Math.sqrt(k*k-1);U=Q=>{const ee=Math.exp(-k*A*Q),ie=Math.min(B*Q,300);return a-ee*((I+k*A*R)*Math.sinh(ie)+B*R*Math.cosh(ie))/B}}return{calculatedDuration:w&&g||null,next:B=>{const Q=U(B);if(w)l.done=B>=g;else{let ee=I;B!==0&&(k<1?ee=tS(U,B,Q):ee=0);const ie=Math.abs(ee)<=t,N=Math.abs(a-Q)<=e;l.done=ie&&N}return l.value=l.done?a:Q,l}}}function s0({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:l,min:c,max:d,restDelta:p=.5,restSpeed:g}){const y=n[0],w={done:!1,value:y},I=x=>c!==void 0&&x<c||d!==void 0&&x>d,k=x=>c===void 0?d:d===void 0||Math.abs(c-x)<Math.abs(d-x)?c:d;let R=t*e;const A=y+R,$=l===void 0?A:l(A);$!==A&&(R=$-y);const U=x=>-R*Math.exp(-x/r),B=x=>$+U(x),Q=x=>{const b=U(x),M=B(x);w.done=Math.abs(b)<=p,w.value=w.done?$:M};let ee,ie;const N=x=>{I(w.value)&&(ee=x,ie=nS({keyframes:[w.value,k(w.value)],velocity:tS(B,x,w.value),damping:s,stiffness:a,restDelta:p,restSpeed:g}))};return N(0),{calculatedDuration:null,next:x=>{let b=!1;return!ie&&ee===void 0&&(b=!0,Q(x),N(x)),ee!==void 0&&x>ee?ie.next(x-ee):(!b&&Q(x),w)}}}const rN=n=>{const e=({timestamp:t})=>n(t);return{start:()=>et.update(e,!0),stop:()=>mi(e),now:()=>tn.isProcessing?tn.timestamp:performance.now()}},o0=2e4;function a0(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<o0;)e+=t,r=n.next(e);return e>=o0?1/0:e}const iN={decay:s0,inertia:s0,tween:nd,keyframes:nd,spring:nS};function rd({autoplay:n=!0,delay:e=0,driver:t=rN,keyframes:r,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",onPlay:d,onStop:p,onComplete:g,onUpdate:y,...w}){let I=1,k=!1,R,A;const $=()=>{A=new Promise(j=>{R=j})};$();let U;const B=iN[s]||nd;let Q;B!==nd&&typeof r[0]!="number"&&(Q=ZI([0,100],r,{clamp:!1}),r=[0,100]);const ee=B({...w,keyframes:r});let ie;c==="mirror"&&(ie=B({...w,keyframes:[...r].reverse(),velocity:-(w.velocity||0)}));let N="idle",x=null,b=null,M=null;ee.calculatedDuration===null&&a&&(ee.calculatedDuration=a0(ee));const{calculatedDuration:O}=ee;let L=1/0,D=1/0;O!==null&&(L=O+l,D=L*(a+1)-l);let ae=0;const se=j=>{if(b===null)return;I>0&&(b=Math.min(b,j)),I<0&&(b=Math.min(j-D/I,b)),x!==null?ae=x:ae=Math.round(j-b)*I;const Y=ae-e*(I>=0?1:-1),ge=I>=0?Y<0:Y>D;ae=Math.max(Y,0),N==="finished"&&x===null&&(ae=D);let xe=ae,Ve=ee;if(a){const qe=Math.min(ae,D)/L;let It=Math.floor(qe),dn=qe%1;!dn&&qe>=1&&(dn=1),dn===1&&It--,It=Math.min(It,a+1),!!(It%2)&&(c==="reverse"?(dn=1-dn,l&&(dn-=l/L)):c==="mirror"&&(Ve=ie)),xe=ms(0,1,dn)*L}const De=ge?{done:!1,value:r[0]}:Ve.next(xe);Q&&(De.value=Q(De.value));let{done:$e}=De;!ge&&O!==null&&($e=I>=0?ae>=D:ae<=0);const Ue=x===null&&(N==="finished"||N==="running"&&$e);return y&&y(De.value),Ue&&ne(),De},pe=()=>{U&&U.stop(),U=void 0},Ie=()=>{N="idle",pe(),R(),$(),b=M=null},ne=()=>{N="finished",g&&g(),pe(),R()},le=()=>{if(k)return;U||(U=t(se));const j=U.now();d&&d(),x!==null?b=j-x:(!b||N==="finished")&&(b=j),N==="finished"&&$(),M=b,x=null,N="running",U.start()};n&&le();const ce={then(j,Y){return A.then(j,Y)},get time(){return fi(ae)},set time(j){j=go(j),ae=j,x!==null||!U||I===0?x=j:b=U.now()-j/I},get duration(){const j=ee.calculatedDuration===null?a0(ee):ee.calculatedDuration;return fi(j)},get speed(){return I},set speed(j){j===I||!U||(I=j,ce.time=fi(ae))},get state(){return N},play:le,pause:()=>{N="paused",x=ae},stop:()=>{k=!0,N!=="idle"&&(N="idle",p&&p(),Ie())},cancel:()=>{M!==null&&se(M),Ie()},complete:()=>{N="finished"},sample:j=>(b=0,se(j))};return ce}function sN(n){let e;return()=>(e===void 0&&(e=n()),e)}const oN=sN(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),aN=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Sh=10,lN=2e4,uN=(n,e)=>e.type==="spring"||n==="backgroundColor"||!DI(e.ease);function cN(n,e,{onUpdate:t,onComplete:r,...s}){if(!(oN()&&aN.has(e)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let l=!1,c,d,p=!1;const g=()=>{d=new Promise(B=>{c=B})};g();let{keyframes:y,duration:w=300,ease:I,times:k}=s;if(uN(e,s)){const B=rd({...s,repeat:0,delay:0});let Q={done:!1,value:y[0]};const ee=[];let ie=0;for(;!Q.done&&ie<lN;)Q=B.sample(ie),ee.push(Q.value),ie+=Sh;k=void 0,y=ee,w=ie-Sh,I="linear"}const R=_k(n.owner.current,e,y,{...s,duration:w,ease:I,times:k}),A=()=>{p=!1,R.cancel()},$=()=>{p=!0,et.update(A),c(),g()};return R.onfinish=()=>{p||(n.set(wk(y,s)),r&&r(),$())},{then(B,Q){return d.then(B,Q)},attachTimeline(B){return R.timeline=B,R.onfinish=null,Tt},get time(){return fi(R.currentTime||0)},set time(B){R.currentTime=go(B)},get speed(){return R.playbackRate},set speed(B){R.playbackRate=B},get duration(){return fi(w)},play:()=>{l||(R.play(),mi(A))},pause:()=>R.pause(),stop:()=>{if(l=!0,R.playState==="idle")return;const{currentTime:B}=R;if(B){const Q=rd({...s,autoplay:!1});n.setWithVelocity(Q.sample(B-Sh).value,Q.sample(B).value,Sh)}$()},complete:()=>{p||R.finish()},cancel:$}}function hN({keyframes:n,delay:e,onUpdate:t,onComplete:r}){const s=()=>(t&&t(n[n.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Tt,pause:Tt,stop:Tt,then:a=>(a(),Promise.resolve()),cancel:Tt,complete:Tt});return e?rd({keyframes:[0,1],duration:0,delay:e,onComplete:s}):s()}const dN={type:"spring",stiffness:500,damping:25,restSpeed:10},fN=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),pN={type:"keyframes",duration:.8},mN={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},gN=(n,{keyframes:e})=>e.length>2?pN:Ao.has(n)?n.startsWith("scale")?fN(e[1]):dN:mN,Um=(n,e)=>n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(gs.test(e)||e==="0")&&!e.startsWith("url(")),yN=new Set(["brightness","contrast","saturate","opacity"]);function vN(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(Fd)||[];if(!r)return n;const s=t.replace(r,"");let a=yN.has(e)?1:0;return r!==t&&(a*=100),e+"("+a+s+")"}const _N=/([a-z-]*)\(.*?\)/g,Bm={...gs,getAnimatableNone:n=>{const e=n.match(_N);return e?e.map(vN).join(" "):n}},wN={...gI,color:ln,backgroundColor:ln,outlineColor:ln,fill:ln,stroke:ln,borderColor:ln,borderTopColor:ln,borderRightColor:ln,borderBottomColor:ln,borderLeftColor:ln,filter:Bm,WebkitFilter:Bm},ty=n=>wN[n];function rS(n,e){let t=ty(n);return t!==Bm&&(t=gs),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const iS=n=>/^0[^.\s]+$/.test(n);function TN(n){if(typeof n=="number")return n===0;if(n!==null)return n==="none"||n==="0"||iS(n)}function EN(n,e,t,r){const s=Um(e,t);let a;Array.isArray(t)?a=[...t]:a=[null,t];const l=r.from!==void 0?r.from:n.get();let c;const d=[];for(let p=0;p<a.length;p++)a[p]===null&&(a[p]=p===0?l:a[p-1]),TN(a[p])&&d.push(p),typeof a[p]=="string"&&a[p]!=="none"&&a[p]!=="0"&&(c=a[p]);if(s&&d.length&&c)for(let p=0;p<d.length;p++){const g=d[p];a[g]=rS(e,c)}return a}function IN({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:s,repeat:a,repeatType:l,repeatDelay:c,from:d,elapsed:p,...g}){return!!Object.keys(g).length}function ny(n,e){return n[e]||n.default||n}const SN={skipAnimations:!1},ry=(n,e,t,r={})=>s=>{const a=ny(r,n)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-go(l);const d=EN(e,n,t,a),p=d[0],g=d[d.length-1],y=Um(n,p),w=Um(n,g);let I={keyframes:d,velocity:e.getVelocity(),ease:"easeOut",...a,delay:-c,onUpdate:k=>{e.set(k),a.onUpdate&&a.onUpdate(k)},onComplete:()=>{s(),a.onComplete&&a.onComplete()}};if(IN(a)||(I={...I,...gN(n,I)}),I.duration&&(I.duration=go(I.duration)),I.repeatDelay&&(I.repeatDelay=go(I.repeatDelay)),!y||!w||vk.current||a.type===!1||SN.skipAnimations)return hN(I);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const k=cN(e,n,I);if(k)return k}return rd(I)};function id(n){return!!(En(n)&&n.add)}const sS=n=>/^\-?\d*\.?\d+$/.test(n);function iy(n,e){n.indexOf(e)===-1&&n.push(e)}function sy(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class oy{constructor(){this.subscriptions=[]}add(e){return iy(this.subscriptions,e),()=>sy(this.subscriptions,e)}notify(e,t,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,t,r);else for(let a=0;a<s;a++){const l=this.subscriptions[a];l&&l(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const CN=n=>!isNaN(parseFloat(n));class AN{constructor(e,t={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:a,timestamp:l}=tn;this.lastUpdated!==l&&(this.timeDelta=a,this.lastUpdated=l,et.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>et.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=CN(this.current),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new oy);const r=this.events[e].add(t);return e==="change"?()=>{r(),et.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?eS(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Wa(n,e){return new AN(n,e)}const oS=n=>e=>e.test(n),xN={test:n=>n==="auto",parse:n=>n},aS=[xo,Se,Dr,Zi,Vb,Db,xN],su=n=>aS.find(oS(n)),PN=[...aS,ln,gs],RN=n=>PN.find(oS(n));function bN(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Wa(t))}function kN(n,e){const t=Ud(n,e);let{transitionEnd:r={},transition:s={},...a}=t?n.makeTargetAnimatable(t,!1):{};a={...a,...r};for(const l in a){const c=Kb(a[l]);bN(n,l,c)}}function NN(n,e,t){var r,s;const a=Object.keys(e).filter(c=>!n.hasValue(c)),l=a.length;if(l)for(let c=0;c<l;c++){const d=a[c],p=e[d];let g=null;Array.isArray(p)&&(g=p[0]),g===null&&(g=(s=(r=t[d])!==null&&r!==void 0?r:n.readValue(d))!==null&&s!==void 0?s:e[d]),g!=null&&(typeof g=="string"&&(sS(g)||iS(g))?g=parseFloat(g):!RN(g)&&gs.test(p)&&(g=rS(d,p)),n.addValue(d,Wa(g,{owner:n})),t[d]===void 0&&(t[d]=g),g!==null&&n.setBaseTarget(d,g))}}function DN(n,e){return e?(e[n]||e.default||e).from:void 0}function VN(n,e,t){const r={};for(const s in n){const a=DN(s,e);if(a!==void 0)r[s]=a;else{const l=t.getValue(s);l&&(r[s]=l.get())}}return r}function ON({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function MN(n,e){const t=n.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}else return t!==e}function lS(n,e,{delay:t=0,transitionOverride:r,type:s}={}){let{transition:a=n.getDefaultTransition(),transitionEnd:l,...c}=n.makeTargetAnimatable(e);const d=n.getValue("willChange");r&&(a=r);const p=[],g=s&&n.animationState&&n.animationState.getState()[s];for(const y in c){const w=n.getValue(y),I=c[y];if(!w||I===void 0||g&&ON(g,y))continue;const k={delay:t,elapsed:0,...ny(a||{},y)};if(window.HandoffAppearAnimations){const $=n.getProps()[uI];if($){const U=window.HandoffAppearAnimations($,y,w,et);U!==null&&(k.elapsed=U,k.isHandoff=!0)}}let R=!k.isHandoff&&!MN(w,I);if(k.type==="spring"&&(w.getVelocity()||k.velocity)&&(R=!1),w.animation&&(R=!1),R)continue;w.start(ry(y,w,I,n.shouldReduceMotion&&Ao.has(y)?{type:!1}:k));const A=w.animation;id(d)&&(d.add(y),A.then(()=>d.remove(y))),p.push(A)}return l&&Promise.all(p).then(()=>{l&&kN(n,l)}),p}function zm(n,e,t={}){const r=Ud(n,e,t.custom);let{transition:s=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(s=t.transitionOverride);const a=r?()=>Promise.all(lS(n,r,t)):()=>Promise.resolve(),l=n.variantChildren&&n.variantChildren.size?(d=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:y}=s;return LN(n,e,p+d,g,y,t)}:()=>Promise.resolve(),{when:c}=s;if(c){const[d,p]=c==="beforeChildren"?[a,l]:[l,a];return d().then(()=>p())}else return Promise.all([a(),l(t.delay)])}function LN(n,e,t=0,r=0,s=1,a){const l=[],c=(n.variantChildren.size-1)*r,d=s===1?(p=0)=>p*r:(p=0)=>c-p*r;return Array.from(n.variantChildren).sort(FN).forEach((p,g)=>{p.notify("AnimationStart",e),l.push(zm(p,e,{...a,delay:t+d(g)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(l)}function FN(n,e){return n.sortNodePosition(e)}function jN(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(a=>zm(n,a,t));r=Promise.all(s)}else if(typeof e=="string")r=zm(n,e,t);else{const s=typeof e=="function"?Ud(n,e,t.custom):e;r=Promise.all(lS(n,s,t))}return r.then(()=>n.notify("AnimationComplete",e))}const UN=[...Bg].reverse(),BN=Bg.length;function zN(n){return e=>Promise.all(e.map(({animation:t,options:r})=>jN(n,t,r)))}function $N(n){let e=zN(n);const t=HN();let r=!0;const s=(d,p)=>{const g=Ud(n,p);if(g){const{transition:y,transitionEnd:w,...I}=g;d={...d,...I,...w}}return d};function a(d){e=d(n)}function l(d,p){const g=n.getProps(),y=n.getVariantContext(!0)||{},w=[],I=new Set;let k={},R=1/0;for(let $=0;$<BN;$++){const U=UN[$],B=t[U],Q=g[U]!==void 0?g[U]:y[U],ee=Ru(Q),ie=U===p?B.isActive:null;ie===!1&&(R=$);let N=Q===y[U]&&Q!==g[U]&&ee;if(N&&r&&n.manuallyAnimateOnMount&&(N=!1),B.protectedKeys={...k},!B.isActive&&ie===null||!Q&&!B.prevProp||Md(Q)||typeof Q=="boolean")continue;let b=WN(B.prevProp,Q)||U===p&&B.isActive&&!N&&ee||$>R&&ee,M=!1;const O=Array.isArray(Q)?Q:[Q];let L=O.reduce(s,{});ie===!1&&(L={});const{prevResolvedValues:D={}}=B,ae={...D,...L},se=pe=>{b=!0,I.has(pe)&&(M=!0,I.delete(pe)),B.needsAnimating[pe]=!0};for(const pe in ae){const Ie=L[pe],ne=D[pe];if(k.hasOwnProperty(pe))continue;let le=!1;ed(Ie)&&ed(ne)?le=!kI(Ie,ne):le=Ie!==ne,le?Ie!==void 0?se(pe):I.add(pe):Ie!==void 0&&I.has(pe)?se(pe):B.protectedKeys[pe]=!0}B.prevProp=Q,B.prevResolvedValues=L,B.isActive&&(k={...k,...L}),r&&n.blockInitialAnimation&&(b=!1),b&&(!N||M)&&w.push(...O.map(pe=>({animation:pe,options:{type:U,...d}})))}if(I.size){const $={};I.forEach(U=>{const B=n.getBaseTarget(U);B!==void 0&&($[U]=B)}),w.push({animation:$})}let A=!!w.length;return r&&(g.initial===!1||g.initial===g.animate)&&!n.manuallyAnimateOnMount&&(A=!1),r=!1,A?e(w):Promise.resolve()}function c(d,p,g){var y;if(t[d].isActive===p)return Promise.resolve();(y=n.variantChildren)===null||y===void 0||y.forEach(I=>{var k;return(k=I.animationState)===null||k===void 0?void 0:k.setActive(d,p)}),t[d].isActive=p;const w=l(g,d);for(const I in t)t[I].protectedKeys={};return w}return{animateChanges:l,setActive:c,setAnimateFunction:a,getState:()=>t}}function WN(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!kI(e,n):!1}function io(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function HN(){return{animate:io(!0),whileInView:io(),whileHover:io(),whileTap:io(),whileDrag:io(),whileFocus:io(),exit:io()}}class qN extends As{constructor(e){super(e),e.animationState||(e.animationState=$N(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Md(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}let GN=0;class KN extends As{constructor(){super(...arguments),this.id=GN++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});t&&!e&&a.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const QN={animation:{Feature:qN},exit:{Feature:KN}},l0=(n,e)=>Math.abs(n-e);function YN(n,e){const t=l0(n.x,e.x),r=l0(n.y,e.y);return Math.sqrt(t**2+r**2)}class uS{constructor(e,t,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=sm(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,I=YN(y.offset,{x:0,y:0})>=3;if(!w&&!I)return;const{point:k}=y,{timestamp:R}=tn;this.history.push({...k,timestamp:R});const{onStart:A,onMove:$}=this.handlers;w||(A&&A(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),$&&$(this.lastMoveEvent,y)},this.handlePointerMove=(y,w)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=im(w,this.transformPagePoint),et.update(this.updatePoint,!0)},this.handlePointerUp=(y,w)=>{this.end();const{onEnd:I,onSessionEnd:k,resumeAnimation:R}=this.handlers;if(this.dragSnapToOrigin&&R&&R(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=sm(y.type==="pointercancel"?this.lastMoveEventInfo:im(w,this.transformPagePoint),this.history);this.startEvent&&I&&I(y,A),k&&k(y,A)},!AI(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=r,this.contextWindow=s||window;const l=jd(e),c=im(l,this.transformPagePoint),{point:d}=c,{timestamp:p}=tn;this.history=[{...d,timestamp:p}];const{onSessionStart:g}=t;g&&g(e,sm(c,this.history)),this.removeListeners=ls(di(this.contextWindow,"pointermove",this.handlePointerMove),di(this.contextWindow,"pointerup",this.handlePointerUp),di(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),mi(this.updatePoint)}}function im(n,e){return e?{point:e(n.point)}:n}function u0(n,e){return{x:n.x-e.x,y:n.y-e.y}}function sm({point:n},e){return{point:n,delta:u0(n,cS(e)),offset:u0(n,XN(e)),velocity:JN(e,.1)}}function XN(n){return n[0]}function cS(n){return n[n.length-1]}function JN(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const s=cS(n);for(;t>=0&&(r=n[t],!(s.timestamp-r.timestamp>go(e)));)t--;if(!r)return{x:0,y:0};const a=fi(s.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(s.x-r.x)/a,y:(s.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function On(n){return n.max-n.min}function $m(n,e=0,t=.01){return Math.abs(n-e)<=t}function c0(n,e,t,r=.5){n.origin=r,n.originPoint=ft(e.min,e.max,n.origin),n.scale=On(t)/On(e),($m(n.scale,1,1e-4)||isNaN(n.scale))&&(n.scale=1),n.translate=ft(t.min,t.max,n.origin)-n.originPoint,($m(n.translate)||isNaN(n.translate))&&(n.translate=0)}function vu(n,e,t,r){c0(n.x,e.x,t.x,r?r.originX:void 0),c0(n.y,e.y,t.y,r?r.originY:void 0)}function h0(n,e,t){n.min=t.min+e.min,n.max=n.min+On(e)}function ZN(n,e,t){h0(n.x,e.x,t.x),h0(n.y,e.y,t.y)}function d0(n,e,t){n.min=e.min-t.min,n.max=n.min+On(e)}function _u(n,e,t){d0(n.x,e.x,t.x),d0(n.y,e.y,t.y)}function e2(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?ft(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?ft(t,n,r.max):Math.min(n,t)),n}function f0(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function t2(n,{top:e,left:t,bottom:r,right:s}){return{x:f0(n.x,t,s),y:f0(n.y,e,r)}}function p0(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function n2(n,e){return{x:p0(n.x,e.x),y:p0(n.y,e.y)}}function r2(n,e){let t=.5;const r=On(n),s=On(e);return s>r?t=ku(e.min,e.max-r,n.min):r>s&&(t=ku(n.min,n.max-s,e.min)),ms(0,1,t)}function i2(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const Wm=.35;function s2(n=Wm){return n===!1?n=0:n===!0&&(n=Wm),{x:m0(n,"left","right"),y:m0(n,"top","bottom")}}function m0(n,e,t){return{min:g0(n,e),max:g0(n,t)}}function g0(n,e){return typeof n=="number"?n:n[e]||0}const y0=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ra=()=>({x:y0(),y:y0()}),v0=()=>({min:0,max:0}),Pt=()=>({x:v0(),y:v0()});function Hn(n){return[n("x"),n("y")]}function hS({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function o2({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function a2(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function om(n){return n===void 0||n===1}function Hm({scale:n,scaleX:e,scaleY:t}){return!om(n)||!om(e)||!om(t)}function oo(n){return Hm(n)||dS(n)||n.z||n.rotate||n.rotateX||n.rotateY}function dS(n){return _0(n.x)||_0(n.y)}function _0(n){return n&&n!=="0%"}function sd(n,e,t){const r=n-t,s=e*r;return t+s}function w0(n,e,t,r,s){return s!==void 0&&(n=sd(n,s,r)),sd(n,t,r)+e}function qm(n,e=0,t=1,r,s){n.min=w0(n.min,e,t,r,s),n.max=w0(n.max,e,t,r,s)}function fS(n,{x:e,y:t}){qm(n.x,e.translate,e.scale,e.originPoint),qm(n.y,t.translate,t.scale,t.originPoint)}function l2(n,e,t,r=!1){const s=t.length;if(!s)return;e.x=e.y=1;let a,l;for(let c=0;c<s;c++){a=t[c],l=a.projectionDelta;const d=a.instance;d&&d.style&&d.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&ba(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,fS(n,l)),r&&oo(a.latestValues)&&ba(n,a.latestValues))}e.x=T0(e.x),e.y=T0(e.y)}function T0(n){return Number.isInteger(n)||n>1.0000000000001||n<.999999999999?n:1}function es(n,e){n.min=n.min+e,n.max=n.max+e}function E0(n,e,[t,r,s]){const a=e[s]!==void 0?e[s]:.5,l=ft(n.min,n.max,a);qm(n,e[t],e[r],l,e.scale)}const u2=["x","scaleX","originX"],c2=["y","scaleY","originY"];function ba(n,e){E0(n.x,e,u2),E0(n.y,e,c2)}function pS(n,e){return hS(a2(n.getBoundingClientRect(),e))}function h2(n,e,t){const r=pS(n,t),{scroll:s}=e;return s&&(es(r.x,s.offset.x),es(r.y,s.offset.y)),r}const mS=({current:n})=>n?n.ownerDocument.defaultView:null,d2=new WeakMap;class f2{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Pt(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=g=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(jd(g,"page").point)},a=(g,y)=>{const{drag:w,dragPropagation:I,onDragStart:k}=this.getProps();if(w&&!I&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=PI(w),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Hn(A=>{let $=this.getAxisMotionValue(A).get()||0;if(Dr.test($)){const{projection:U}=this.visualElement;if(U&&U.layout){const B=U.layout.layoutBox[A];B&&($=On(B)*(parseFloat($)/100))}}this.originPoint[A]=$}),k&&et.update(()=>k(g,y),!1,!0);const{animationState:R}=this.visualElement;R&&R.setActive("whileDrag",!0)},l=(g,y)=>{const{dragPropagation:w,dragDirectionLock:I,onDirectionLock:k,onDrag:R}=this.getProps();if(!w&&!this.openGlobalLock)return;const{offset:A}=y;if(I&&this.currentDirection===null){this.currentDirection=p2(A),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",y.point,A),this.updateAxis("y",y.point,A),this.visualElement.render(),R&&R(g,y)},c=(g,y)=>this.stop(g,y),d=()=>Hn(g=>{var y;return this.getAnimationState(g)==="paused"&&((y=this.getAxisMotionValue(g).animation)===null||y===void 0?void 0:y.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new uS(e,{onSessionStart:s,onStart:a,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:mS(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=t;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&et.update(()=>a(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:s}=this.getProps();if(!r||!Ch(e,s,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=e2(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;t&&xa(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=t2(s.layoutBox,t):this.constraints=!1,this.elastic=s2(r),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Hn(l=>{this.getAxisMotionValue(l)&&(this.constraints[l]=i2(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!xa(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=h2(r,s.root,this.visualElement.getTransformPagePoint());let l=n2(s.layout.layoutBox,a);if(t){const c=t(o2(l));this.hasMutatedConstraints=!!c,c&&(l=hS(c))}return l}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:s,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},p=Hn(g=>{if(!Ch(g,t,this.currentDirection))return;let y=d&&d[g]||{};l&&(y={min:0,max:0});const w=s?200:1e6,I=s?40:1e7,k={type:"inertia",velocity:r?e[g]:0,bounceStiffness:w,bounceDamping:I,timeConstant:750,restDelta:1,restSpeed:10,...a,...y};return this.startAxisValueAnimation(g,k)});return Promise.all(p).then(c)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return r.start(ry(e,r,0,t))}stopAnimation(){Hn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Hn(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),s=r[t];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Hn(t=>{const{drag:r}=this.getProps();if(!Ch(t,r,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(t);if(s&&s.layout){const{min:l,max:c}=s.layout.layoutBox[t];a.set(e[t]-ft(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!xa(t)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Hn(l=>{const c=this.getAxisMotionValue(l);if(c){const d=c.get();s[l]=r2({min:d,max:d},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Hn(l=>{if(!Ch(l,e,null))return;const c=this.getAxisMotionValue(l),{min:d,max:p}=this.constraints[l];c.set(ft(d,p,s[l]))})}addListeners(){if(!this.visualElement.current)return;d2.set(this.visualElement,this);const e=this.visualElement.current,t=di(e,"pointerdown",d=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();xa(d)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const l=ui(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(Hn(g=>{const y=this.getAxisMotionValue(g);y&&(this.originPoint[g]+=d[g].translate,y.set(y.get()+d[g].translate))}),this.visualElement.render())}));return()=>{l(),t(),a(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:l=Wm,dragMomentum:c=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:s,dragConstraints:a,dragElastic:l,dragMomentum:c}}}function Ch(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function p2(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class m2 extends As{constructor(e){super(e),this.removeGroupControls=Tt,this.removeListeners=Tt,this.controls=new f2(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Tt}unmount(){this.removeGroupControls(),this.removeListeners()}}const I0=n=>(e,t)=>{n&&et.update(()=>n(e,t))};class g2 extends As{constructor(){super(...arguments),this.removePointerDownListener=Tt}onPointerDown(e){this.session=new uS(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:mS(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:I0(e),onStart:I0(t),onMove:r,onEnd:(a,l)=>{delete this.session,s&&et.update(()=>s(a,l))}}}mount(){this.removePointerDownListener=di(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function y2(){const n=P.useContext(Vd);if(n===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:r}=n,s=P.useId();return P.useEffect(()=>r(s),[]),!e&&t?[!1,()=>t&&t(s)]:[!0]}const jh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function S0(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const ou={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Se.test(n))n=parseFloat(n);else return n;const t=S0(n,e.target.x),r=S0(n,e.target.y);return`${t}% ${r}%`}},v2={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,s=gs.parse(n);if(s.length>5)return r;const a=gs.createTransformer(n),l=typeof s[0]!="number"?1:0,c=t.x.scale*e.x,d=t.y.scale*e.y;s[0+l]/=c,s[1+l]/=d;const p=ft(c,d,.5);return typeof s[2+l]=="number"&&(s[2+l]/=p),typeof s[3+l]=="number"&&(s[3+l]/=p),a(s)}};class _2 extends ut.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:s}=this.props,{projection:a}=e;Ab(w2),a&&(t.group&&t.group.add(a),r&&r.register&&s&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),jh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:s,isPresent:a}=this.props,l=r.projection;return l&&(l.isPresent=a,s||e.layoutDependency!==t||t===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||et.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function gS(n){const[e,t]=y2(),r=P.useContext($g);return ut.createElement(_2,{...n,layoutGroup:r,switchLayoutGroup:P.useContext(hI),isPresent:e,safeToRemove:t})}const w2={borderRadius:{...ou,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ou,borderTopRightRadius:ou,borderBottomLeftRadius:ou,borderBottomRightRadius:ou,boxShadow:v2},yS=["TopLeft","TopRight","BottomLeft","BottomRight"],T2=yS.length,C0=n=>typeof n=="string"?parseFloat(n):n,A0=n=>typeof n=="number"||Se.test(n);function E2(n,e,t,r,s,a){s?(n.opacity=ft(0,t.opacity!==void 0?t.opacity:1,I2(r)),n.opacityExit=ft(e.opacity!==void 0?e.opacity:1,0,S2(r))):a&&(n.opacity=ft(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,r));for(let l=0;l<T2;l++){const c=`border${yS[l]}Radius`;let d=x0(e,c),p=x0(t,c);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||A0(d)===A0(p)?(n[c]=Math.max(ft(C0(d),C0(p),r),0),(Dr.test(p)||Dr.test(d))&&(n[c]+="%")):n[c]=p}(e.rotate||t.rotate)&&(n.rotate=ft(e.rotate||0,t.rotate||0,r))}function x0(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const I2=vS(0,.5,UI),S2=vS(.5,.95,Tt);function vS(n,e,t){return r=>r<n?0:r>e?1:t(ku(n,e,r))}function P0(n,e){n.min=e.min,n.max=e.max}function Wn(n,e){P0(n.x,e.x),P0(n.y,e.y)}function R0(n,e,t,r,s){return n-=e,n=sd(n,1/t,r),s!==void 0&&(n=sd(n,1/s,r)),n}function C2(n,e=0,t=1,r=.5,s,a=n,l=n){if(Dr.test(e)&&(e=parseFloat(e),e=ft(l.min,l.max,e/100)-l.min),typeof e!="number")return;let c=ft(a.min,a.max,r);n===a&&(c-=e),n.min=R0(n.min,e,t,c,s),n.max=R0(n.max,e,t,c,s)}function b0(n,e,[t,r,s],a,l){C2(n,e[t],e[r],e[s],e.scale,a,l)}const A2=["x","scaleX","originX"],x2=["y","scaleY","originY"];function k0(n,e,t,r){b0(n.x,e,A2,t?t.x:void 0,r?r.x:void 0),b0(n.y,e,x2,t?t.y:void 0,r?r.y:void 0)}function N0(n){return n.translate===0&&n.scale===1}function _S(n){return N0(n.x)&&N0(n.y)}function P2(n,e){return n.x.min===e.x.min&&n.x.max===e.x.max&&n.y.min===e.y.min&&n.y.max===e.y.max}function wS(n,e){return Math.round(n.x.min)===Math.round(e.x.min)&&Math.round(n.x.max)===Math.round(e.x.max)&&Math.round(n.y.min)===Math.round(e.y.min)&&Math.round(n.y.max)===Math.round(e.y.max)}function D0(n){return On(n.x)/On(n.y)}class R2{constructor(){this.members=[]}add(e){iy(this.members,e),e.scheduleRender()}remove(e){if(sy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(s=>e===s);if(t===0)return!1;let r;for(let s=t;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function V0(n,e,t){let r="";const s=n.x.translate/e.x,a=n.y.translate/e.y;if((s||a)&&(r=`translate3d(${s}px, ${a}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{rotate:d,rotateX:p,rotateY:g}=t;d&&(r+=`rotate(${d}deg) `),p&&(r+=`rotateX(${p}deg) `),g&&(r+=`rotateY(${g}deg) `)}const l=n.x.scale*e.x,c=n.y.scale*e.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const b2=(n,e)=>n.depth-e.depth;class k2{constructor(){this.children=[],this.isDirty=!1}add(e){iy(this.children,e),this.isDirty=!0}remove(e){sy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(b2),this.isDirty=!1,this.children.forEach(e)}}function N2(n,e){const t=performance.now(),r=({timestamp:s})=>{const a=s-t;a>=e&&(mi(r),n(a-e))};return et.read(r,!0),()=>mi(r)}function D2(n){window.MotionDebug&&window.MotionDebug.record(n)}function V2(n){return n instanceof SVGElement&&n.tagName!=="svg"}function O2(n,e,t){const r=En(n)?n:Wa(n);return r.start(ry("",r,e,t)),r.animation}const O0=["","X","Y","Z"],M2={visibility:"hidden"},M0=1e3;let L2=0;const ao={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function TS({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(l={},c=e?.()){this.id=L2++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ao.totalNodes=ao.resolvedTargetDeltas=ao.recalculatedProjection=0,this.nodes.forEach(U2),this.nodes.forEach(H2),this.nodes.forEach(q2),this.nodes.forEach(B2),D2(ao)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new k2)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new oy),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const d=this.eventHandlers.get(l);d&&d.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=V2(l),this.instance=l;const{layoutId:d,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(p||d)&&(this.isLayoutDirty=!0),n){let y;const w=()=>this.root.updateBlockedByResize=!1;n(l,()=>{this.root.updateBlockedByResize=!0,y&&y(),y=N2(w,250),jh.hasAnimatedSinceResize&&(jh.hasAnimatedSinceResize=!1,this.nodes.forEach(F0))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||p)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:w,hasRelativeTargetChanged:I,layout:k})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const R=this.options.transition||g.getDefaultTransition()||X2,{onLayoutAnimationStart:A,onLayoutAnimationComplete:$}=g.getProps(),U=!this.targetLayout||!wS(this.targetLayout,k)||I,B=!w&&I;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||B||w&&(U||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(y,B);const Q={...ny(R,"layout"),onPlay:A,onComplete:$};(g.shouldReduceMotion||this.options.layoutRoot)&&(Q.delay=0,Q.type=!1),this.startAnimation(Q)}else w||F0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=k})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,mi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(G2),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const y=this.path[g];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(L0);return}this.isUpdating||this.nodes.forEach($2),this.isUpdating=!1,this.nodes.forEach(W2),this.nodes.forEach(F2),this.nodes.forEach(j2),this.clearAllSnapshots();const c=performance.now();tn.delta=ms(0,1e3/60,c-tn.timestamp),tn.timestamp=c,tn.isProcessing=!0,Yp.update.process(tn),Yp.preRender.process(tn),Yp.render.process(tn),tn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(z2),this.sharedNodes.forEach(K2)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,et.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){et.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Pt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c&&(this.scroll={animationId:this.root.animationId,phase:l,isRoot:r(this.instance),offset:t(this.instance)})}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform,c=this.projectionDelta&&!_S(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;l&&(c||oo(this.latestValues)||g)&&(s(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return l&&(d=this.removeTransform(d)),J2(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return Pt();const c=l.measureViewportBox(),{scroll:d}=this.root;return d&&(es(c.x,d.offset.x),es(c.y,d.offset.y)),c}removeElementScroll(l){const c=Pt();Wn(c,l);for(let d=0;d<this.path.length;d++){const p=this.path[d],{scroll:g,options:y}=p;if(p!==this.root&&g&&y.layoutScroll){if(g.isRoot){Wn(c,l);const{scroll:w}=this.root;w&&(es(c.x,-w.offset.x),es(c.y,-w.offset.y))}es(c.x,g.offset.x),es(c.y,g.offset.y)}}return c}applyTransform(l,c=!1){const d=Pt();Wn(d,l);for(let p=0;p<this.path.length;p++){const g=this.path[p];!c&&g.options.layoutScroll&&g.scroll&&g!==g.root&&ba(d,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),oo(g.latestValues)&&ba(d,g.latestValues)}return oo(this.latestValues)&&ba(d,this.latestValues),d}removeTransform(l){const c=Pt();Wn(c,l);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!oo(p.latestValues))continue;Hm(p.latestValues)&&p.updateSnapshot();const g=Pt(),y=p.measurePageBox();Wn(g,y),k0(c,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return oo(this.latestValues)&&k0(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==tn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var c;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==d;if(!(l||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:y,layoutId:w}=this.options;if(!(!this.layout||!(y||w))){if(this.resolvedRelativeTargetAt=tn.timestamp,!this.targetDelta&&!this.relativeTarget){const I=this.getClosestProjectingParent();I&&I.layout&&this.animationProgress!==1?(this.relativeParent=I,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pt(),this.relativeTargetOrigin=Pt(),_u(this.relativeTargetOrigin,this.layout.layoutBox,I.layout.layoutBox),Wn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Pt(),this.targetWithTransforms=Pt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ZN(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Wn(this.target,this.layout.layoutBox),fS(this.target,this.targetDelta)):Wn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const I=this.getClosestProjectingParent();I&&!!I.resumingFrom==!!this.resumingFrom&&!I.options.layoutScroll&&I.target&&this.animationProgress!==1?(this.relativeParent=I,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pt(),this.relativeTargetOrigin=Pt(),_u(this.relativeTargetOrigin,this.target,I.target),Wn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ao.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Hm(this.parent.latestValues)||dS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const c=this.getLead(),d=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(p=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===tn.timestamp&&(p=!1),p)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;Wn(this.layoutCorrected,this.layout.layoutBox);const w=this.treeScale.x,I=this.treeScale.y;l2(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox);const{target:k}=c;if(!k){this.projectionTransform&&(this.projectionDelta=Ra(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Ra(),this.projectionDeltaWithTransform=Ra());const R=this.projectionTransform;vu(this.projectionDelta,this.layoutCorrected,k,this.latestValues),this.projectionTransform=V0(this.projectionDelta,this.treeScale),(this.projectionTransform!==R||this.treeScale.x!==w||this.treeScale.y!==I)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",k)),ao.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),l){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(l,c=!1){const d=this.snapshot,p=d?d.latestValues:{},g={...this.latestValues},y=Ra();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const w=Pt(),I=d?d.source:void 0,k=this.layout?this.layout.source:void 0,R=I!==k,A=this.getStack(),$=!A||A.members.length<=1,U=!!(R&&!$&&this.options.crossfade===!0&&!this.path.some(Y2));this.animationProgress=0;let B;this.mixTargetDelta=Q=>{const ee=Q/1e3;j0(y.x,l.x,ee),j0(y.y,l.y,ee),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(_u(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Q2(this.relativeTarget,this.relativeTargetOrigin,w,ee),B&&P2(this.relativeTarget,B)&&(this.isProjectionDirty=!1),B||(B=Pt()),Wn(B,this.relativeTarget)),R&&(this.animationValues=g,E2(g,p,this.latestValues,ee,U,$)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ee},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(mi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=et.update(()=>{jh.hasAnimatedSinceResize=!0,this.currentAnimation=O2(0,M0,{...l,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(M0),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:d,layout:p,latestValues:g}=l;if(!(!c||!d||!p)){if(this!==l&&this.layout&&p&&ES(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||Pt();const y=On(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+y;const w=On(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+w}Wn(c,d),ba(c,g),vu(this.projectionDeltaWithTransform,this.layoutCorrected,c,g)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new R2),this.sharedNodes.get(l).add(c);const p=c.options.initialPromotionConfig;c.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:c}=this.options;return c?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:c}=this.options;return c?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:d}=l;if((d.rotate||d.rotateX||d.rotateY||d.rotateZ)&&(c=!0),!c)return;const p={};for(let g=0;g<O0.length;g++){const y="rotate"+O0[g];d[y]&&(p[y]=d[y],l.setStaticValue(y,0))}l.render();for(const g in p)l.setStaticValue(g,p[g]);l.scheduleRender()}getProjectionStyles(l){var c,d;if(!this.instance||this.isSVG)return;if(!this.isVisible)return M2;const p={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=Fh(l?.pointerEvents)||"",p.transform=g?g(this.latestValues,""):"none",p;const y=this.getLead();if(!this.projectionDelta||!this.layout||!y.target){const R={};return this.options.layoutId&&(R.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,R.pointerEvents=Fh(l?.pointerEvents)||""),this.hasProjected&&!oo(this.latestValues)&&(R.transform=g?g({},""):"none",this.hasProjected=!1),R}const w=y.animationValues||y.latestValues;this.applyTransformsToTarget(),p.transform=V0(this.projectionDeltaWithTransform,this.treeScale,w),g&&(p.transform=g(w,p.transform));const{x:I,y:k}=this.projectionDelta;p.transformOrigin=`${I.origin*100}% ${k.origin*100}% 0`,y.animationValues?p.opacity=y===this?(d=(c=w.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&d!==void 0?d:1:this.preserveOpacity?this.latestValues.opacity:w.opacityExit:p.opacity=y===this?w.opacity!==void 0?w.opacity:"":w.opacityExit!==void 0?w.opacityExit:0;for(const R in Jh){if(w[R]===void 0)continue;const{correct:A,applyTo:$}=Jh[R],U=p.transform==="none"?w[R]:A(w[R],y);if($){const B=$.length;for(let Q=0;Q<B;Q++)p[$[Q]]=U}else p[R]=U}return this.options.layoutId&&(p.pointerEvents=y===this?Fh(l?.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var c;return(c=l.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(L0),this.root.sharedNodes.clear()}}}function F2(n){n.updateLayout()}function j2(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=n.layout,{animationType:a}=n.options,l=t.source!==n.layout.source;a==="size"?Hn(y=>{const w=l?t.measuredBox[y]:t.layoutBox[y],I=On(w);w.min=r[y].min,w.max=w.min+I}):ES(a,t.layoutBox,r)&&Hn(y=>{const w=l?t.measuredBox[y]:t.layoutBox[y],I=On(r[y]);w.max=w.min+I,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[y].max=n.relativeTarget[y].min+I)});const c=Ra();vu(c,r,t.layoutBox);const d=Ra();l?vu(d,n.applyTransform(s,!0),t.measuredBox):vu(d,r,t.layoutBox);const p=!_S(c);let g=!1;if(!n.resumeFrom){const y=n.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:w,layout:I}=y;if(w&&I){const k=Pt();_u(k,t.layoutBox,w.layoutBox);const R=Pt();_u(R,r,I.layoutBox),wS(k,R)||(g=!0),y.options.layoutRoot&&(n.relativeTarget=R,n.relativeTargetOrigin=k,n.relativeParent=y)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:d,layoutDelta:c,hasLayoutChanged:p,hasRelativeTargetChanged:g})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function U2(n){ao.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function B2(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function z2(n){n.clearSnapshot()}function L0(n){n.clearMeasurements()}function $2(n){n.isLayoutDirty=!1}function W2(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function F0(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function H2(n){n.resolveTargetDelta()}function q2(n){n.calcProjection()}function G2(n){n.resetRotation()}function K2(n){n.removeLeadSnapshot()}function j0(n,e,t){n.translate=ft(e.translate,0,t),n.scale=ft(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function U0(n,e,t,r){n.min=ft(e.min,t.min,r),n.max=ft(e.max,t.max,r)}function Q2(n,e,t,r){U0(n.x,e.x,t.x,r),U0(n.y,e.y,t.y,r)}function Y2(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const X2={duration:.45,ease:[.4,0,.1,1]},B0=n=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(n),z0=B0("applewebkit/")&&!B0("chrome/")?Math.round:Tt;function $0(n){n.min=z0(n.min),n.max=z0(n.max)}function J2(n){$0(n.x),$0(n.y)}function ES(n,e,t){return n==="position"||n==="preserve-aspect"&&!$m(D0(e),D0(t),.2)}const Z2=TS({attachResizeListener:(n,e)=>ui(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),am={current:void 0},IS=TS({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!am.current){const n=new Z2({});n.mount(window),n.setOptions({layoutScroll:!0}),am.current=n}return am.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),eD={pan:{Feature:g2},drag:{Feature:m2,ProjectionNode:IS,MeasureLayout:gS}},tD=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function nD(n){const e=tD.exec(n);if(!e)return[,];const[,t,r]=e;return[t,r]}function Gm(n,e,t=1){const[r,s]=nD(n);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return sS(l)?parseFloat(l):l}else return Mm(s)?Gm(s,e,t+1):s}function rD(n,{...e},t){const r=n.current;if(!(r instanceof Element))return{target:e,transitionEnd:t};t&&(t={...t}),n.values.forEach(s=>{const a=s.get();if(!Mm(a))return;const l=Gm(a,r);l&&s.set(l)});for(const s in e){const a=e[s];if(!Mm(a))continue;const l=Gm(a,r);l&&(e[s]=l,t||(t={}),t[s]===void 0&&(t[s]=a))}return{target:e,transitionEnd:t}}const iD=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),SS=n=>iD.has(n),sD=n=>Object.keys(n).some(SS),W0=n=>n===xo||n===Se,H0=(n,e)=>parseFloat(n.split(", ")[e]),q0=(n,e)=>(t,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return H0(s[1],e);{const a=r.match(/^matrix\((.+)\)$/);return a?H0(a[1],n):0}},oD=new Set(["x","y","z"]),aD=zu.filter(n=>!oD.has(n));function lD(n){const e=[];return aD.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e.length&&n.render(),e}const Ha={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:q0(4,13),y:q0(5,14)};Ha.translateX=Ha.x;Ha.translateY=Ha.y;const uD=(n,e,t)=>{const r=e.measureViewportBox(),s=e.current,a=getComputedStyle(s),{display:l}=a,c={};l==="none"&&e.setStaticValue("display",n.display||"block"),t.forEach(p=>{c[p]=Ha[p](r,a)}),e.render();const d=e.measureViewportBox();return t.forEach(p=>{const g=e.getValue(p);g&&g.jump(c[p]),n[p]=Ha[p](d,a)}),n},cD=(n,e,t={},r={})=>{e={...e},r={...r};const s=Object.keys(e).filter(SS);let a=[],l=!1;const c=[];if(s.forEach(d=>{const p=n.getValue(d);if(!n.hasValue(d))return;let g=t[d],y=su(g);const w=e[d];let I;if(ed(w)){const k=w.length,R=w[0]===null?1:0;g=w[R],y=su(g);for(let A=R;A<k&&w[A]!==null;A++)I?Xg(su(w[A])===I):I=su(w[A])}else I=su(w);if(y!==I)if(W0(y)&&W0(I)){const k=p.get();typeof k=="string"&&p.set(parseFloat(k)),typeof w=="string"?e[d]=parseFloat(w):Array.isArray(w)&&I===Se&&(e[d]=w.map(parseFloat))}else y?.transform&&I?.transform&&(g===0||w===0)?g===0?p.set(I.transform(g)):e[d]=y.transform(w):(l||(a=lD(n),l=!0),c.push(d),r[d]=r[d]!==void 0?r[d]:e[d],p.jump(w))}),c.length){const d=c.indexOf("height")>=0?window.pageYOffset:null,p=uD(e,n,c);return a.length&&a.forEach(([g,y])=>{n.getValue(g).set(y)}),n.render(),Od&&d!==null&&window.scrollTo({top:d}),{target:p,transitionEnd:r}}else return{target:e,transitionEnd:r}};function hD(n,e,t,r){return sD(e)?cD(n,e,t,r):{target:e,transitionEnd:r}}const dD=(n,e,t,r)=>{const s=rD(n,e,r);return e=s.target,r=s.transitionEnd,hD(n,e,t,r)},Km={current:null},CS={current:!1};function fD(){if(CS.current=!0,!!Od)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Km.current=n.matches;n.addListener(e),e()}else Km.current=!1}function pD(n,e,t){const{willChange:r}=e;for(const s in e){const a=e[s],l=t[s];if(En(a))n.addValue(s,a),id(r)&&r.add(s);else if(En(l))n.addValue(s,Wa(a,{owner:n})),id(r)&&r.remove(s);else if(l!==a)if(n.hasValue(s)){const c=n.getValue(s);!c.hasAnimated&&c.set(a)}else{const c=n.getStaticValue(s);n.addValue(s,Wa(c!==void 0?c:a,{owner:n}))}}for(const s in t)e[s]===void 0&&n.removeValue(s);return e}const G0=new WeakMap,AS=Object.keys(bu),mD=AS.length,K0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],gD=zg.length;class yD{constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:s,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>et.render(this.render,!1,!0);const{latestValues:c,renderState:d}=a;this.latestValues=c,this.baseTarget={...c},this.initialValues=t.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.isControllingVariants=Ld(t),this.isVariantNode=cI(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...g}=this.scrapeMotionValuesFromProps(t,{});for(const y in g){const w=g[y];c[y]!==void 0&&En(w)&&(w.set(c[y],!1),id(p)&&p.add(y))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,G0.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),CS.current||fD(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Km.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){G0.delete(this.current),this.projection&&this.projection.unmount(),mi(this.notifyUpdate),mi(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const r=Ao.has(e),s=t.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&et.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{s(),a()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...t},r,s,a){let l,c;for(let d=0;d<mD;d++){const p=AS[d],{isEnabled:g,Feature:y,ProjectionNode:w,MeasureLayout:I}=bu[p];w&&(l=w),g(t)&&(!this.features[p]&&y&&(this.features[p]=new y(this)),I&&(c=I))}if((this.type==="html"||this.type==="svg")&&!this.projection&&l){this.projection=new l(this.latestValues,this.parent&&this.parent.projection);const{layoutId:d,layout:p,drag:g,dragConstraints:y,layoutScroll:w,layoutRoot:I}=t;this.projection.setOptions({layoutId:d,layout:p,alwaysMeasureLayout:!!g||y&&xa(y),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof p=="string"?p:"both",initialPromotionConfig:a,layoutScroll:w,layoutRoot:I})}return c}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Pt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<K0.length;r++){const s=K0[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a=e["on"+s];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=pD(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const t={};for(let r=0;r<gD;r++){const s=zg[r],a=this.props[s];(Ru(a)||a===!1)&&(t[s]=a)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=Wa(t,{owner:this}),this.addValue(e,r)),r}readValue(e){var t;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(t=this.getBaseTargetFromProps(this.props,e))!==null&&t!==void 0?t:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(t=Yg(this.props,r))===null||t===void 0?void 0:t[e]:void 0;if(r&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!En(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new oy),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class xS extends yD{sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...r},{transformValues:s},a){let l=VN(r,e||{},this);if(s&&(t&&(t=s(t)),r&&(r=s(r)),l&&(l=s(l))),a){NN(this,r,l);const c=dD(this,r,l,t);t=c.transitionEnd,r=c.target}return{transition:e,transitionEnd:t,...r}}}function vD(n){return window.getComputedStyle(n)}class _D extends xS{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,t){if(Ao.has(t)){const r=ty(t);return r&&r.default||0}else{const r=vD(e),s=(pI(t)?r.getPropertyValue(t):r[t])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:t}){return pS(e,t)}build(e,t,r,s){Hg(e,t,r,s.transformTemplate)}scrapeMotionValuesFromProps(e,t){return Qg(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;En(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(e,t,r,s){wI(e,t,r,s)}}class wD extends xS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Ao.has(t)){const r=ty(t);return r&&r.default||0}return t=TI.has(t)?t:Ug(t),e.getAttribute(t)}measureInstanceViewportBox(){return Pt()}scrapeMotionValuesFromProps(e,t){return II(e,t)}build(e,t,r,s){Gg(e,t,r,this.isSVGTag,s.transformTemplate)}renderInstance(e,t,r,s){EI(e,t,r,s)}mount(e){this.isSVGTag=Kg(e.tagName),super.mount(e)}}const TD=(n,e)=>Wg(n)?new wD(e,{enableHardwareAcceleration:!1}):new _D(e,{enableHardwareAcceleration:!0}),ED={layout:{ProjectionNode:IS,MeasureLayout:gS}},ID={...QN,...mk,...eD,...ED},bt=Sb((n,e)=>nk(n,e,ID,TD));function PS(){const n=P.useRef(!1);return jg(()=>(n.current=!0,()=>{n.current=!1}),[]),n}function SD(){const n=PS(),[e,t]=P.useState(0),r=P.useCallback(()=>{n.current&&t(e+1)},[e]);return[P.useCallback(()=>et.postRender(r),[r]),e]}class CD extends P.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function AD({children:n,isPresent:e}){const t=P.useId(),r=P.useRef(null),s=P.useRef({width:0,height:0,top:0,left:0});return P.useInsertionEffect(()=>{const{width:a,height:l,top:c,left:d}=s.current;if(e||!r.current||!a||!l)return;r.current.dataset.motionPopId=t;const p=document.createElement("style");return document.head.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${d}px !important;
          }
        `),()=>{document.head.removeChild(p)}},[e]),P.createElement(CD,{isPresent:e,childRef:r,sizeRef:s},P.cloneElement(n,{ref:r}))}const lm=({children:n,initial:e,isPresent:t,onExitComplete:r,custom:s,presenceAffectsLayout:a,mode:l})=>{const c=SI(xD),d=P.useId(),p=P.useMemo(()=>({id:d,initial:e,isPresent:t,custom:s,onExitComplete:g=>{c.set(g,!0);for(const y of c.values())if(!y)return;r&&r()},register:g=>(c.set(g,!1),()=>c.delete(g))}),a?void 0:[t]);return P.useMemo(()=>{c.forEach((g,y)=>c.set(y,!1))},[t]),P.useEffect(()=>{!t&&!c.size&&r&&r()},[t]),l==="popLayout"&&(n=P.createElement(AD,{isPresent:t},n)),P.createElement(Vd.Provider,{value:p},n)};function xD(){return new Map}function PD(n){return P.useEffect(()=>()=>n(),[])}const lo=n=>n.key||"";function RD(n,e){n.forEach(t=>{const r=lo(t);e.set(r,t)})}function bD(n){const e=[];return P.Children.forEach(n,t=>{P.isValidElement(t)&&e.push(t)}),e}const Qm=({children:n,custom:e,initial:t=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:a=!0,mode:l="sync"})=>{const c=P.useContext($g).forceRender||SD()[0],d=PS(),p=bD(n);let g=p;const y=P.useRef(new Map).current,w=P.useRef(g),I=P.useRef(new Map).current,k=P.useRef(!0);if(jg(()=>{k.current=!1,RD(p,I),w.current=g}),PD(()=>{k.current=!0,I.clear(),y.clear()}),k.current)return P.createElement(P.Fragment,null,g.map(U=>P.createElement(lm,{key:lo(U),isPresent:!0,initial:t?void 0:!1,presenceAffectsLayout:a,mode:l},U)));g=[...g];const R=w.current.map(lo),A=p.map(lo),$=R.length;for(let U=0;U<$;U++){const B=R[U];A.indexOf(B)===-1&&!y.has(B)&&y.set(B,void 0)}return l==="wait"&&y.size&&(g=[]),y.forEach((U,B)=>{if(A.indexOf(B)!==-1)return;const Q=I.get(B);if(!Q)return;const ee=R.indexOf(B);let ie=U;if(!ie){const N=()=>{y.delete(B);const x=Array.from(I.keys()).filter(b=>!A.includes(b));if(x.forEach(b=>I.delete(b)),w.current=p.filter(b=>{const M=lo(b);return M===B||x.includes(M)}),!y.size){if(d.current===!1)return;c(),r&&r()}};ie=P.createElement(lm,{key:lo(Q),isPresent:!1,onExitComplete:N,custom:e,presenceAffectsLayout:a,mode:l},Q),y.set(B,ie)}g.splice(ee,0,ie)}),g=g.map(U=>{const B=U.key;return y.has(B)?U:P.createElement(lm,{key:lo(U),isPresent:!0,presenceAffectsLayout:a,mode:l},U)}),P.createElement(P.Fragment,null,y.size?g:g.map(U=>P.cloneElement(U)))};var kD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const ND=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Xe=(n,e)=>{const t=P.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:l,children:c,...d},p)=>P.createElement("svg",{ref:p,...kD,width:s,height:s,stroke:r,strokeWidth:l?Number(a)*24/Number(s):a,className:`lucide lucide-${ND(n)}`,...d},[...e.map(([g,y])=>P.createElement(g,y)),...(Array.isArray(c)?c:[c])||[]]));return t.displayName=`${n}`,t},od=Xe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),RS=Xe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),DD=Xe("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),VD=Xe("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),um=Xe("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),OD=Xe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),MD=Xe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),LD=Xe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),FD=Xe("CloudRain",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]]),jD=Xe("CloudSnow",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M8 15h.01",key:"a7atzg"}],["path",{d:"M8 19h.01",key:"puxtts"}],["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M12 21h.01",key:"h35vbk"}],["path",{d:"M16 15h.01",key:"rnfrdf"}],["path",{d:"M16 19h.01",key:"1vcnzz"}]]),UD=Xe("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]),BD=Xe("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]),zD=Xe("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]),Ym=Xe("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),$D=Xe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),WD=Xe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),HD=Xe("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),qD=Xe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),bS=Xe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),GD=Xe("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]),Xm=Xe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),KD=Xe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),QD=Xe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),YD=Xe("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]),XD=Xe("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),JD=Xe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ZD=Xe("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function kS(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=kS(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function NS(){for(var n,e,t=0,r="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=kS(n))&&(r&&(r+=" "),r+=e);return r}function eV(){for(var n=0,e,t,r="";n<arguments.length;)(e=arguments[n++])&&(t=DS(e))&&(r&&(r+=" "),r+=t);return r}function DS(n){if(typeof n=="string")return n;for(var e,t="",r=0;r<n.length;r++)n[r]&&(e=DS(n[r]))&&(t&&(t+=" "),t+=e);return t}var ay="-";function tV(n){var e=rV(n),t=n.conflictingClassGroups,r=n.conflictingClassGroupModifiers,s=r===void 0?{}:r;function a(c){var d=c.split(ay);return d[0]===""&&d.length!==1&&d.shift(),VS(d,e)||nV(c)}function l(c,d){var p=t[c]||[];return d&&s[c]?[].concat(p,s[c]):p}return{getClassGroupId:a,getConflictingClassGroupIds:l}}function VS(n,e){if(n.length===0)return e.classGroupId;var t=n[0],r=e.nextPart.get(t),s=r?VS(n.slice(1),r):void 0;if(s)return s;if(e.validators.length!==0){var a=n.join(ay);return e.validators.find(function(l){var c=l.validator;return c(a)})?.classGroupId}}var Q0=/^\[(.+)\]$/;function nV(n){if(Q0.test(n)){var e=Q0.exec(n)[1],t=e?.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}}function rV(n){var e=n.theme,t=n.prefix,r={nextPart:new Map,validators:[]},s=sV(Object.entries(n.classGroups),t);return s.forEach(function(a){var l=a[0],c=a[1];Jm(c,r,l,e)}),r}function Jm(n,e,t,r){n.forEach(function(s){if(typeof s=="string"){var a=s===""?e:Y0(e,s);a.classGroupId=t;return}if(typeof s=="function"){if(iV(s)){Jm(s(r),e,t,r);return}e.validators.push({validator:s,classGroupId:t});return}Object.entries(s).forEach(function(l){var c=l[0],d=l[1];Jm(d,Y0(e,c),t,r)})})}function Y0(n,e){var t=n;return e.split(ay).forEach(function(r){t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t}function iV(n){return n.isThemeGetter}function sV(n,e){return e?n.map(function(t){var r=t[0],s=t[1],a=s.map(function(l){return typeof l=="string"?e+l:typeof l=="object"?Object.fromEntries(Object.entries(l).map(function(c){var d=c[0],p=c[1];return[e+d,p]})):l});return[r,a]}):n}function oV(n){if(n<1)return{get:function(){},set:function(){}};var e=0,t=new Map,r=new Map;function s(a,l){t.set(a,l),e++,e>n&&(e=0,r=t,t=new Map)}return{get:function(l){var c=t.get(l);if(c!==void 0)return c;if((c=r.get(l))!==void 0)return s(l,c),c},set:function(l,c){t.has(l)?t.set(l,c):s(l,c)}}}var OS="!";function aV(n){var e=n.separator||":",t=e.length===1,r=e[0],s=e.length;return function(l){for(var c=[],d=0,p=0,g,y=0;y<l.length;y++){var w=l[y];if(d===0){if(w===r&&(t||l.slice(y,y+s)===e)){c.push(l.slice(p,y)),p=y+s;continue}if(w==="/"){g=y;continue}}w==="["?d++:w==="]"&&d--}var I=c.length===0?l:l.substring(p),k=I.startsWith(OS),R=k?I.substring(1):I,A=g&&g>p?g-p:void 0;return{modifiers:c,hasImportantModifier:k,baseClassName:R,maybePostfixModifierPosition:A}}}function lV(n){if(n.length<=1)return n;var e=[],t=[];return n.forEach(function(r){var s=r[0]==="[";s?(e.push.apply(e,t.sort().concat([r])),t=[]):t.push(r)}),e.push.apply(e,t.sort()),e}function uV(n){return{cache:oV(n.cacheSize),splitModifiers:aV(n),...tV(n)}}var cV=/\s+/;function hV(n,e){var t=e.splitModifiers,r=e.getClassGroupId,s=e.getConflictingClassGroupIds,a=new Set;return n.trim().split(cV).map(function(l){var c=t(l),d=c.modifiers,p=c.hasImportantModifier,g=c.baseClassName,y=c.maybePostfixModifierPosition,w=r(y?g.substring(0,y):g),I=!!y;if(!w){if(!y)return{isTailwindClass:!1,originalClassName:l};if(w=r(g),!w)return{isTailwindClass:!1,originalClassName:l};I=!1}var k=lV(d).join(":"),R=p?k+OS:k;return{isTailwindClass:!0,modifierId:R,classGroupId:w,originalClassName:l,hasPostfixModifier:I}}).reverse().filter(function(l){if(!l.isTailwindClass)return!0;var c=l.modifierId,d=l.classGroupId,p=l.hasPostfixModifier,g=c+d;return a.has(g)?!1:(a.add(g),s(d,p).forEach(function(y){return a.add(c+y)}),!0)}).reverse().map(function(l){return l.originalClassName}).join(" ")}function dV(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var r,s,a,l=c;function c(p){var g=e[0],y=e.slice(1),w=y.reduce(function(I,k){return k(I)},g());return r=uV(w),s=r.cache.get,a=r.cache.set,l=d,d(p)}function d(p){var g=s(p);if(g)return g;var y=hV(p,r);return a(p,y),y}return function(){return l(eV.apply(null,arguments))}}function it(n){var e=function(r){return r[n]||[]};return e.isThemeGetter=!0,e}var MS=/^\[(?:([a-z-]+):)?(.+)\]$/i,fV=/^\d+\/\d+$/,pV=new Set(["px","full","screen"]),mV=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,gV=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,yV=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function sr(n){return ho(n)||pV.has(n)||fV.test(n)||Zm(n)}function Zm(n){return Po(n,"length",IV)}function vV(n){return Po(n,"size",LS)}function _V(n){return Po(n,"position",LS)}function wV(n){return Po(n,"url",SV)}function Ah(n){return Po(n,"number",ho)}function ho(n){return!Number.isNaN(Number(n))}function TV(n){return n.endsWith("%")&&ho(n.slice(0,-1))}function au(n){return X0(n)||Po(n,"number",X0)}function Me(n){return MS.test(n)}function lu(){return!0}function Xi(n){return mV.test(n)}function EV(n){return Po(n,"",CV)}function Po(n,e,t){var r=MS.exec(n);return r?r[1]?r[1]===e:t(r[2]):!1}function IV(n){return gV.test(n)}function LS(){return!1}function SV(n){return n.startsWith("url(")}function X0(n){return Number.isInteger(Number(n))}function CV(n){return yV.test(n)}function AV(){var n=it("colors"),e=it("spacing"),t=it("blur"),r=it("brightness"),s=it("borderColor"),a=it("borderRadius"),l=it("borderSpacing"),c=it("borderWidth"),d=it("contrast"),p=it("grayscale"),g=it("hueRotate"),y=it("invert"),w=it("gap"),I=it("gradientColorStops"),k=it("gradientColorStopPositions"),R=it("inset"),A=it("margin"),$=it("opacity"),U=it("padding"),B=it("saturate"),Q=it("scale"),ee=it("sepia"),ie=it("skew"),N=it("space"),x=it("translate"),b=function(){return["auto","contain","none"]},M=function(){return["auto","hidden","clip","visible","scroll"]},O=function(){return["auto",Me,e]},L=function(){return[Me,e]},D=function(){return["",sr]},ae=function(){return["auto",ho,Me]},se=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},pe=function(){return["solid","dashed","dotted","double","none"]},Ie=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},ne=function(){return["start","end","center","between","around","evenly","stretch"]},le=function(){return["","0",Me]},ce=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},j=function(){return[ho,Ah]},Y=function(){return[ho,Me]};return{cacheSize:500,theme:{colors:[lu],spacing:[sr],blur:["none","",Xi,Me],brightness:j(),borderColor:[n],borderRadius:["none","","full",Xi,Me],borderSpacing:L(),borderWidth:D(),contrast:j(),grayscale:le(),hueRotate:Y(),invert:le(),gap:L(),gradientColorStops:[n],gradientColorStopPositions:[TV,Zm],inset:O(),margin:O(),opacity:j(),padding:L(),saturate:j(),scale:j(),sepia:le(),skew:Y(),space:L(),translate:L()},classGroups:{aspect:[{aspect:["auto","square","video",Me]}],container:["container"],columns:[{columns:[Xi]}],"break-after":[{"break-after":ce()}],"break-before":[{"break-before":ce()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(se(),[Me])}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:b()}],"overscroll-x":[{"overscroll-x":b()}],"overscroll-y":[{"overscroll-y":b()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[R]}],"inset-x":[{"inset-x":[R]}],"inset-y":[{"inset-y":[R]}],start:[{start:[R]}],end:[{end:[R]}],top:[{top:[R]}],right:[{right:[R]}],bottom:[{bottom:[R]}],left:[{left:[R]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",au]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Me]}],grow:[{grow:le()}],shrink:[{shrink:le()}],order:[{order:["first","last","none",au]}],"grid-cols":[{"grid-cols":[lu]}],"col-start-end":[{col:["auto",{span:["full",au]},Me]}],"col-start":[{"col-start":ae()}],"col-end":[{"col-end":ae()}],"grid-rows":[{"grid-rows":[lu]}],"row-start-end":[{row:["auto",{span:[au]},Me]}],"row-start":[{"row-start":ae()}],"row-end":[{"row-end":ae()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Me]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Me]}],gap:[{gap:[w]}],"gap-x":[{"gap-x":[w]}],"gap-y":[{"gap-y":[w]}],"justify-content":[{justify:["normal"].concat(ne())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(ne(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(ne(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[U]}],px:[{px:[U]}],py:[{py:[U]}],ps:[{ps:[U]}],pe:[{pe:[U]}],pt:[{pt:[U]}],pr:[{pr:[U]}],pb:[{pb:[U]}],pl:[{pl:[U]}],m:[{m:[A]}],mx:[{mx:[A]}],my:[{my:[A]}],ms:[{ms:[A]}],me:[{me:[A]}],mt:[{mt:[A]}],mr:[{mr:[A]}],mb:[{mb:[A]}],ml:[{ml:[A]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",Me,e]}],"min-w":[{"min-w":["min","max","fit",Me,sr]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Xi]},Xi,Me]}],h:[{h:[Me,e,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",Me,sr]}],"max-h":[{"max-h":[Me,e,"min","max","fit"]}],"font-size":[{text:["base",Xi,Zm]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ah]}],"font-family":[{font:[lu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Me]}],"line-clamp":[{"line-clamp":["none",ho,Ah]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Me,sr]}],"list-image":[{"list-image":["none",Me]}],"list-style-type":[{list:["none","disc","decimal",Me]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[$]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[$]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(pe(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",sr]}],"underline-offset":[{"underline-offset":["auto",Me,sr]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[$]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(se(),[_V])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",vV]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},wV]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[k]}],"gradient-via-pos":[{via:[k]}],"gradient-to-pos":[{to:[k]}],"gradient-from":[{from:[I]}],"gradient-via":[{via:[I]}],"gradient-to":[{to:[I]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[$]}],"border-style":[{border:[].concat(pe(),["hidden"])}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[$]}],"divide-style":[{divide:pe()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:[""].concat(pe())}],"outline-offset":[{"outline-offset":[Me,sr]}],"outline-w":[{outline:[sr]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[$]}],"ring-offset-w":[{"ring-offset":[sr]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",Xi,EV]}],"shadow-color":[{shadow:[lu]}],opacity:[{opacity:[$]}],"mix-blend":[{"mix-blend":Ie()}],"bg-blend":[{"bg-blend":Ie()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",Xi,Me]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[g]}],invert:[{invert:[y]}],saturate:[{saturate:[B]}],sepia:[{sepia:[ee]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[g]}],"backdrop-invert":[{"backdrop-invert":[y]}],"backdrop-opacity":[{"backdrop-opacity":[$]}],"backdrop-saturate":[{"backdrop-saturate":[B]}],"backdrop-sepia":[{"backdrop-sepia":[ee]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Me]}],duration:[{duration:Y()}],ease:[{ease:["linear","in","out","in-out",Me]}],delay:[{delay:Y()}],animate:[{animate:["none","spin","ping","pulse","bounce",Me]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[Q]}],"scale-x":[{"scale-x":[Q]}],"scale-y":[{"scale-y":[Q]}],rotate:[{rotate:[au,Me]}],"translate-x":[{"translate-x":[x]}],"translate-y":[{"translate-y":[x]}],"skew-x":[{"skew-x":[ie]}],"skew-y":[{"skew-y":[ie]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Me]}],accent:[{accent:["auto",n]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Me]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Me]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[sr,Ah]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var xV=dV(AV);function Gt(...n){return xV(NS(n))}function J0(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function FS(...n){return e=>{let t=!1;const r=n.map(s=>{const a=J0(s,e);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let s=0;s<r.length;s++){const a=r[s];typeof a=="function"?a():J0(n[s],null)}}}}function gi(...n){return P.useCallback(FS(...n),n)}function ad(n){const e=RV(n),t=P.forwardRef((r,s)=>{const{children:a,...l}=r,c=P.Children.toArray(a),d=c.find(kV);if(d){const p=d.props.children,g=c.map(y=>y===d?P.Children.count(p)>1?P.Children.only(null):P.isValidElement(p)?p.props.children:null:y);return S.jsx(e,{...l,ref:s,children:P.isValidElement(p)?P.cloneElement(p,void 0,g):null})}return S.jsx(e,{...l,ref:s,children:a})});return t.displayName=`${n}.Slot`,t}var PV=ad("Slot");function RV(n){const e=P.forwardRef((t,r)=>{const{children:s,...a}=t;if(P.isValidElement(s)){const l=DV(s),c=NV(a,s.props);return s.type!==P.Fragment&&(c.ref=r?FS(r,l):l),P.cloneElement(s,c)}return P.Children.count(s)>1?P.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var bV=Symbol("radix.slottable");function kV(n){return P.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===bV}function NV(n,e){const t={...e};for(const r in e){const s=n[r],a=e[r];/^on[A-Z]/.test(r)?s&&a?t[r]=(...c)=>{const d=a(...c);return s(...c),d}:s&&(t[r]=s):r==="style"?t[r]={...s,...a}:r==="className"&&(t[r]=[s,a].filter(Boolean).join(" "))}return{...n,...t}}function DV(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}const Z0=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,eT=NS,ly=(n,e)=>t=>{var r;if(e?.variants==null)return eT(n,t?.class,t?.className);const{variants:s,defaultVariants:a}=e,l=Object.keys(s).map(p=>{const g=t?.[p],y=a?.[p];if(g===null)return null;const w=Z0(g)||Z0(y);return s[p][w]}),c=t&&Object.entries(t).reduce((p,g)=>{let[y,w]=g;return w===void 0||(p[y]=w),p},{}),d=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((p,g)=>{let{class:y,className:w,...I}=g;return Object.entries(I).every(k=>{let[R,A]=k;return Array.isArray(A)?A.includes({...a,...c}[R]):{...a,...c}[R]===A})?[...p,y,w]:p},[]);return eT(n,l,d,t?.class,t?.className)},VV=ly("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),dt=ut.forwardRef(({className:n,variant:e,size:t,asChild:r=!1,...s},a)=>{const l=r?PV:"button";return S.jsx(l,{className:Gt(VV({variant:e,size:t,className:n})),ref:a,...s})});dt.displayName="Button";const li=P.forwardRef(({className:n,type:e,...t},r)=>S.jsx("input",{type:e,className:Gt("flex h-12 w-full rounded-md border border-[#3a3a3a] bg-[#121212] px-3 py-2 text-sm text-white ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-[#666666] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#00ff88] focus-visible:ring-offset-0 transition-all",n),ref:r,...t}));li.displayName="Input";var OV=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],In=OV.reduce((n,e)=>{const t=ad(`Primitive.${e}`),r=P.forwardRef((s,a)=>{const{asChild:l,...c}=s,d=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),S.jsx(d,{...c,ref:a})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function jS(n,e){n&&Vg.flushSync(()=>n.dispatchEvent(e))}var MV="Label",US=P.forwardRef((n,e)=>S.jsx(In.label,{...n,ref:e,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(n.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));US.displayName=MV;var BS=US;const LV=ly("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),eg=P.forwardRef(({className:n,...e},t)=>S.jsx(BS,{ref:t,className:Gt(LV(),n),...e}));eg.displayName=BS.displayName;const FV=1;let cm=0;function jV(){return cm=(cm+1)%Number.MAX_VALUE,cm.toString()}const un={state:{toasts:[]},listeners:[],getState:()=>un.state,setState:n=>{typeof n=="function"?un.state=n(un.state):un.state={...un.state,...n},un.listeners.forEach(e=>e(un.state))},subscribe:n=>(un.listeners.push(n),()=>{un.listeners=un.listeners.filter(e=>e!==n)})},UV=({title:n="",description:e="",...t})=>{const r=jV(),s=l=>un.setState(c=>({...c,toasts:c.toasts.map(d=>d.id===r?{...d,...l}:d)})),a=()=>un.setState(l=>({...l,toasts:l.toasts.filter(c=>c.id!==r)}));return un.setState(l=>({...l,toasts:[{...t,id:r,dismiss:a},...l.toasts].slice(0,FV)})),{id:r,dismiss:a,update:s}};function Bd(){const[n,e]=P.useState(un.getState());return P.useEffect(()=>un.subscribe(r=>{e(r)}),[]),P.useEffect(()=>{const t=[];return n.toasts.forEach(r=>{if(!r||r.duration===1/0)return;const s=setTimeout(()=>{r.dismiss()},r.duration||5e3);t.push(s)}),()=>{t.forEach(r=>clearTimeout(r))}},[n.toasts]),{toast:UV,toasts:n.toasts}}const BV=()=>{};var tT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},zV=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=n[t++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=n[t++],l=n[t++],c=n[t++],d=((s&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const a=n[t++],l=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return e.join("")},$S={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const a=n[s],l=s+1<n.length,c=l?n[s+1]:0,d=s+2<n.length,p=d?n[s+2]:0,g=a>>2,y=(a&3)<<4|c>>4;let w=(c&15)<<2|p>>6,I=p&63;d||(I=64,l||(w=64)),r.push(t[g],t[y],t[w],t[I])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(zS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):zV(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const a=t[n.charAt(s++)],c=s<n.length?t[n.charAt(s)]:0;++s;const p=s<n.length?t[n.charAt(s)]:64;++s;const y=s<n.length?t[n.charAt(s)]:64;if(++s,a==null||c==null||p==null||y==null)throw new $V;const w=a<<2|c>>4;if(r.push(w),p!==64){const I=c<<4&240|p>>2;if(r.push(I),y!==64){const k=p<<6&192|y;r.push(k)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class $V extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const WV=function(n){const e=zS(n);return $S.encodeByteArray(e,!0)},ld=function(n){return WV(n).replace(/\./g,"")},WS=function(n){try{return $S.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qV=()=>HV().__FIREBASE_DEFAULTS__,GV=()=>{if(typeof process>"u"||typeof tT>"u")return;const n=tT.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},KV=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&WS(n[1]);return e&&JSON.parse(e)},zd=()=>{try{return BV()||qV()||GV()||KV()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},HS=n=>zd()?.emulatorHosts?.[n],QV=n=>{const e=HS(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},qS=()=>zd()?.config,GS=n=>zd()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tl(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function KS(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XV(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[ld(JSON.stringify(t)),ld(JSON.stringify(l)),""].join(".")}const wu={};function JV(){const n={prod:[],emulator:[]};for(const e of Object.keys(wu))wu[e]?n.emulator.push(e):n.prod.push(e);return n}function ZV(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let nT=!1;function QS(n,e){if(typeof window>"u"||typeof document>"u"||!tl(window.location.host)||wu[n]===e||wu[n]||nT)return;wu[n]=e;function t(w){return`__firebase__banner__${w}`}const r="__firebase__banner",a=JV().prod.length>0;function l(){const w=document.getElementById(r);w&&w.remove()}function c(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function d(w,I){w.setAttribute("width","24"),w.setAttribute("id",I),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{nT=!0,l()},w}function g(w,I){w.setAttribute("id",I),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function y(){const w=ZV(r),I=t("text"),k=document.getElementById(I)||document.createElement("span"),R=t("learnmore"),A=document.getElementById(R)||document.createElement("a"),$=t("preprendIcon"),U=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const B=w.element;c(B),g(A,R);const Q=p();d(U,$),B.append(U,k,A,Q),document.body.appendChild(B)}a?(k.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function tO(){const n=zd()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function YS(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function rO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function iO(){const n=sn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function sO(){return!tO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function XS(){try{return typeof indexedDB=="object"}catch{return!1}}function JS(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(t){e(t)}})}function oO(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO="FirebaseError";class dr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=aO,Object.setPrototypeOf(this,dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ro.prototype.create)}}class Ro{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,a=this.errors[e],l=a?lO(a,r):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new dr(s,c,r)}}function lO(n,e){return n.replace(uO,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const uO=/\{\$([^}]+)}/g;function cO(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ys(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const a=n[s],l=e[s];if(rT(a)&&rT(l)){if(!ys(a,l))return!1}else if(a!==l)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function rT(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qu(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function hu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function du(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function hO(n,e){const t=new dO(n,e);return t.subscribe.bind(t)}class dO{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");fO(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=hm),s.error===void 0&&(s.error=hm),s.complete===void 0&&(s.complete=hm);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fO(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function hm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO=1e3,mO=2,gO=14400*1e3,yO=.5;function iT(n,e=pO,t=mO){const r=e*Math.pow(t,n),s=Math.round(yO*r*(Math.random()-.5)*2);return Math.min(gO,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(n){return n&&n._delegate?n._delegate:n}class ur{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new YV;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wO(e))try{this.getOrInitializeService({instanceIdentifier:uo})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=uo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=uo){return this.instances.has(e)}getOptions(e=uo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&l.resolve(s)}return s}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&e(a,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:_O(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=uo){return this.component?this.component.multipleInstances?e:uo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _O(n){return n===uo?void 0:n}function wO(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new vO(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Le||(Le={}));const EO={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},IO=Le.INFO,SO={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},CO=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=SO[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $d{constructor(e){this.name=e,this._logLevel=IO,this._logHandler=CO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?EO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const AO=(n,e)=>e.some(t=>n instanceof t);let sT,oT;function xO(){return sT||(sT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PO(){return oT||(oT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ZS=new WeakMap,tg=new WeakMap,e1=new WeakMap,dm=new WeakMap,uy=new WeakMap;function RO(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{t(us(n.result)),s()},l=()=>{r(n.error),s()};n.addEventListener("success",a),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&ZS.set(t,n)}).catch(()=>{}),uy.set(e,n),e}function bO(n){if(tg.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{t(),s()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});tg.set(n,e)}let ng={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return tg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||e1.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return us(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function kO(n){ng=n(ng)}function NO(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(fm(this),e,...t);return e1.set(r,e.sort?e.sort():[e]),us(r)}:PO().includes(n)?function(...e){return n.apply(fm(this),e),us(ZS.get(this))}:function(...e){return us(n.apply(fm(this),e))}}function DO(n){return typeof n=="function"?NO(n):(n instanceof IDBTransaction&&bO(n),AO(n,xO())?new Proxy(n,ng):n)}function us(n){if(n instanceof IDBRequest)return RO(n);if(dm.has(n))return dm.get(n);const e=DO(n);return e!==n&&(dm.set(n,e),uy.set(e,n)),e}const fm=n=>uy.get(n);function t1(n,e,{blocked:t,upgrade:r,blocking:s,terminated:a}={}){const l=indexedDB.open(n,e),c=us(l);return r&&l.addEventListener("upgradeneeded",d=>{r(us(l.result),d.oldVersion,d.newVersion,us(l.transaction),d)}),t&&l.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),c.then(d=>{a&&d.addEventListener("close",()=>a()),s&&d.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}const VO=["get","getKey","getAll","getAllKeys","count"],OO=["put","add","delete","clear"],pm=new Map;function aT(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(pm.get(e))return pm.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=OO.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||VO.includes(t)))return;const a=async function(l,...c){const d=this.transaction(l,s?"readwrite":"readonly");let p=d.store;return r&&(p=p.index(c.shift())),(await Promise.all([p[t](...c),s&&d.done]))[0]};return pm.set(e,a),a}kO(n=>({...n,get:(e,t,r)=>aT(e,t)||n.get(e,t,r),has:(e,t)=>!!aT(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(LO(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function LO(n){return n.getComponent()?.type==="VERSION"}const rg="@firebase/app",lT="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yi=new $d("@firebase/app"),FO="@firebase/app-compat",jO="@firebase/analytics-compat",UO="@firebase/analytics",BO="@firebase/app-check-compat",zO="@firebase/app-check",$O="@firebase/auth",WO="@firebase/auth-compat",HO="@firebase/database",qO="@firebase/data-connect",GO="@firebase/database-compat",KO="@firebase/functions",QO="@firebase/functions-compat",YO="@firebase/installations",XO="@firebase/installations-compat",JO="@firebase/messaging",ZO="@firebase/messaging-compat",eM="@firebase/performance",tM="@firebase/performance-compat",nM="@firebase/remote-config",rM="@firebase/remote-config-compat",iM="@firebase/storage",sM="@firebase/storage-compat",oM="@firebase/firestore",aM="@firebase/ai",lM="@firebase/firestore-compat",uM="firebase",cM="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig="[DEFAULT]",hM={[rg]:"fire-core",[FO]:"fire-core-compat",[UO]:"fire-analytics",[jO]:"fire-analytics-compat",[zO]:"fire-app-check",[BO]:"fire-app-check-compat",[$O]:"fire-auth",[WO]:"fire-auth-compat",[HO]:"fire-rtdb",[qO]:"fire-data-connect",[GO]:"fire-rtdb-compat",[KO]:"fire-fn",[QO]:"fire-fn-compat",[YO]:"fire-iid",[XO]:"fire-iid-compat",[JO]:"fire-fcm",[ZO]:"fire-fcm-compat",[eM]:"fire-perf",[tM]:"fire-perf-compat",[nM]:"fire-rc",[rM]:"fire-rc-compat",[iM]:"fire-gcs",[sM]:"fire-gcs-compat",[oM]:"fire-fst",[lM]:"fire-fst-compat",[aM]:"fire-vertex","fire-js":"fire-js",[uM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ud=new Map,dM=new Map,sg=new Map;function uT(n,e){try{n.container.addComponent(e)}catch(t){yi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ur(n){const e=n.name;if(sg.has(e))return yi.debug(`There were multiple attempts to register component ${e}.`),!1;sg.set(e,n);for(const t of ud.values())uT(t,n);for(const t of dM.values())uT(t,n);return!0}function bo(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function qn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cs=new Ro("app","Firebase",fM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ur("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nl=cM;function n1(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:ig,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw cs.create("bad-app-name",{appName:String(s)});if(t||(t=qS()),!t)throw cs.create("no-options");const a=ud.get(s);if(a){if(ys(t,a.options)&&ys(r,a.config))return a;throw cs.create("duplicate-app",{appName:s})}const l=new TO(s);for(const d of sg.values())l.addComponent(d);const c=new pM(t,r,l);return ud.set(s,c),c}function cy(n=ig){const e=ud.get(n);if(!e&&n===ig&&qS())return n1();if(!e)throw cs.create("no-app",{appName:n});return e}function Kn(n,e,t){let r=hM[n]??n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const l=[`Unable to register library "${r}" with version "${e}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yi.warn(l.join(" "));return}Ur(new ur(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM="firebase-heartbeat-database",gM=1,Nu="firebase-heartbeat-store";let mm=null;function r1(){return mm||(mm=t1(mM,gM,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Nu)}catch(t){console.warn(t)}}}}).catch(n=>{throw cs.create("idb-open",{originalErrorMessage:n.message})})),mm}async function yM(n){try{const t=(await r1()).transaction(Nu),r=await t.objectStore(Nu).get(i1(n));return await t.done,r}catch(e){if(e instanceof dr)yi.warn(e.message);else{const t=cs.create("idb-get",{originalErrorMessage:e?.message});yi.warn(t.message)}}}async function cT(n,e){try{const r=(await r1()).transaction(Nu,"readwrite");await r.objectStore(Nu).put(e,i1(n)),await r.done}catch(t){if(t instanceof dr)yi.warn(t.message);else{const r=cs.create("idb-set",{originalErrorMessage:t?.message});yi.warn(r.message)}}}function i1(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM=1024,_M=30;class wM{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new EM(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=hT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>_M){const s=IM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){yi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=hT(),{heartbeatsToSend:t,unsentEntries:r}=TM(this._heartbeatsCache.heartbeats),s=ld(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return yi.warn(e),""}}}function hT(){return new Date().toISOString().substring(0,10)}function TM(n,e=vM){const t=[];let r=n.slice();for(const s of n){const a=t.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),dT(t)>e){a.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),dT(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class EM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return XS()?JS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await yM(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return cT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return cT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function dT(n){return ld(JSON.stringify({version:2,heartbeats:n})).length}function IM(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SM(n){Ur(new ur("platform-logger",e=>new MO(e),"PRIVATE")),Ur(new ur("heartbeat",e=>new wM(e),"PRIVATE")),Kn(rg,lT,n),Kn(rg,lT,"esm2020"),Kn("fire-js","")}SM("");function s1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const CM=s1,o1=new Ro("auth","Firebase",s1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cd=new $d("@firebase/auth");function AM(n,...e){cd.logLevel<=Le.WARN&&cd.warn(`Auth (${nl}): ${n}`,...e)}function Uh(n,...e){cd.logLevel<=Le.ERROR&&cd.error(`Auth (${nl}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cr(n,...e){throw hy(n,...e)}function Vr(n,...e){return hy(n,...e)}function a1(n,e,t){const r={...CM(),[e]:t};return new Ro("auth","Firebase",r).create(e,{appName:n.name})}function pi(n){return a1(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function hy(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return o1.create(n,...e)}function Ce(n,e,...t){if(!n)throw hy(e,...t)}function ci(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Uh(e),new Error(e)}function vi(n,e){n||ci(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(){return typeof self<"u"&&self.location?.href||""}function xM(){return fT()==="http:"||fT()==="https:"}function fT(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xM()||YS()||"connection"in navigator)?navigator.onLine:!0}function RM(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,t){this.shortDelay=e,this.longDelay=t,vi(t>e,"Short delay should be less than long delay!"),this.isMobile=eO()||rO()}get(){return PM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dy(n,e){vi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ci("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ci("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ci("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],NM=new Gu(3e4,6e4);function xs(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Ps(n,e,t,r,s={}){return u1(n,s,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const c=qu({key:n.config.apiKey,...l}).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const p={method:e,headers:d,...a};return nO()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&tl(n.emulatorConfig.host)&&(p.credentials="include"),l1.fetch()(await c1(n,n.config.apiHost,t,c),p)})}async function u1(n,e,t){n._canInitEmulator=!1;const r={...bM,...e};try{const s=new VM(n),a=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw xh(n,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[d,p]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw xh(n,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw xh(n,"email-already-in-use",l);if(d==="USER_DISABLED")throw xh(n,"user-disabled",l);const g=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw a1(n,g,p);cr(n,g)}}catch(s){if(s instanceof dr)throw s;cr(n,"network-request-failed",{message:String(s)})}}async function Ku(n,e,t,r,s={}){const a=await Ps(n,e,t,r,s);return"mfaPendingCredential"in a&&cr(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function c1(n,e,t,r){const s=`${e}${t}?${r}`,a=n,l=a.config.emulator?dy(n.config,s):`${n.config.apiScheme}://${s}`;return kM.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function DM(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class VM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Vr(this.auth,"network-request-failed")),NM.get())})}}function xh(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=Vr(n,e,r);return s.customData._tokenResponse=t,s}function pT(n){return n!==void 0&&n.enterprise!==void 0}class OM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return DM(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function MM(n,e){return Ps(n,"GET","/v2/recaptchaConfig",xs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LM(n,e){return Ps(n,"POST","/v1/accounts:delete",e)}async function hd(n,e){return Ps(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function FM(n,e=!1){const t=Nt(n),r=await t.getIdToken(e),s=fy(r);Ce(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a?.sign_in_provider;return{claims:s,token:r,authTime:Tu(gm(s.auth_time)),issuedAtTime:Tu(gm(s.iat)),expirationTime:Tu(gm(s.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}}function gm(n){return Number(n)*1e3}function fy(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Uh("JWT malformed, contained fewer than 3 sections"),null;try{const s=WS(t);return s?JSON.parse(s):(Uh("Failed to decode base64 JWT payload"),null)}catch(s){return Uh("Caught error parsing JWT payload as JSON",s?.toString()),null}}function mT(n){const e=fy(n);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Du(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof dr&&jM(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function jM({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tu(this.lastLoginAt),this.creationTime=Tu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dd(n){const e=n.auth,t=await n.getIdToken(),r=await Du(n,hd(e,{idToken:t}));Ce(r?.users.length,e,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const a=s.providerUserInfo?.length?h1(s.providerUserInfo):[],l=zM(n.providerData,a),c=n.isAnonymous,d=!(n.email&&s.passwordHash)&&!l?.length,p=c?d:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new ag(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(n,g)}async function BM(n){const e=Nt(n);await dd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function zM(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function h1(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $M(n,e){const t=await u1(n,{},async()=>{const r=qu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=n.config,l=await c1(n,s,"/v1/token",`key=${a}`),c=await n._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:c,body:r};return n.emulatorConfig&&tl(n.emulatorConfig.host)&&(d.credentials="include"),l1.fetch()(l,d)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function WM(n,e){return Ps(n,"POST","/v2/accounts:revokeToken",xs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):mT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const t=mT(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:a}=await $M(e,t);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:a}=t,l=new Da;return r&&(Ce(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(Ce(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),a&&(Ce(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Da,this.toJSON())}_performRefresh(){return ci("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(n,e){Ce(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ar{constructor({uid:e,auth:t,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new UM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ag(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await Du(this,this.stsTokenManager.getToken(this.auth,e));return Ce(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return FM(this,e)}reload(){return BM(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ar({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await dd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qn(this.auth.app))return Promise.reject(pi(this.auth));const e=await this.getIdToken();return await Du(this,LM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,s=t.email??void 0,a=t.phoneNumber??void 0,l=t.photoURL??void 0,c=t.tenantId??void 0,d=t._redirectEventId??void 0,p=t.createdAt??void 0,g=t.lastLoginAt??void 0,{uid:y,emailVerified:w,isAnonymous:I,providerData:k,stsTokenManager:R}=t;Ce(y&&R,e,"internal-error");const A=Da.fromJSON(this.name,R);Ce(typeof y=="string",e,"internal-error"),Ji(r,e.name),Ji(s,e.name),Ce(typeof w=="boolean",e,"internal-error"),Ce(typeof I=="boolean",e,"internal-error"),Ji(a,e.name),Ji(l,e.name),Ji(c,e.name),Ji(d,e.name),Ji(p,e.name),Ji(g,e.name);const $=new ar({uid:y,auth:e,email:s,emailVerified:w,displayName:r,isAnonymous:I,photoURL:l,phoneNumber:a,tenantId:c,stsTokenManager:A,createdAt:p,lastLoginAt:g});return k&&Array.isArray(k)&&($.providerData=k.map(U=>({...U}))),d&&($._redirectEventId=d),$}static async _fromIdTokenResponse(e,t,r=!1){const s=new Da;s.updateFromServerResponse(t);const a=new ar({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await dd(a),a}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];Ce(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?h1(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!a?.length,c=new Da;c.updateFromIdToken(r);const d=new ar({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:l}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ag(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!a?.length};return Object.assign(d,p),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT=new Map;function hi(n){vi(n instanceof Function,"Expected a class definition");let e=gT.get(n);return e?(vi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,gT.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}d1.type="NONE";const yT=d1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bh(n,e,t){return`firebase:${n}:${e}:${t}`}class Va{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=Bh(this.userKey,s.apiKey,a),this.fullPersistenceKey=Bh("persistence",s.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await hd(this.auth,{idToken:e}).catch(()=>{});return t?ar._fromGetAccountInfoResponse(this.auth,t,e):null}return ar._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Va(hi(yT),e,r);const s=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=s[0]||hi(yT);const l=Bh(r,e.config.apiKey,e.name);let c=null;for(const p of t)try{const g=await p._get(l);if(g){let y;if(typeof g=="string"){const w=await hd(e,{idToken:g}).catch(()=>{});if(!w)break;y=await ar._fromGetAccountInfoResponse(e,w,g)}else y=ar._fromJSON(e,g);p!==a&&(c=y),a=p;break}}catch{}const d=s.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new Va(a,e,r):(a=d[0],c&&await a._set(l,c.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new Va(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(g1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(f1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(v1(e))return"Blackberry";if(_1(e))return"Webos";if(p1(e))return"Safari";if((e.includes("chrome/")||m1(e))&&!e.includes("edge/"))return"Chrome";if(y1(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function f1(n=sn()){return/firefox\//i.test(n)}function p1(n=sn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function m1(n=sn()){return/crios\//i.test(n)}function g1(n=sn()){return/iemobile/i.test(n)}function y1(n=sn()){return/android/i.test(n)}function v1(n=sn()){return/blackberry/i.test(n)}function _1(n=sn()){return/webos/i.test(n)}function py(n=sn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function HM(n=sn()){return py(n)&&!!window.navigator?.standalone}function qM(){return iO()&&document.documentMode===10}function w1(n=sn()){return py(n)||y1(n)||_1(n)||v1(n)||/windows phone/i.test(n)||g1(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(n,e=[]){let t;switch(n){case"Browser":t=vT(sn());break;case"Worker":t=`${vT(sn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${nl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((l,c)=>{try{const d=e(a);l(d)}catch(d){c(d)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KM(n,e={}){return Ps(n,"GET","/v2/passwordPolicy",xs(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QM=6;class YM{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??QM,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _T(this),this.idTokenSubscription=new _T(this),this.beforeStateQueue=new GM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=o1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=hi(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Va.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await hd(this,{idToken:e}),r=await ar._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(qn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,l=r?._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===l)&&c?.user&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await dd(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=RM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qn(this.app))return Promise.reject(pi(this));const t=e?Nt(e):null;return t&&Ce(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return qn(this.app)?Promise.reject(pi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qn(this.app)?Promise.reject(pi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await KM(this),t=new YM(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ro("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await WM(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&hi(e)||this._popupRedirectResolver;Ce(t,this,"argument-error"),this.redirectPersistenceManager=await Va.create(this,[hi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,s);return()=>{l=!0,d()}}else{const d=e.addObserver(t);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=T1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&AM(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ko(n){return Nt(n)}class _T{constructor(e){this.auth=e,this.observer=null,this.addObserver=hO(t=>this.observer=t)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function JM(n){Wd=n}function E1(n){return Wd.loadJS(n)}function ZM(){return Wd.recaptchaEnterpriseScript}function eL(){return Wd.gapiScript}function tL(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class nL{constructor(){this.enterprise=new rL}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class rL{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const iL="recaptcha-enterprise",I1="NO_RECAPTCHA";class sL{constructor(e){this.type=iL,this.auth=ko(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,c)=>{MM(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const p=new OM(d);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,l(p.siteKey)}}).catch(d=>{c(d)})})}function s(a,l,c){const d=window.grecaptcha;pT(d)?d.enterprise.ready(()=>{d.enterprise.execute(a,{action:e}).then(p=>{l(p)}).catch(()=>{l(I1)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new nL().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(c=>{if(!t&&pT(window.grecaptcha))s(c,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=ZM();d.length!==0&&(d+=c),E1(d).then(()=>{s(c,a,l)}).catch(p=>{l(p)})}}).catch(c=>{l(c)})})}}async function wT(n,e,t,r=!1,s=!1){const a=new sL(n);let l;if(s)l=I1;else try{l=await a.verify(t)}catch{l=await a.verify(t,!0)}const c={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const d=c.phoneEnrollmentInfo.phoneNumber,p=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const d=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function lg(n,e,t,r,s){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await wT(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await wT(n,e,t,t==="getOobCode");return r(n,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oL(n,e){const t=bo(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),a=t.getOptions();if(ys(a,e??{}))return s;cr(s,"already-initialized")}return t.initialize({options:e})}function aL(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(hi);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function lL(n,e,t){const r=ko(n);Ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=S1(e),{host:l,port:c}=uL(e),d=c===null?"":`:${c}`,p={url:`${a}//${l}${d}/`},g=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ce(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ce(ys(p,r.config.emulator)&&ys(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,tl(l)?(KS(`${a}//${l}${d}`),QS("Auth",!0)):cL()}function S1(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function uL(n){const e=S1(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:TT(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:TT(l)}}}function TT(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function cL(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ci("not implemented")}_getIdTokenResponse(e){return ci("not implemented")}_linkToIdToken(e,t){return ci("not implemented")}_getReauthenticationResolver(e){return ci("not implemented")}}async function hL(n,e){return Ps(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dL(n,e){return Ku(n,"POST","/v1/accounts:signInWithPassword",xs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fL(n,e){return Ku(n,"POST","/v1/accounts:signInWithEmailLink",xs(n,e))}async function pL(n,e){return Ku(n,"POST","/v1/accounts:signInWithEmailLink",xs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu extends my{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new Vu(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Vu(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lg(e,t,"signInWithPassword",dL);case"emailLink":return fL(e,{email:this._email,oobCode:this._password});default:cr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lg(e,r,"signUpPassword",hL);case"emailLink":return pL(e,{idToken:t,email:this._email,oobCode:this._password});default:cr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oa(n,e){return Ku(n,"POST","/v1/accounts:signInWithIdp",xs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mL="http://localhost";class yo extends my{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new yo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):cr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...a}=t;if(!r||!s)return null;const l=new yo(r,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Oa(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Oa(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Oa(e,t)}buildRequest(){const e={requestUri:mL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=qu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gL(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function yL(n){const e=hu(du(n)).link,t=e?hu(du(e)).deep_link_id:null,r=hu(du(n)).deep_link_id;return(r?hu(du(r)).link:null)||r||t||e||n}class gy{constructor(e){const t=hu(du(e)),r=t.apiKey??null,s=t.oobCode??null,a=gL(t.mode??null);Ce(r&&s&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=s,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=yL(e);try{return new gy(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(){this.providerId=rl.PROVIDER_ID}static credential(e,t){return Vu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=gy.parseLink(t);return Ce(r,"argument-error"),Vu._fromEmailAndCode(e,r.code,r.tenantId)}}rl.PROVIDER_ID="password";rl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";rl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu extends C1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends Qu{constructor(){super("facebook.com")}static credential(e){return yo._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ts.credential(e.oauthAccessToken)}catch{return null}}}ts.FACEBOOK_SIGN_IN_METHOD="facebook.com";ts.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends Qu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return yo._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return ns.credential(t,r)}catch{return null}}}ns.GOOGLE_SIGN_IN_METHOD="google.com";ns.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends Qu{constructor(){super("github.com")}static credential(e){return yo._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rs.credential(e.oauthAccessToken)}catch{return null}}}rs.GITHUB_SIGN_IN_METHOD="github.com";rs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends Qu{constructor(){super("twitter.com")}static credential(e,t){return yo._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return is.credential(t,r)}catch{return null}}}is.TWITTER_SIGN_IN_METHOD="twitter.com";is.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vL(n,e){return Ku(n,"POST","/v1/accounts:signUp",xs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const a=await ar._fromIdTokenResponse(e,r,s),l=ET(r);return new vo({user:a,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=ET(r);return new vo({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function ET(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd extends dr{constructor(e,t,r,s){super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,fd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new fd(e,t,r,s)}}function A1(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?fd._fromErrorAndOperation(n,a,e,r):a})}async function _L(n,e,t=!1){const r=await Du(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return vo._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wL(n,e,t=!1){const{auth:r}=n;if(qn(r.app))return Promise.reject(pi(r));const s="reauthenticate";try{const a=await Du(n,A1(r,s,e,n),t);Ce(a.idToken,r,"internal-error");const l=fy(a.idToken);Ce(l,r,"internal-error");const{sub:c}=l;return Ce(n.uid===c,r,"user-mismatch"),vo._forOperation(n,s,a)}catch(a){throw a?.code==="auth/user-not-found"&&cr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x1(n,e,t=!1){if(qn(n.app))return Promise.reject(pi(n));const r="signIn",s=await A1(n,r,e),a=await vo._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(a.user),a}async function TL(n,e){return x1(ko(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P1(n){const e=ko(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function EL(n,e,t){if(qn(n.app))return Promise.reject(pi(n));const r=ko(n),l=await lg(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",vL).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&P1(n),d}),c=await vo._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(c.user),c}function IT(n,e,t){return qn(n.app)?Promise.reject(pi(n)):TL(Nt(n),rl.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&P1(n),r})}function IL(n,e,t,r){return Nt(n).onIdTokenChanged(e,t,r)}function SL(n,e,t){return Nt(n).beforeAuthStateChanged(e,t)}function CL(n,e,t,r){return Nt(n).onAuthStateChanged(e,t,r)}const pd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(pd,"1"),this.storage.removeItem(pd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL=1e3,xL=10;class b1 extends R1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=w1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,c,d)=>{this.notifyListeners(l,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);qM()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,xL):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},AL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}b1.type="LOCAL";const PL=b1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1 extends R1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}k1.type="SESSION";const N1=k1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RL(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new Hd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:a}=t.data,l=this.handlersMap[s];if(!l?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(l).map(async p=>p(t.origin,a)),d=await RL(c);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((c,d)=>{const p=yy("",20);s.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(y){const w=y;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(w.data.response);break;default:clearTimeout(g),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(){return window}function kL(n){Or().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(){return typeof Or().WorkerGlobalScope<"u"&&typeof Or().importScripts=="function"}async function NL(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function DL(){return navigator?.serviceWorker?.controller||null}function VL(){return D1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1="firebaseLocalStorageDb",OL=1,md="firebaseLocalStorage",O1="fbase_key";class Yu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function qd(n,e){return n.transaction([md],e?"readwrite":"readonly").objectStore(md)}function ML(){const n=indexedDB.deleteDatabase(V1);return new Yu(n).toPromise()}function ug(){const n=indexedDB.open(V1,OL);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(md,{keyPath:O1})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(md)?e(r):(r.close(),await ML(),e(await ug()))})})}async function ST(n,e,t){const r=qd(n,!0).put({[O1]:e,value:t});return new Yu(r).toPromise()}async function LL(n,e){const t=qd(n,!1).get(e),r=await new Yu(t).toPromise();return r===void 0?null:r.value}function CT(n,e){const t=qd(n,!0).delete(e);return new Yu(t).toPromise()}const FL=800,jL=3;class M1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ug(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>jL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return D1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hd._getInstance(VL()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await NL(),!this.activeServiceWorker)return;this.sender=new bL(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||DL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ug();return await ST(e,pd,"1"),await CT(e,pd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>ST(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>LL(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>CT(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=qd(s,!1).getAll();return new Yu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),FL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}M1.type="LOCAL";const UL=M1;new Gu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BL(n,e){return e?hi(e):(Ce(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy extends my{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Oa(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Oa(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Oa(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function zL(n){return x1(n.auth,new vy(n),n.bypassAuthState)}function $L(n){const{auth:e,user:t}=n;return Ce(t,e,"internal-error"),wL(t,new vy(n),n.bypassAuthState)}async function WL(n){const{auth:e,user:t}=n;return Ce(t,e,"internal-error"),_L(t,new vy(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e,t,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:a,error:l,type:c}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zL;case"linkViaPopup":case"linkViaRedirect":return WL;case"reauthViaPopup":case"reauthViaRedirect":return $L;default:cr(this.auth,"internal-error")}}resolve(e){vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HL=new Gu(2e3,1e4);class ka extends L1{constructor(e,t,r,s,a){super(e,t,s,a),this.provider=r,this.authWindow=null,this.pollId=null,ka.currentPopupAction&&ka.currentPopupAction.cancel(),ka.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){vi(this.filter.length===1,"Popup operations only handle one event");const e=yy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Vr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Vr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ka.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,HL.get())};e()}}ka.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL="pendingRedirect",zh=new Map;class GL extends L1{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=zh.get(this.auth._key());if(!e){try{const r=await KL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}zh.set(this.auth._key(),e)}return this.bypassAuthState||zh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function KL(n,e){const t=XL(e),r=YL(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function QL(n,e){zh.set(n._key(),e)}function YL(n){return hi(n._redirectPersistence)}function XL(n){return Bh(qL,n.config.apiKey,n.name)}async function JL(n,e,t=!1){if(qn(n.app))return Promise.reject(pi(n));const r=ko(n),s=BL(r,e),l=await new GL(r,s,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL=600*1e3;class e4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!t4(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!F1(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Vr(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ZL&&this.cachedEventUids.clear(),this.cachedEventUids.has(AT(e))}saveEventToCache(e){this.cachedEventUids.add(AT(e)),this.lastProcessedEventTime=Date.now()}}function AT(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function F1({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function t4(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return F1(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n4(n,e={}){return Ps(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,i4=/^https?/;async function s4(n){if(n.config.emulator)return;const{authorizedDomains:e}=await n4(n);for(const t of e)try{if(o4(t))return}catch{}cr(n,"unauthorized-domain")}function o4(n){const e=og(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!i4.test(t))return!1;if(r4.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4=new Gu(3e4,6e4);function xT(){const n=Or().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function l4(n){return new Promise((e,t)=>{function r(){xT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{xT(),t(Vr(n,"network-request-failed"))},timeout:a4.get()})}if(Or().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Or().gapi?.load)r();else{const s=tL("iframefcb");return Or()[s]=()=>{gapi.load?r():t(Vr(n,"network-request-failed"))},E1(`${eL()}?onload=${s}`).catch(a=>t(a))}}).catch(e=>{throw $h=null,e})}let $h=null;function u4(n){return $h=$h||l4(n),$h}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4=new Gu(5e3,15e3),h4="__/auth/iframe",d4="emulator/auth/iframe",f4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},p4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function m4(n){const e=n.config;Ce(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?dy(e,d4):`https://${n.config.authDomain}/${h4}`,r={apiKey:e.apiKey,appName:n.name,v:nl},s=p4.get(n.config.apiHost);s&&(r.eid=s);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${qu(r).slice(1)}`}async function g4(n){const e=await u4(n),t=Or().gapi;return Ce(t,n,"internal-error"),e.open({where:document.body,url:m4(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:f4,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const l=Vr(n,"network-request-failed"),c=Or().setTimeout(()=>{a(l)},c4.get());function d(){Or().clearTimeout(c),s(r)}r.ping(d).then(d,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},v4=500,_4=600,w4="_blank",T4="http://localhost";class PT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function E4(n,e,t,r=v4,s=_4){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const d={...y4,width:r.toString(),height:s.toString(),top:a,left:l},p=sn().toLowerCase();t&&(c=m1(p)?w4:t),f1(p)&&(e=e||T4,d.scrollbars="yes");const g=Object.entries(d).reduce((w,[I,k])=>`${w}${I}=${k},`,"");if(HM(p)&&c!=="_self")return I4(e||"",c),new PT(null);const y=window.open(e||"",c,g);Ce(y,n,"popup-blocked");try{y.focus()}catch{}return new PT(y)}function I4(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4="__/auth/handler",C4="emulator/auth/handler",A4=encodeURIComponent("fac");async function RT(n,e,t,r,s,a){Ce(n.config.authDomain,n,"auth-domain-config-required"),Ce(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:nl,eventId:s};if(e instanceof C1){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",cO(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,y]of Object.entries({}))l[g]=y}if(e instanceof Qu){const g=e.getScopes().filter(y=>y!=="");g.length>0&&(l.scopes=g.join(","))}n.tenantId&&(l.tid=n.tenantId);const c=l;for(const g of Object.keys(c))c[g]===void 0&&delete c[g];const d=await n._getAppCheckToken(),p=d?`#${A4}=${encodeURIComponent(d)}`:"";return`${x4(n)}?${qu(c).slice(1)}${p}`}function x4({config:n}){return n.emulator?dy(n,C4):`https://${n.authDomain}/${S4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym="webStorageSupport";class P4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=N1,this._completeRedirectFn=JL,this._overrideRedirectResult=QL}async _openPopup(e,t,r,s){vi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await RT(e,t,r,og(),s);return E4(e,a,yy())}async _openRedirect(e,t,r,s){await this._originValidation(e);const a=await RT(e,t,r,og(),s);return kL(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:a}=this.eventManagers[t];return s?Promise.resolve(s):(vi(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await g4(e),r=new e4(e);return t.register("authEvent",s=>(Ce(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ym,{type:ym},s=>{const a=s?.[0]?.[ym];a!==void 0&&t(!!a),cr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=s4(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return w1()||p1()||py()}}const R4=P4;var bT="@firebase/auth",kT="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k4(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function N4(n){Ur(new ur("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;Ce(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:T1(n)},p=new XM(r,s,a,d);return aL(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ur(new ur("auth-internal",e=>{const t=ko(e.getProvider("auth").getImmediate());return(r=>new b4(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Kn(bT,kT,k4(n)),Kn(bT,kT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4=300,V4=GS("authIdTokenMaxAge")||D4;let NT=null;const O4=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>V4)return;const s=t?.token;NT!==s&&(NT=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function M4(n=cy()){const e=bo(n,"auth");if(e.isInitialized())return e.getImmediate();const t=oL(n,{popupRedirectResolver:R4,persistence:[UL,PL,N1]}),r=GS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=O4(a.toString());SL(t,l,()=>l(t.currentUser)),IL(t,c=>l(c))}}const s=HS("auth");return s&&lL(t,`http://${s}`),t}function L4(){return document.getElementsByTagName("head")?.[0]??document}JM({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const a=Vr("internal-error");a.customData=s,t(a)},r.type="text/javascript",r.charset="UTF-8",L4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});N4("Browser");var F4="firebase",j4="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kn(F4,j4,"app");const j1="@firebase/installations",_y="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1=1e4,B1=`w:${_y}`,z1="FIS_v2",U4="https://firebaseinstallations.googleapis.com/v1",B4=3600*1e3,z4="installations",$4="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},_o=new Ro(z4,$4,W4);function $1(n){return n instanceof dr&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1({projectId:n}){return`${U4}/projects/${n}/installations`}function H1(n){return{token:n.token,requestStatus:2,expiresIn:q4(n.expiresIn),creationTime:Date.now()}}async function q1(n,e){const r=(await e.json()).error;return _o.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function G1({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function H4(n,{refreshToken:e}){const t=G1(n);return t.append("Authorization",G4(e)),t}async function K1(n){const e=await n();return e.status>=500&&e.status<600?n():e}function q4(n){return Number(n.replace("s","000"))}function G4(n){return`${z1} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K4({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=W1(n),s=G1(n),a=e.getImmediate({optional:!0});if(a){const p=await a.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}const l={fid:t,authVersion:z1,appId:n.appId,sdkVersion:B1},c={method:"POST",headers:s,body:JSON.stringify(l)},d=await K1(()=>fetch(r,c));if(d.ok){const p=await d.json();return{fid:p.fid||t,registrationStatus:2,refreshToken:p.refreshToken,authToken:H1(p.authToken)}}else throw await q1("Create Installation",d)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q4(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4=/^[cdef][\w-]{21}$/,cg="";function X4(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=J4(n);return Y4.test(t)?t:cg}catch{return cg}}function J4(n){return Q4(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1=new Map;function X1(n,e){const t=Gd(n);J1(t,e),Z4(t,e)}function J1(n,e){const t=Y1.get(n);if(t)for(const r of t)r(e)}function Z4(n,e){const t=eF();t&&t.postMessage({key:n,fid:e}),tF()}let fo=null;function eF(){return!fo&&"BroadcastChannel"in self&&(fo=new BroadcastChannel("[Firebase] FID Change"),fo.onmessage=n=>{J1(n.data.key,n.data.fid)}),fo}function tF(){Y1.size===0&&fo&&(fo.close(),fo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nF="firebase-installations-database",rF=1,wo="firebase-installations-store";let vm=null;function wy(){return vm||(vm=t1(nF,rF,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(wo)}}})),vm}async function gd(n,e){const t=Gd(n),s=(await wy()).transaction(wo,"readwrite"),a=s.objectStore(wo),l=await a.get(t);return await a.put(e,t),await s.done,(!l||l.fid!==e.fid)&&X1(n,e.fid),e}async function Z1(n){const e=Gd(n),r=(await wy()).transaction(wo,"readwrite");await r.objectStore(wo).delete(e),await r.done}async function Kd(n,e){const t=Gd(n),s=(await wy()).transaction(wo,"readwrite"),a=s.objectStore(wo),l=await a.get(t),c=e(l);return c===void 0?await a.delete(t):await a.put(c,t),await s.done,c&&(!l||l.fid!==c.fid)&&X1(n,c.fid),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ty(n){let e;const t=await Kd(n.appConfig,r=>{const s=iF(r),a=sF(n,s);return e=a.registrationPromise,a.installationEntry});return t.fid===cg?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function iF(n){const e=n||{fid:X4(),registrationStatus:0};return eC(e)}function sF(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(_o.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=oF(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:aF(n)}:{installationEntry:e}}async function oF(n,e){try{const t=await K4(n,e);return gd(n.appConfig,t)}catch(t){throw $1(t)&&t.customData.serverCode===409?await Z1(n.appConfig):await gd(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function aF(n){let e=await DT(n.appConfig);for(;e.registrationStatus===1;)await Q1(100),e=await DT(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await Ty(n);return r||t}return e}function DT(n){return Kd(n,e=>{if(!e)throw _o.create("installation-not-found");return eC(e)})}function eC(n){return lF(n)?{fid:n.fid,registrationStatus:0}:n}function lF(n){return n.registrationStatus===1&&n.registrationTime+U1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uF({appConfig:n,heartbeatServiceProvider:e},t){const r=cF(n,t),s=H4(n,t),a=e.getImmediate({optional:!0});if(a){const p=await a.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}const l={installation:{sdkVersion:B1,appId:n.appId}},c={method:"POST",headers:s,body:JSON.stringify(l)},d=await K1(()=>fetch(r,c));if(d.ok){const p=await d.json();return H1(p)}else throw await q1("Generate Auth Token",d)}function cF(n,{fid:e}){return`${W1(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ey(n,e=!1){let t;const r=await Kd(n.appConfig,a=>{if(!tC(a))throw _o.create("not-registered");const l=a.authToken;if(!e&&fF(l))return a;if(l.requestStatus===1)return t=hF(n,e),a;{if(!navigator.onLine)throw _o.create("app-offline");const c=mF(a);return t=dF(n,c),c}});return t?await t:r.authToken}async function hF(n,e){let t=await VT(n.appConfig);for(;t.authToken.requestStatus===1;)await Q1(100),t=await VT(n.appConfig);const r=t.authToken;return r.requestStatus===0?Ey(n,e):r}function VT(n){return Kd(n,e=>{if(!tC(e))throw _o.create("not-registered");const t=e.authToken;return gF(t)?{...e,authToken:{requestStatus:0}}:e})}async function dF(n,e){try{const t=await uF(n,e),r={...e,authToken:t};return await gd(n.appConfig,r),t}catch(t){if($1(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await Z1(n.appConfig);else{const r={...e,authToken:{requestStatus:0}};await gd(n.appConfig,r)}throw t}}function tC(n){return n!==void 0&&n.registrationStatus===2}function fF(n){return n.requestStatus===2&&!pF(n)}function pF(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+B4}function mF(n){const e={requestStatus:1,requestTime:Date.now()};return{...n,authToken:e}}function gF(n){return n.requestStatus===1&&n.requestTime+U1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yF(n){const e=n,{installationEntry:t,registrationPromise:r}=await Ty(e);return r?r.catch(console.error):Ey(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vF(n,e=!1){const t=n;return await _F(t),(await Ey(t,e)).token}async function _F(n){const{registrationPromise:e}=await Ty(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wF(n){if(!n||!n.options)throw _m("App Configuration");if(!n.name)throw _m("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw _m(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function _m(n){return _o.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC="installations",TF="installations-internal",EF=n=>{const e=n.getProvider("app").getImmediate(),t=wF(e),r=bo(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},IF=n=>{const e=n.getProvider("app").getImmediate(),t=bo(e,nC).getImmediate();return{getId:()=>yF(t),getToken:s=>vF(t,s)}};function SF(){Ur(new ur(nC,EF,"PUBLIC")),Ur(new ur(TF,IF,"PRIVATE"))}SF();Kn(j1,_y);Kn(j1,_y,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd="analytics",CF="firebase_id",AF="origin",xF=60*1e3,PF="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Iy="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hn=new $d("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RF={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Vn=new Ro("analytics","Analytics",RF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bF(n){if(!n.startsWith(Iy)){const e=Vn.create("invalid-gtag-resource",{gtagURL:n});return hn.warn(e.message),""}return n}function rC(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function kF(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function NF(n,e){const t=kF("firebase-js-sdk-policy",{createScriptURL:bF}),r=document.createElement("script"),s=`${Iy}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function DF(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function VF(n,e,t,r,s,a){const l=r[s];try{if(l)await e[l];else{const d=(await rC(t)).find(p=>p.measurementId===s);d&&await e[d.appId]}}catch(c){hn.error(c)}n("config",s,a)}async function OF(n,e,t,r,s){try{let a=[];if(s&&s.send_to){let l=s.send_to;Array.isArray(l)||(l=[l]);const c=await rC(t);for(const d of l){const p=c.find(y=>y.measurementId===d),g=p&&e[p.appId];if(g)a.push(g);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),n("event",r,s||{})}catch(a){hn.error(a)}}function MF(n,e,t,r){async function s(a,...l){try{if(a==="event"){const[c,d]=l;await OF(n,e,t,c,d)}else if(a==="config"){const[c,d]=l;await VF(n,e,t,r,c,d)}else if(a==="consent"){const[c,d]=l;n("consent",c,d)}else if(a==="get"){const[c,d,p]=l;n("get",c,d,p)}else if(a==="set"){const[c]=l;n("set",c)}else n(a,...l)}catch(c){hn.error(c)}}return s}function LF(n,e,t,r,s){let a=function(...l){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(a=window[s]),window[s]=MF(a,n,e,t),{gtagCore:a,wrappedGtag:window[s]}}function FF(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Iy)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jF=30,UF=1e3;class BF{constructor(e={},t=UF){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const iC=new BF;function zF(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function $F(n){const{appId:e,apiKey:t}=n,r={method:"GET",headers:zF(t)},s=PF.replace("{app-id}",e),a=await fetch(s,r);if(a.status!==200&&a.status!==304){let l="";try{const c=await a.json();c.error?.message&&(l=c.error.message)}catch{}throw Vn.create("config-fetch-failed",{httpStatus:a.status,responseMessage:l})}return a.json()}async function WF(n,e=iC,t){const{appId:r,apiKey:s,measurementId:a}=n.options;if(!r)throw Vn.create("no-app-id");if(!s){if(a)return{measurementId:a,appId:r};throw Vn.create("no-api-key")}const l=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new GF;return setTimeout(async()=>{c.abort()},xF),sC({appId:r,apiKey:s,measurementId:a},l,c,e)}async function sC(n,{throttleEndTimeMillis:e,backoffCount:t},r,s=iC){const{appId:a,measurementId:l}=n;try{await HF(r,e)}catch(c){if(l)return hn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:a,measurementId:l};throw c}try{const c=await $F(n);return s.deleteThrottleMetadata(a),c}catch(c){const d=c;if(!qF(d)){if(s.deleteThrottleMetadata(a),l)return hn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:a,measurementId:l};throw c}const p=Number(d?.customData?.httpStatus)===503?iT(t,s.intervalMillis,jF):iT(t,s.intervalMillis),g={throttleEndTimeMillis:Date.now()+p,backoffCount:t+1};return s.setThrottleMetadata(a,g),hn.debug(`Calling attemptFetch again in ${p} millis`),sC(n,g,r,s)}}function HF(n,e){return new Promise((t,r)=>{const s=Math.max(e-Date.now(),0),a=setTimeout(t,s);n.addEventListener(()=>{clearTimeout(a),r(Vn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function qF(n){if(!(n instanceof dr)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class GF{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function KF(n,e,t,r,s){if(s&&s.global){n("event",t,r);return}else{const a=await e,l={...r,send_to:a};n("event",t,l)}}async function QF(n,e,t,r){if(r&&r.global){const s={};for(const a of Object.keys(t))s[`user_properties.${a}`]=t[a];return n("set",s),Promise.resolve()}else{const s=await e;n("config",s,{update:!0,user_properties:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YF(){if(XS())try{await JS()}catch(n){return hn.warn(Vn.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return hn.warn(Vn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function XF(n,e,t,r,s,a,l){const c=WF(n);c.then(w=>{t[w.measurementId]=w.appId,n.options.measurementId&&w.measurementId!==n.options.measurementId&&hn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${w.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(w=>hn.error(w)),e.push(c);const d=YF().then(w=>{if(w)return r.getId()}),[p,g]=await Promise.all([c,d]);FF(a)||NF(a,p.measurementId),s("js",new Date);const y=l?.config??{};return y[AF]="firebase",y.update=!0,g!=null&&(y[CF]=g),s("config",p.measurementId,y),p.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{constructor(e){this.app=e}_delete(){return delete Ma[this.app.options.appId],Promise.resolve()}}let Ma={},OT=[];const MT={};let wm="dataLayer",ZF="gtag",LT,Sy,FT=!1;function ej(){const n=[];if(YS()&&n.push("This is a browser extension environment."),oO()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,s)=>`(${s+1}) ${r}`).join(" "),t=Vn.create("invalid-analytics-context",{errorInfo:e});hn.warn(t.message)}}function tj(n,e,t){ej();const r=n.options.appId;if(!r)throw Vn.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)hn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Vn.create("no-api-key");if(Ma[r]!=null)throw Vn.create("already-exists",{id:r});if(!FT){DF(wm);const{wrappedGtag:a,gtagCore:l}=LF(Ma,OT,MT,wm,ZF);Sy=a,LT=l,FT=!0}return Ma[r]=XF(n,OT,MT,e,LT,wm,t),new JF(n)}function nj(n=cy()){n=Nt(n);const e=bo(n,yd);return e.isInitialized()?e.getImmediate():rj(n)}function rj(n,e={}){const t=bo(n,yd);if(t.isInitialized()){const s=t.getImmediate();if(ys(e,t.getOptions()))return s;throw Vn.create("already-initialized")}return t.initialize({options:e})}function ij(n,e,t){n=Nt(n),QF(Sy,Ma[n.app.options.appId],e,t).catch(r=>hn.error(r))}function sj(n,e,t,r){n=Nt(n),KF(Sy,Ma[n.app.options.appId],e,t,r).catch(s=>hn.error(s))}const jT="@firebase/analytics",UT="0.10.19";function oj(){Ur(new ur(yd,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return tj(r,s,t)},"PUBLIC")),Ur(new ur("analytics-internal",n,"PRIVATE")),Kn(jT,UT),Kn(jT,UT,"esm2020");function n(e){try{const t=e.getProvider(yd).getImmediate();return{logEvent:(r,s,a)=>sj(t,r,s,a),setUserProperties:(r,s)=>ij(t,r,s)}}catch(t){throw Vn.create("interop-component-reg-failed",{reason:t})}}}oj();var BT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hs,oC;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,x){function b(){}b.prototype=x.prototype,N.F=x.prototype,N.prototype=new b,N.prototype.constructor=N,N.D=function(M,O,L){for(var D=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)D[ae-2]=arguments[ae];return x.prototype[O].apply(M,D)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(N,x,b){b||(b=0);const M=Array(16);if(typeof x=="string")for(var O=0;O<16;++O)M[O]=x.charCodeAt(b++)|x.charCodeAt(b++)<<8|x.charCodeAt(b++)<<16|x.charCodeAt(b++)<<24;else for(O=0;O<16;++O)M[O]=x[b++]|x[b++]<<8|x[b++]<<16|x[b++]<<24;x=N.g[0],b=N.g[1],O=N.g[2];let L=N.g[3],D;D=x+(L^b&(O^L))+M[0]+3614090360&4294967295,x=b+(D<<7&4294967295|D>>>25),D=L+(O^x&(b^O))+M[1]+3905402710&4294967295,L=x+(D<<12&4294967295|D>>>20),D=O+(b^L&(x^b))+M[2]+606105819&4294967295,O=L+(D<<17&4294967295|D>>>15),D=b+(x^O&(L^x))+M[3]+3250441966&4294967295,b=O+(D<<22&4294967295|D>>>10),D=x+(L^b&(O^L))+M[4]+4118548399&4294967295,x=b+(D<<7&4294967295|D>>>25),D=L+(O^x&(b^O))+M[5]+1200080426&4294967295,L=x+(D<<12&4294967295|D>>>20),D=O+(b^L&(x^b))+M[6]+2821735955&4294967295,O=L+(D<<17&4294967295|D>>>15),D=b+(x^O&(L^x))+M[7]+4249261313&4294967295,b=O+(D<<22&4294967295|D>>>10),D=x+(L^b&(O^L))+M[8]+1770035416&4294967295,x=b+(D<<7&4294967295|D>>>25),D=L+(O^x&(b^O))+M[9]+2336552879&4294967295,L=x+(D<<12&4294967295|D>>>20),D=O+(b^L&(x^b))+M[10]+4294925233&4294967295,O=L+(D<<17&4294967295|D>>>15),D=b+(x^O&(L^x))+M[11]+2304563134&4294967295,b=O+(D<<22&4294967295|D>>>10),D=x+(L^b&(O^L))+M[12]+1804603682&4294967295,x=b+(D<<7&4294967295|D>>>25),D=L+(O^x&(b^O))+M[13]+4254626195&4294967295,L=x+(D<<12&4294967295|D>>>20),D=O+(b^L&(x^b))+M[14]+2792965006&4294967295,O=L+(D<<17&4294967295|D>>>15),D=b+(x^O&(L^x))+M[15]+1236535329&4294967295,b=O+(D<<22&4294967295|D>>>10),D=x+(O^L&(b^O))+M[1]+4129170786&4294967295,x=b+(D<<5&4294967295|D>>>27),D=L+(b^O&(x^b))+M[6]+3225465664&4294967295,L=x+(D<<9&4294967295|D>>>23),D=O+(x^b&(L^x))+M[11]+643717713&4294967295,O=L+(D<<14&4294967295|D>>>18),D=b+(L^x&(O^L))+M[0]+3921069994&4294967295,b=O+(D<<20&4294967295|D>>>12),D=x+(O^L&(b^O))+M[5]+3593408605&4294967295,x=b+(D<<5&4294967295|D>>>27),D=L+(b^O&(x^b))+M[10]+38016083&4294967295,L=x+(D<<9&4294967295|D>>>23),D=O+(x^b&(L^x))+M[15]+3634488961&4294967295,O=L+(D<<14&4294967295|D>>>18),D=b+(L^x&(O^L))+M[4]+3889429448&4294967295,b=O+(D<<20&4294967295|D>>>12),D=x+(O^L&(b^O))+M[9]+568446438&4294967295,x=b+(D<<5&4294967295|D>>>27),D=L+(b^O&(x^b))+M[14]+3275163606&4294967295,L=x+(D<<9&4294967295|D>>>23),D=O+(x^b&(L^x))+M[3]+4107603335&4294967295,O=L+(D<<14&4294967295|D>>>18),D=b+(L^x&(O^L))+M[8]+1163531501&4294967295,b=O+(D<<20&4294967295|D>>>12),D=x+(O^L&(b^O))+M[13]+2850285829&4294967295,x=b+(D<<5&4294967295|D>>>27),D=L+(b^O&(x^b))+M[2]+4243563512&4294967295,L=x+(D<<9&4294967295|D>>>23),D=O+(x^b&(L^x))+M[7]+1735328473&4294967295,O=L+(D<<14&4294967295|D>>>18),D=b+(L^x&(O^L))+M[12]+2368359562&4294967295,b=O+(D<<20&4294967295|D>>>12),D=x+(b^O^L)+M[5]+4294588738&4294967295,x=b+(D<<4&4294967295|D>>>28),D=L+(x^b^O)+M[8]+2272392833&4294967295,L=x+(D<<11&4294967295|D>>>21),D=O+(L^x^b)+M[11]+1839030562&4294967295,O=L+(D<<16&4294967295|D>>>16),D=b+(O^L^x)+M[14]+4259657740&4294967295,b=O+(D<<23&4294967295|D>>>9),D=x+(b^O^L)+M[1]+2763975236&4294967295,x=b+(D<<4&4294967295|D>>>28),D=L+(x^b^O)+M[4]+1272893353&4294967295,L=x+(D<<11&4294967295|D>>>21),D=O+(L^x^b)+M[7]+4139469664&4294967295,O=L+(D<<16&4294967295|D>>>16),D=b+(O^L^x)+M[10]+3200236656&4294967295,b=O+(D<<23&4294967295|D>>>9),D=x+(b^O^L)+M[13]+681279174&4294967295,x=b+(D<<4&4294967295|D>>>28),D=L+(x^b^O)+M[0]+3936430074&4294967295,L=x+(D<<11&4294967295|D>>>21),D=O+(L^x^b)+M[3]+3572445317&4294967295,O=L+(D<<16&4294967295|D>>>16),D=b+(O^L^x)+M[6]+76029189&4294967295,b=O+(D<<23&4294967295|D>>>9),D=x+(b^O^L)+M[9]+3654602809&4294967295,x=b+(D<<4&4294967295|D>>>28),D=L+(x^b^O)+M[12]+3873151461&4294967295,L=x+(D<<11&4294967295|D>>>21),D=O+(L^x^b)+M[15]+530742520&4294967295,O=L+(D<<16&4294967295|D>>>16),D=b+(O^L^x)+M[2]+3299628645&4294967295,b=O+(D<<23&4294967295|D>>>9),D=x+(O^(b|~L))+M[0]+4096336452&4294967295,x=b+(D<<6&4294967295|D>>>26),D=L+(b^(x|~O))+M[7]+1126891415&4294967295,L=x+(D<<10&4294967295|D>>>22),D=O+(x^(L|~b))+M[14]+2878612391&4294967295,O=L+(D<<15&4294967295|D>>>17),D=b+(L^(O|~x))+M[5]+4237533241&4294967295,b=O+(D<<21&4294967295|D>>>11),D=x+(O^(b|~L))+M[12]+1700485571&4294967295,x=b+(D<<6&4294967295|D>>>26),D=L+(b^(x|~O))+M[3]+2399980690&4294967295,L=x+(D<<10&4294967295|D>>>22),D=O+(x^(L|~b))+M[10]+4293915773&4294967295,O=L+(D<<15&4294967295|D>>>17),D=b+(L^(O|~x))+M[1]+2240044497&4294967295,b=O+(D<<21&4294967295|D>>>11),D=x+(O^(b|~L))+M[8]+1873313359&4294967295,x=b+(D<<6&4294967295|D>>>26),D=L+(b^(x|~O))+M[15]+4264355552&4294967295,L=x+(D<<10&4294967295|D>>>22),D=O+(x^(L|~b))+M[6]+2734768916&4294967295,O=L+(D<<15&4294967295|D>>>17),D=b+(L^(O|~x))+M[13]+1309151649&4294967295,b=O+(D<<21&4294967295|D>>>11),D=x+(O^(b|~L))+M[4]+4149444226&4294967295,x=b+(D<<6&4294967295|D>>>26),D=L+(b^(x|~O))+M[11]+3174756917&4294967295,L=x+(D<<10&4294967295|D>>>22),D=O+(x^(L|~b))+M[2]+718787259&4294967295,O=L+(D<<15&4294967295|D>>>17),D=b+(L^(O|~x))+M[9]+3951481745&4294967295,N.g[0]=N.g[0]+x&4294967295,N.g[1]=N.g[1]+(O+(D<<21&4294967295|D>>>11))&4294967295,N.g[2]=N.g[2]+O&4294967295,N.g[3]=N.g[3]+L&4294967295}r.prototype.v=function(N,x){x===void 0&&(x=N.length);const b=x-this.blockSize,M=this.C;let O=this.h,L=0;for(;L<x;){if(O==0)for(;L<=b;)s(this,N,L),L+=this.blockSize;if(typeof N=="string"){for(;L<x;)if(M[O++]=N.charCodeAt(L++),O==this.blockSize){s(this,M),O=0;break}}else for(;L<x;)if(M[O++]=N[L++],O==this.blockSize){s(this,M),O=0;break}}this.h=O,this.o+=x},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var x=1;x<N.length-8;++x)N[x]=0;x=this.o*8;for(var b=N.length-8;b<N.length;++b)N[b]=x&255,x/=256;for(this.v(N),N=Array(16),x=0,b=0;b<4;++b)for(let M=0;M<32;M+=8)N[x++]=this.g[b]>>>M&255;return N};function a(N,x){var b=c;return Object.prototype.hasOwnProperty.call(b,N)?b[N]:b[N]=x(N)}function l(N,x){this.h=x;const b=[];let M=!0;for(let O=N.length-1;O>=0;O--){const L=N[O]|0;M&&L==x||(b[O]=L,M=!1)}this.g=b}var c={};function d(N){return-128<=N&&N<128?a(N,function(x){return new l([x|0],x<0?-1:0)}):new l([N|0],N<0?-1:0)}function p(N){if(isNaN(N)||!isFinite(N))return y;if(N<0)return A(p(-N));const x=[];let b=1;for(let M=0;N>=b;M++)x[M]=N/b|0,b*=4294967296;return new l(x,0)}function g(N,x){if(N.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(N.charAt(0)=="-")return A(g(N.substring(1),x));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const b=p(Math.pow(x,8));let M=y;for(let L=0;L<N.length;L+=8){var O=Math.min(8,N.length-L);const D=parseInt(N.substring(L,L+O),x);O<8?(O=p(Math.pow(x,O)),M=M.j(O).add(p(D))):(M=M.j(b),M=M.add(p(D)))}return M}var y=d(0),w=d(1),I=d(16777216);n=l.prototype,n.m=function(){if(R(this))return-A(this).m();let N=0,x=1;for(let b=0;b<this.g.length;b++){const M=this.i(b);N+=(M>=0?M:4294967296+M)*x,x*=4294967296}return N},n.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(k(this))return"0";if(R(this))return"-"+A(this).toString(N);const x=p(Math.pow(N,6));var b=this;let M="";for(;;){const O=Q(b,x).g;b=$(b,O.j(x));let L=((b.g.length>0?b.g[0]:b.h)>>>0).toString(N);if(b=O,k(b))return L+M;for(;L.length<6;)L="0"+L;M=L+M}},n.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function k(N){if(N.h!=0)return!1;for(let x=0;x<N.g.length;x++)if(N.g[x]!=0)return!1;return!0}function R(N){return N.h==-1}n.l=function(N){return N=$(this,N),R(N)?-1:k(N)?0:1};function A(N){const x=N.g.length,b=[];for(let M=0;M<x;M++)b[M]=~N.g[M];return new l(b,~N.h).add(w)}n.abs=function(){return R(this)?A(this):this},n.add=function(N){const x=Math.max(this.g.length,N.g.length),b=[];let M=0;for(let O=0;O<=x;O++){let L=M+(this.i(O)&65535)+(N.i(O)&65535),D=(L>>>16)+(this.i(O)>>>16)+(N.i(O)>>>16);M=D>>>16,L&=65535,D&=65535,b[O]=D<<16|L}return new l(b,b[b.length-1]&-2147483648?-1:0)};function $(N,x){return N.add(A(x))}n.j=function(N){if(k(this)||k(N))return y;if(R(this))return R(N)?A(this).j(A(N)):A(A(this).j(N));if(R(N))return A(this.j(A(N)));if(this.l(I)<0&&N.l(I)<0)return p(this.m()*N.m());const x=this.g.length+N.g.length,b=[];for(var M=0;M<2*x;M++)b[M]=0;for(M=0;M<this.g.length;M++)for(let O=0;O<N.g.length;O++){const L=this.i(M)>>>16,D=this.i(M)&65535,ae=N.i(O)>>>16,se=N.i(O)&65535;b[2*M+2*O]+=D*se,U(b,2*M+2*O),b[2*M+2*O+1]+=L*se,U(b,2*M+2*O+1),b[2*M+2*O+1]+=D*ae,U(b,2*M+2*O+1),b[2*M+2*O+2]+=L*ae,U(b,2*M+2*O+2)}for(N=0;N<x;N++)b[N]=b[2*N+1]<<16|b[2*N];for(N=x;N<2*x;N++)b[N]=0;return new l(b,0)};function U(N,x){for(;(N[x]&65535)!=N[x];)N[x+1]+=N[x]>>>16,N[x]&=65535,x++}function B(N,x){this.g=N,this.h=x}function Q(N,x){if(k(x))throw Error("division by zero");if(k(N))return new B(y,y);if(R(N))return x=Q(A(N),x),new B(A(x.g),A(x.h));if(R(x))return x=Q(N,A(x)),new B(A(x.g),x.h);if(N.g.length>30){if(R(N)||R(x))throw Error("slowDivide_ only works with positive integers.");for(var b=w,M=x;M.l(N)<=0;)b=ee(b),M=ee(M);var O=ie(b,1),L=ie(M,1);for(M=ie(M,2),b=ie(b,2);!k(M);){var D=L.add(M);D.l(N)<=0&&(O=O.add(b),L=D),M=ie(M,1),b=ie(b,1)}return x=$(N,O.j(x)),new B(O,x)}for(O=y;N.l(x)>=0;){for(b=Math.max(1,Math.floor(N.m()/x.m())),M=Math.ceil(Math.log(b)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),L=p(b),D=L.j(x);R(D)||D.l(N)>0;)b-=M,L=p(b),D=L.j(x);k(L)&&(L=w),O=O.add(L),N=$(N,D)}return new B(O,N)}n.B=function(N){return Q(this,N).h},n.and=function(N){const x=Math.max(this.g.length,N.g.length),b=[];for(let M=0;M<x;M++)b[M]=this.i(M)&N.i(M);return new l(b,this.h&N.h)},n.or=function(N){const x=Math.max(this.g.length,N.g.length),b=[];for(let M=0;M<x;M++)b[M]=this.i(M)|N.i(M);return new l(b,this.h|N.h)},n.xor=function(N){const x=Math.max(this.g.length,N.g.length),b=[];for(let M=0;M<x;M++)b[M]=this.i(M)^N.i(M);return new l(b,this.h^N.h)};function ee(N){const x=N.g.length+1,b=[];for(let M=0;M<x;M++)b[M]=N.i(M)<<1|N.i(M-1)>>>31;return new l(b,N.h)}function ie(N,x){const b=x>>5;x%=32;const M=N.g.length-b,O=[];for(let L=0;L<M;L++)O[L]=x>0?N.i(L+b)>>>x|N.i(L+b+1)<<32-x:N.i(L+b);return new l(O,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,oC=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=g,hs=l}).apply(typeof BT<"u"?BT:typeof self<"u"?self:typeof window<"u"?window:{});var Ph=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var aC,fu,lC,Wh,hg,uC,cC,hC;(function(){var n,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ph=="object"&&Ph];for(var _=0;_<h.length;++_){var T=h[_];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=t(this);function s(h,_){if(_)e:{var T=r;h=h.split(".");for(var C=0;C<h.length-1;C++){var H=h[C];if(!(H in T))break e;T=T[H]}h=h[h.length-1],C=T[h],_=_(C),_!=C&&_!=null&&e(T,h,{configurable:!0,writable:!0,value:_})}}s("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(h){return h||function(_){var T=[],C;for(C in _)Object.prototype.hasOwnProperty.call(_,C)&&T.push([C,_[C]]);return T}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function c(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function d(h,_,T){return h.call.apply(h.bind,arguments)}function p(h,_,T){return p=d,p.apply(null,arguments)}function g(h,_){var T=Array.prototype.slice.call(arguments,1);return function(){var C=T.slice();return C.push.apply(C,arguments),h.apply(this,C)}}function y(h,_){function T(){}T.prototype=_.prototype,h.Z=_.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(C,H,K){for(var ue=Array(arguments.length-2),be=2;be<arguments.length;be++)ue[be-2]=arguments[be];return _.prototype[H].apply(C,ue)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function I(h){const _=h.length;if(_>0){const T=Array(_);for(let C=0;C<_;C++)T[C]=h[C];return T}return[]}function k(h,_){for(let C=1;C<arguments.length;C++){const H=arguments[C];var T=typeof H;if(T=T!="object"?T:H?Array.isArray(H)?"array":T:"null",T=="array"||T=="object"&&typeof H.length=="number"){T=h.length||0;const K=H.length||0;h.length=T+K;for(let ue=0;ue<K;ue++)h[T+ue]=H[ue]}else h.push(H)}}class R{constructor(_,T){this.i=_,this.j=T,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function A(h){l.setTimeout(()=>{throw h},0)}function $(){var h=N;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class U{constructor(){this.h=this.g=null}add(_,T){const C=B.get();C.set(_,T),this.h?this.h.next=C:this.g=C,this.h=C}}var B=new R(()=>new Q,h=>h.reset());class Q{constructor(){this.next=this.g=this.h=null}set(_,T){this.h=_,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,ie=!1,N=new U,x=()=>{const h=Promise.resolve(void 0);ee=()=>{h.then(b)}};function b(){for(var h;h=$();){try{h.h.call(h.g)}catch(T){A(T)}var _=B;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}ie=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};l.addEventListener("test",T,_),l.removeEventListener("test",T,_)}catch{}return h})();function D(h){return/^[\s\xa0]*$/.test(h)}function ae(h,_){O.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}y(ae,O),ae.prototype.init=function(h,_){const T=this.type=h.type,C=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(T=="mouseover"?_=h.fromElement:T=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&ae.Z.h.call(this)},ae.prototype.h=function(){ae.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var se="closure_listenable_"+(Math.random()*1e6|0),pe=0;function Ie(h,_,T,C,H){this.listener=h,this.proxy=null,this.src=_,this.type=T,this.capture=!!C,this.ha=H,this.key=++pe,this.da=this.fa=!1}function ne(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function le(h,_,T){for(const C in h)_.call(T,h[C],C,h)}function ce(h,_){for(const T in h)_.call(void 0,h[T],T,h)}function j(h){const _={};for(const T in h)_[T]=h[T];return _}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ge(h,_){let T,C;for(let H=1;H<arguments.length;H++){C=arguments[H];for(T in C)h[T]=C[T];for(let K=0;K<Y.length;K++)T=Y[K],Object.prototype.hasOwnProperty.call(C,T)&&(h[T]=C[T])}}function xe(h){this.src=h,this.g={},this.h=0}xe.prototype.add=function(h,_,T,C,H){const K=h.toString();h=this.g[K],h||(h=this.g[K]=[],this.h++);const ue=De(h,_,C,H);return ue>-1?(_=h[ue],T||(_.fa=!1)):(_=new Ie(_,this.src,K,!!C,H),_.fa=T,h.push(_)),_};function Ve(h,_){const T=_.type;if(T in h.g){var C=h.g[T],H=Array.prototype.indexOf.call(C,_,void 0),K;(K=H>=0)&&Array.prototype.splice.call(C,H,1),K&&(ne(_),h.g[T].length==0&&(delete h.g[T],h.h--))}}function De(h,_,T,C){for(let H=0;H<h.length;++H){const K=h[H];if(!K.da&&K.listener==_&&K.capture==!!T&&K.ha==C)return H}return-1}var $e="closure_lm_"+(Math.random()*1e6|0),Ue={};function qe(h,_,T,C,H){if(Array.isArray(_)){for(let K=0;K<_.length;K++)qe(h,_[K],T,C,H);return null}return T=ul(T),h&&h[se]?h.J(_,T,c(C)?!!C.capture:!1,H):It(h,_,T,!1,C,H)}function It(h,_,T,C,H,K){if(!_)throw Error("Invalid event type");const ue=c(H)?!!H.capture:!!H;let be=Mo(h);if(be||(h[$e]=be=new xe(h)),T=be.add(_,T,C,ue,K),T.proxy)return T;if(C=dn(),T.proxy=C,C.src=h,C.listener=T,h.addEventListener)L||(H=ue),H===void 0&&(H=!1),h.addEventListener(_.toString(),C,H);else if(h.attachEvent)h.attachEvent(Oo(_.toString()),C);else if(h.addListener&&h.removeListener)h.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return T}function dn(){function h(T){return _.call(h.src,h.listener,T)}const _=oc;return h}function Vo(h,_,T,C,H){if(Array.isArray(_))for(var K=0;K<_.length;K++)Vo(h,_[K],T,C,H);else C=c(C)?!!C.capture:!!C,T=ul(T),h&&h[se]?(h=h.i,K=String(_).toString(),K in h.g&&(_=h.g[K],T=De(_,T,C,H),T>-1&&(ne(_[T]),Array.prototype.splice.call(_,T,1),_.length==0&&(delete h.g[K],h.h--)))):h&&(h=Mo(h))&&(_=h.g[_.toString()],h=-1,_&&(h=De(_,T,C,H)),(T=h>-1?_[h]:null)&&Ti(T))}function Ti(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[se])Ve(_.i,h);else{var T=h.type,C=h.proxy;_.removeEventListener?_.removeEventListener(T,C,h.capture):_.detachEvent?_.detachEvent(Oo(T),C):_.addListener&&_.removeListener&&_.removeListener(C),(T=Mo(_))?(Ve(T,h),T.h==0&&(T.src=null,_[$e]=null)):ne(h)}}}function Oo(h){return h in Ue?Ue[h]:Ue[h]="on"+h}function oc(h,_){if(h.da)h=!0;else{_=new ae(_,this);const T=h.listener,C=h.ha||h.src;h.fa&&Ti(h),h=T.call(C,_)}return h}function Mo(h){return h=h[$e],h instanceof xe?h:null}var ks="__closure_events_fn_"+(Math.random()*1e9>>>0);function ul(h){return typeof h=="function"?h:(h[ks]||(h[ks]=function(_){return h.handleEvent(_)}),h[ks])}function St(){M.call(this),this.i=new xe(this),this.M=this,this.G=null}y(St,M),St.prototype[se]=!0,St.prototype.removeEventListener=function(h,_,T,C){Vo(this,h,_,T,C)};function yt(h,_){var T,C=h.G;if(C)for(T=[];C;C=C.G)T.push(C);if(h=h.M,C=_.type||_,typeof _=="string")_=new O(_,h);else if(_ instanceof O)_.target=_.target||h;else{var H=_;_=new O(C,h),ge(_,H)}H=!0;let K,ue;if(T)for(ue=T.length-1;ue>=0;ue--)K=_.g=T[ue],H=Qn(K,C,!0,_)&&H;if(K=_.g=h,H=Qn(K,C,!0,_)&&H,H=Qn(K,C,!1,_)&&H,T)for(ue=0;ue<T.length;ue++)K=_.g=T[ue],H=Qn(K,C,!1,_)&&H}St.prototype.N=function(){if(St.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const T=h.g[_];for(let C=0;C<T.length;C++)ne(T[C]);delete h.g[_],h.h--}}this.G=null},St.prototype.J=function(h,_,T,C){return this.i.add(String(h),_,!1,T,C)},St.prototype.K=function(h,_,T,C){return this.i.add(String(h),_,!0,T,C)};function Qn(h,_,T,C){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let H=!0;for(let K=0;K<_.length;++K){const ue=_[K];if(ue&&!ue.da&&ue.capture==T){const be=ue.listener,vt=ue.ha||ue.src;ue.fa&&Ve(h.i,ue),H=be.call(vt,C)!==!1&&H}}return H&&!C.defaultPrevented}function cl(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:l.setTimeout(h,_||0)}function hl(h){h.g=cl(()=>{h.g=null,h.i&&(h.i=!1,hl(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class ac extends M{constructor(_,T){super(),this.m=_,this.l=T,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:hl(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ei(h){M.call(this),this.h=h,this.g={}}y(Ei,M);var dl=[];function Lo(h){le(h.g,function(_,T){this.g.hasOwnProperty(T)&&Ti(_)},h),h.g={}}Ei.prototype.N=function(){Ei.Z.N.call(this),Lo(this)},Ei.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ii=l.JSON.stringify,lc=l.JSON.parse,Ns=class{stringify(h){return l.JSON.stringify(h,void 0)}parse(h){return l.JSON.parse(h,void 0)}};function Si(){}function uc(){}var Ci={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Fo(){O.call(this,"d")}y(Fo,O);function fl(){O.call(this,"c")}y(fl,O);var Yn={},jo=null;function Ai(){return jo=jo||new St}Yn.Ia="serverreachability";function Uo(h){O.call(this,Yn.Ia,h)}y(Uo,O);function zr(h){const _=Ai();yt(_,new Uo(_))}Yn.STAT_EVENT="statevent";function $r(h,_){O.call(this,Yn.STAT_EVENT,h),this.stat=_}y($r,O);function mt(h){const _=Ai();yt(_,new $r(_,h))}Yn.Ja="timingevent";function pl(h,_){O.call(this,Yn.Ja,h),this.size=_}y(pl,O);function xi(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){h()},_)}function Pi(){this.g=!0}Pi.prototype.ua=function(){this.g=!1};function cc(h,_,T,C,H,K){h.info(function(){if(h.g)if(K){var ue="",be=K.split("&");for(let Qe=0;Qe<be.length;Qe++){var vt=be[Qe].split("=");if(vt.length>1){const Ct=vt[0];vt=vt[1];const Rn=Ct.split("_");ue=Rn.length>=2&&Rn[1]=="type"?ue+(Ct+"="+vt+"&"):ue+(Ct+"=redacted&")}}}else ue=null;else ue=K;return"XMLHTTP REQ ("+C+") [attempt "+H+"]: "+_+`
`+T+`
`+ue})}function hc(h,_,T,C,H,K,ue){h.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+H+"]: "+_+`
`+T+`
`+K+" "+ue})}function fr(h,_,T,C){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+Ds(h,T)+(C?" "+C:"")})}function dc(h,_){h.info(function(){return"TIMEOUT: "+_})}Pi.prototype.info=function(){};function Ds(h,_){if(!h.g)return _;if(!_)return null;try{const K=JSON.parse(_);if(K){for(h=0;h<K.length;h++)if(Array.isArray(K[h])){var T=K[h];if(!(T.length<2)){var C=T[1];if(Array.isArray(C)&&!(C.length<1)){var H=C[0];if(H!="noop"&&H!="stop"&&H!="close")for(let ue=1;ue<C.length;ue++)C[ue]=""}}}}return Ii(K)}catch{return _}}var Ri={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},bi={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},fc;function Wr(){}y(Wr,Si),Wr.prototype.g=function(){return new XMLHttpRequest},fc=new Wr;function pr(h){return encodeURIComponent(String(h))}function Bo(h){var _=1;h=h.split(":");const T=[];for(;_>0&&h.length;)T.push(h.shift()),_--;return h.length&&T.push(h.join(":")),T}function Mn(h,_,T,C){this.j=h,this.i=_,this.l=T,this.S=C||1,this.V=new Ei(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new pc}function pc(){this.i=null,this.g="",this.h=!1}var mc={},ml={};function Xn(h,_,T){h.M=1,h.A=qr(Ln(_)),h.u=T,h.R=!0,gl(h,null)}function gl(h,_){h.F=Date.now(),Vs(h),h.B=Ln(h.A);var T=h.B,C=h.S;Array.isArray(C)||(C=[String(C)]),Al(T.i,"t",C),h.C=0,T=h.j.L,h.h=new pc,h.g=Cc(h.j,T?_:null,!h.u),h.P>0&&(h.O=new ac(p(h.Y,h,h.g),h.P)),_=h.V,T=h.g,C=h.ba;var H="readystatechange";Array.isArray(H)||(H&&(dl[0]=H.toString()),H=dl);for(let K=0;K<H.length;K++){const ue=qe(T,H[K],C||_.handleEvent,!1,_.h||_);if(!ue)break;_.g[ue.key]=ue}_=h.J?j(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),zr(),cc(h.i,h.v,h.B,h.l,h.S,h.u)}Mn.prototype.ba=function(h){h=h.target;const _=this.O;_&&Tr(h)==3?_.j():this.Y(h)},Mn.prototype.Y=function(h){try{if(h==this.g)e:{const be=Tr(this.g),vt=this.g.ya(),Qe=this.g.ca();if(!(be<3)&&(be!=3||this.g&&(this.h.h||this.g.la()||Ic(this.g)))){this.K||be!=4||vt==7||(vt==8||Qe<=0?zr(3):zr(2)),zo(this);var _=this.g.ca();this.X=_;var T=gc(this);if(this.o=_==200,hc(this.i,this.v,this.B,this.l,this.S,be,_),this.o){if(this.U&&!this.L){t:{if(this.g){var C,H=this.g;if((C=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(C)){var K=C;break t}}K=null}if(h=K)fr(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,tt(this,h);else{this.o=!1,this.m=3,mt(12),Hr(this),Os(this);break e}}if(this.R){h=!0;let Ct;for(;!this.K&&this.C<T.length;)if(Ct=vc(this,T),Ct==ml){be==4&&(this.m=4,mt(14),h=!1),fr(this.i,this.l,null,"[Incomplete Response]");break}else if(Ct==mc){this.m=4,mt(15),fr(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else fr(this.i,this.l,Ct,null),tt(this,Ct);if(yc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),be!=4||T.length!=0||this.h.h||(this.m=1,mt(16),h=!1),this.o=this.o&&h,!h)fr(this.i,this.l,T,"[Invalid Chunked Response]"),Hr(this),Os(this);else if(T.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Ws(ue),ue.P=!0,mt(11))}}else fr(this.i,this.l,T,null),tt(this,T);be==4&&Hr(this),this.o&&!this.K&&(be==4?Jo(this.j,this):(this.o=!1,Vs(this)))}else Pl(this.g),_==400&&T.indexOf("Unknown SID")>0?(this.m=3,mt(12)):(this.m=0,mt(13)),Hr(this),Os(this)}}}catch{}finally{}};function gc(h){if(!yc(h))return h.g.la();const _=Ic(h.g);if(_==="")return"";let T="";const C=_.length,H=Tr(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Hr(h),Os(h),"";h.h.i=new l.TextDecoder}for(let K=0;K<C;K++)h.h.h=!0,T+=h.h.i.decode(_[K],{stream:!(H&&K==C-1)});return _.length=0,h.h.g+=T,h.C=0,h.h.g}function yc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function vc(h,_){var T=h.C,C=_.indexOf(`
`,T);return C==-1?ml:(T=Number(_.substring(T,C)),isNaN(T)?mc:(C+=1,C+T>_.length?ml:(_=_.slice(C,C+T),h.C=C+T,_)))}Mn.prototype.cancel=function(){this.K=!0,Hr(this)};function Vs(h){h.T=Date.now()+h.H,yl(h,h.H)}function yl(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=xi(p(h.aa,h),_)}function zo(h){h.D&&(l.clearTimeout(h.D),h.D=null)}Mn.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(dc(this.i,this.B),this.M!=2&&(zr(),mt(17)),Hr(this),this.m=2,Os(this)):yl(this,this.T-h)};function Os(h){h.j.I==0||h.K||Jo(h.j,h)}function Hr(h){zo(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,Lo(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function tt(h,_){try{var T=h.j;if(T.I!=0&&(T.g==h||_l(T.h,h))){if(!h.L&&_l(T.h,h)&&T.I==3){try{var C=T.Ba.g.parse(_)}catch{C=null}if(Array.isArray(C)&&C.length==3){var H=C;if(H[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)Xo(T),xn(T);else break e;Sr(T),mt(18)}}else T.xa=H[1],0<T.xa-T.K&&H[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=xi(p(T.Va,T),6e3));Ms(T.h)<=1&&T.ta&&(T.ta=void 0)}else Pn(T,11)}else if((h.L||T.g==h)&&Xo(T),!D(_))for(H=T.Ba.g.parse(_),_=0;_<H.length;_++){let Qe=H[_];const Ct=Qe[0];if(!(Ct<=T.K))if(T.K=Ct,Qe=Qe[1],T.I==2)if(Qe[0]=="c"){T.M=Qe[1],T.ba=Qe[2];const Rn=Qe[3];Rn!=null&&(T.ka=Rn,T.j.info("VER="+T.ka));const Xr=Qe[4];Xr!=null&&(T.za=Xr,T.j.info("SVER="+T.za));const Cr=Qe[5];Cr!=null&&typeof Cr=="number"&&Cr>0&&(C=1.5*Cr,T.O=C,T.j.info("backChannelRequestTimeoutMs_="+C)),C=T;const Ar=h.g;if(Ar){const ta=Ar.g?Ar.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ta){var K=C.h;K.g||ta.indexOf("spdy")==-1&&ta.indexOf("quic")==-1&&ta.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Wo(K,K.h),K.h=null))}if(C.G){const kl=Ar.g?Ar.g.getResponseHeader("X-HTTP-Session-Id"):null;kl&&(C.wa=kl,Ge(C.J,C.G,kl))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),C=T;var ue=h;if(C.na=bl(C,C.L?C.ba:null,C.W),ue.L){Ls(C.h,ue);var be=ue,vt=C.O;vt&&(be.H=vt),be.D&&(zo(be),Vs(be)),C.g=ue}else Qt(C);T.i.length>0&&Yr(T)}else Qe[0]!="stop"&&Qe[0]!="close"||Pn(T,7);else T.I==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?Pn(T,7):Qo(T):Qe[0]!="noop"&&T.l&&T.l.qa(Qe),T.A=0)}}zr(4)}catch{}}var pf=class{constructor(h,_){this.g=h,this.map=_}};function $o(h){this.l=h||10,l.PerformanceNavigationTiming?(h=l.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function vl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ms(h){return h.h?1:h.g?h.g.size:0}function _l(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function Wo(h,_){h.g?h.g.add(_):h.h=_}function Ls(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}$o.prototype.cancel=function(){if(this.i=Sn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Sn(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const T of h.g.values())_=_.concat(T.G);return _}return I(h.i)}var _c=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Cn(h,_){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const C=h[T].indexOf("=");let H,K=null;C>=0?(H=h[T].substring(0,C),K=h[T].substring(C+1)):H=h[T],_(H,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function mr(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof mr?(this.l=h.l,Fs(this,h.j),this.o=h.o,this.g=h.g,gr(this,h.u),this.h=h.h,ki(this,xl(h.i)),this.m=h.m):h&&(_=String(h).match(_c))?(this.l=!1,Fs(this,_[1]||"",!0),this.o=js(_[2]||""),this.g=js(_[3]||"",!0),gr(this,_[4]),this.h=js(_[5]||"",!0),ki(this,_[6]||"",!0),this.m=js(_[7]||"")):(this.l=!1,this.i=new Be(null,this.l))}mr.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(Us(_,Tl,!0),":");var T=this.g;return(T||_=="file")&&(h.push("//"),(_=this.o)&&h.push(Us(_,Tl,!0),"@"),h.push(pr(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(Us(T,T.charAt(0)=="/"?Bs:El,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",Us(T,Il)),h.join("")},mr.prototype.resolve=function(h){const _=Ln(this);let T=!!h.j;T?Fs(_,h.j):T=!!h.o,T?_.o=h.o:T=!!h.g,T?_.g=h.g:T=h.u!=null;var C=h.h;if(T)gr(_,h.u);else if(T=!!h.h){if(C.charAt(0)!="/")if(this.g&&!this.h)C="/"+C;else{var H=_.h.lastIndexOf("/");H!=-1&&(C=_.h.slice(0,H+1)+C)}if(H=C,H==".."||H==".")C="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){C=H.lastIndexOf("/",0)==0,H=H.split("/");const K=[];for(let ue=0;ue<H.length;){const be=H[ue++];be=="."?C&&ue==H.length&&K.push(""):be==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),C&&ue==H.length&&K.push("")):(K.push(be),C=!0)}C=K.join("/")}else C=H}return T?_.h=C:T=h.i.toString()!=="",T?ki(_,xl(h.i)):T=!!h.m,T&&(_.m=h.m),_};function Ln(h){return new mr(h)}function Fs(h,_,T){h.j=T?js(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function gr(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function ki(h,_,T){_ instanceof Be?(h.i=_,qo(h.i,h.l)):(T||(_=Us(_,mf)),h.i=new Be(_,h.l))}function Ge(h,_,T){h.i.set(_,T)}function qr(h){return Ge(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function js(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Us(h,_,T){return typeof h=="string"?(h=encodeURI(h).replace(_,wl),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function wl(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Tl=/[#\/\?@]/g,El=/[#\?:]/g,Bs=/[#\?]/g,mf=/[#\?@]/g,Il=/#/g;function Be(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function yr(h){h.g||(h.g=new Map,h.h=0,h.i&&Cn(h.i,function(_,T){h.add(decodeURIComponent(_.replace(/\+/g," ")),T)}))}n=Be.prototype,n.add=function(h,_){yr(this),this.i=null,h=vr(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(_),this.h+=1,this};function Sl(h,_){yr(h),_=vr(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function Ho(h,_){return yr(h),_=vr(h,_),h.g.has(_)}n.forEach=function(h,_){yr(this),this.g.forEach(function(T,C){T.forEach(function(H){h.call(_,H,C,this)},this)},this)};function Cl(h,_){yr(h);let T=[];if(typeof _=="string")Ho(h,_)&&(T=T.concat(h.g.get(vr(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)T=T.concat(h[_]);return T}n.set=function(h,_){return yr(this),this.i=null,h=vr(this,h),Ho(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},n.get=function(h,_){return h?(h=Cl(this,h),h.length>0?String(h[0]):_):_};function Al(h,_,T){Sl(h,_),T.length>0&&(h.i=null,h.g.set(vr(h,_),I(T)),h.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let C=0;C<_.length;C++){var T=_[C];const H=pr(T);T=Cl(this,T);for(let K=0;K<T.length;K++){let ue=H;T[K]!==""&&(ue+="="+pr(T[K])),h.push(ue)}}return this.i=h.join("&")};function xl(h){const _=new Be;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function vr(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function qo(h,_){_&&!h.j&&(yr(h),h.i=null,h.g.forEach(function(T,C){const H=C.toLowerCase();C!=H&&(Sl(this,C),Al(this,H,T))},h)),h.j=_}function _r(h,_){const T=new Pi;if(l.Image){const C=new Image;C.onload=g(Bt,T,"TestLoadImage: loaded",!0,_,C),C.onerror=g(Bt,T,"TestLoadImage: error",!1,_,C),C.onabort=g(Bt,T,"TestLoadImage: abort",!1,_,C),C.ontimeout=g(Bt,T,"TestLoadImage: timeout",!1,_,C),l.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=h}else _(!1)}function wr(h,_){const T=new Pi,C=new AbortController,H=setTimeout(()=>{C.abort(),Bt(T,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:C.signal}).then(K=>{clearTimeout(H),K.ok?Bt(T,"TestPingServer: ok",!0,_):Bt(T,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(H),Bt(T,"TestPingServer: error",!1,_)})}function Bt(h,_,T,C,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),C(T)}catch{}}function zs(){this.g=new Ns}function Gr(h){this.i=h.Sb||null,this.h=h.ab||!1}y(Gr,Si),Gr.prototype.g=function(){return new An(this.i,this.h)};function An(h,_){St.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}y(An,St),n=An.prototype,n.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,Jn(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||l).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ni(this)),this.readyState=0},n.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Jn(this)),this.g&&(this.readyState=3,Jn(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;wc(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function wc(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}n.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?Ni(this):Jn(this),this.readyState==3&&wc(this)}},n.Oa=function(h){this.g&&(this.response=this.responseText=h,Ni(this))},n.Na=function(h){this.g&&(this.response=h,Ni(this))},n.ga=function(){this.g&&Ni(this)};function Ni(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Jn(h)}n.setRequestHeader=function(h,_){this.A.append(h,_)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var T=_.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=_.next();return h.join(`\r
`)};function Jn(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(An.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Tc(h){let _="";return le(h,function(T,C){_+=C,_+=":",_+=T,_+=`\r
`}),_}function Go(h,_,T){e:{for(C in T){var C=!1;break e}C=!0}C||(T=Tc(T),typeof h=="string"?T!=null&&pr(T):Ge(h,_,T))}function Ye(h){St.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}y(Ye,St);var Ec=/^https?$/i,gf=["POST","PUT"];n=Ye.prototype,n.Fa=function(h){this.H=h},n.ea=function(h,_,T,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():fc.g(),this.g.onreadystatechange=w(p(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(K){Di(this,K);return}if(h=T||"",T=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var H in C)T.set(H,C[H]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const K of C.keys())T.set(K,C.get(K));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(T.keys()).find(K=>K.toLowerCase()=="content-type"),H=l.FormData&&h instanceof l.FormData,!(Array.prototype.indexOf.call(gf,_,void 0)>=0)||C||H||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ue]of T)this.g.setRequestHeader(K,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(K){Di(this,K)}};function Di(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,Vi(h),Qr(h)}function Vi(h){h.A||(h.A=!0,yt(h,"complete"),yt(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,yt(this,"complete"),yt(this,"abort"),Qr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qr(this,!0)),Ye.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Kr(this):this.Xa())},n.Xa=function(){Kr(this)};function Kr(h){if(h.h&&typeof a<"u"){if(h.v&&Tr(h)==4)setTimeout(h.Ca.bind(h),0);else if(yt(h,"readystatechange"),Tr(h)==4){h.h=!1;try{const K=h.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var T;if(!(T=_)){var C;if(C=K===0){let ue=String(h.D).match(_c)[1]||null;!ue&&l.self&&l.self.location&&(ue=l.self.location.protocol.slice(0,-1)),C=!Ec.test(ue?ue.toLowerCase():"")}T=C}if(T)yt(h,"complete"),yt(h,"success");else{h.o=6;try{var H=Tr(h)>2?h.g.statusText:""}catch{H=""}h.l=H+" ["+h.ca()+"]",Vi(h)}}finally{Qr(h)}}}}function Qr(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,_||yt(h,"ready");try{T.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Tr(h){return h.g?h.g.readyState:0}n.ca=function(){try{return Tr(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),lc(_)}};function Ic(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Pl(h){const _={};h=(h.g&&Tr(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<h.length;C++){if(D(h[C]))continue;var T=Bo(h[C]);const H=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const K=_[H]||[];_[H]=K,K.push(T)}ce(_,function(C){return C.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Er(h,_,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||_}function Ko(h){this.za=0,this.i=[],this.j=new Pi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Er("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Er("baseRetryDelayMs",5e3,h),this.Za=Er("retryDelaySeedMs",1e4,h),this.Ta=Er("forwardChannelMaxRetries",2,h),this.va=Er("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new $o(h&&h.concurrentRequestLimit),this.Ba=new zs,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Ko.prototype,n.ka=8,n.I=1,n.connect=function(h,_,T,C){mt(0),this.W=h,this.H=_||{},T&&C!==void 0&&(this.H.OSID=T,this.H.OAID=C),this.F=this.X,this.J=bl(this,null,this.W),Yr(this)};function Qo(h){if(Yo(h),h.I==3){var _=h.V++,T=Ln(h.J);if(Ge(T,"SID",h.M),Ge(T,"RID",_),Ge(T,"TYPE","terminate"),Ir(h,T),_=new Mn(h,h.j,_),_.M=2,_.A=qr(Ln(T)),T=!1,l.navigator&&l.navigator.sendBeacon)try{T=l.navigator.sendBeacon(_.A.toString(),"")}catch{}!T&&l.Image&&(new Image().src=_.A,T=!0),T||(_.g=Cc(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Vs(_)}Hs(h)}function xn(h){h.g&&(Ws(h),h.g.cancel(),h.g=null)}function Yo(h){xn(h),h.v&&(l.clearTimeout(h.v),h.v=null),Xo(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&l.clearTimeout(h.m),h.m=null)}function Yr(h){if(!vl(h.h)&&!h.m){h.m=!0;var _=h.Ea;ee||x(),ie||(ee(),ie=!0),N.add(_,h),h.D=0}}function Sc(h,_){return Ms(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=xi(p(h.Ea,h,_),Zo(h,h.D)),h.D++,!0)}n.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const H=new Mn(this,this.j,h);let K=this.o;if(this.U&&(K?(K=j(K),ge(K,this.U)):K=this.U),this.u!==null||this.R||(H.J=K,K=null),this.S)e:{for(var _=0,T=0;T<this.i.length;T++){t:{var C=this.i[T];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(_+=C,_>4096){_=T;break e}if(_===4096||T===this.i.length-1){_=T+1;break e}}_=1e3}else _=1e3;_=Rl(this,H,_),T=Ln(this.J),Ge(T,"RID",h),Ge(T,"CVER",22),this.G&&Ge(T,"X-HTTP-Session-Id",this.G),Ir(this,T),K&&(this.R?_="headers="+pr(Tc(K))+"&"+_:this.u&&Go(T,this.u,K)),Wo(this.h,H),this.Ra&&Ge(T,"TYPE","init"),this.S?(Ge(T,"$req",_),Ge(T,"SID","null"),H.U=!0,Xn(H,T,null)):Xn(H,T,_),this.I=2}}else this.I==3&&(h?$s(this,h):this.i.length==0||vl(this.h)||$s(this))};function $s(h,_){var T;_?T=_.l:T=h.V++;const C=Ln(h.J);Ge(C,"SID",h.M),Ge(C,"RID",T),Ge(C,"AID",h.K),Ir(h,C),h.u&&h.o&&Go(C,h.u,h.o),T=new Mn(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),_&&(h.i=_.G.concat(h.i)),_=Rl(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Wo(h.h,T),Xn(T,C,_)}function Ir(h,_){h.H&&le(h.H,function(T,C){Ge(_,C,T)}),h.l&&le({},function(T,C){Ge(_,C,T)})}function Rl(h,_,T){T=Math.min(h.i.length,T);const C=h.l?p(h.l.Ka,h.l,h):null;e:{var H=h.i;let be=-1;for(;;){const vt=["count="+T];be==-1?T>0?(be=H[0].g,vt.push("ofs="+be)):be=0:vt.push("ofs="+be);let Qe=!0;for(let Ct=0;Ct<T;Ct++){var K=H[Ct].g;const Rn=H[Ct].map;if(K-=be,K<0)be=Math.max(0,H[Ct].g-100),Qe=!1;else try{K="req"+K+"_"||"";try{var ue=Rn instanceof Map?Rn:Object.entries(Rn);for(const[Xr,Cr]of ue){let Ar=Cr;c(Cr)&&(Ar=Ii(Cr)),vt.push(K+Xr+"="+encodeURIComponent(Ar))}}catch(Xr){throw vt.push(K+"type="+encodeURIComponent("_badmap")),Xr}}catch{C&&C(Rn)}}if(Qe){ue=vt.join("&");break e}}ue=void 0}return h=h.i.splice(0,T),_.G=h,ue}function Qt(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;ee||x(),ie||(ee(),ie=!0),N.add(_,h),h.A=0}}function Sr(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=xi(p(h.Da,h),Zo(h,h.A)),h.A++,!0)}n.Da=function(){if(this.v=null,Oi(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=xi(p(this.Wa,this),h)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,mt(10),xn(this),Oi(this))};function Ws(h){h.B!=null&&(l.clearTimeout(h.B),h.B=null)}function Oi(h){h.g=new Mn(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=Ln(h.na);Ge(_,"RID","rpc"),Ge(_,"SID",h.M),Ge(_,"AID",h.K),Ge(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&Ge(_,"TO",h.ia),Ge(_,"TYPE","xmlhttp"),Ir(h,_),h.u&&h.o&&Go(_,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=qr(Ln(_)),T.u=null,T.R=!0,gl(T,h)}n.Va=function(){this.C!=null&&(this.C=null,xn(this),Sr(this),mt(19))};function Xo(h){h.C!=null&&(l.clearTimeout(h.C),h.C=null)}function Jo(h,_){var T=null;if(h.g==_){Xo(h),Ws(h),h.g=null;var C=2}else if(_l(h.h,_))T=_.G,Ls(h.h,_),C=1;else return;if(h.I!=0){if(_.o)if(C==1){T=_.u?_.u.length:0,_=Date.now()-_.F;var H=h.D;C=Ai(),yt(C,new pl(C,T)),Yr(h)}else Qt(h);else if(H=_.m,H==3||H==0&&_.X>0||!(C==1&&Sc(h,_)||C==2&&Sr(h)))switch(T&&T.length>0&&(_=h.h,_.i=_.i.concat(T)),H){case 1:Pn(h,5);break;case 4:Pn(h,10);break;case 3:Pn(h,6);break;default:Pn(h,2)}}}function Zo(h,_){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*_}function Pn(h,_){if(h.j.info("Error code "+_),_==2){var T=p(h.bb,h),C=h.Ua;const H=!C;C=new mr(C||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Fs(C,"https"),qr(C),H?_r(C.toString(),T):wr(C.toString(),T)}else mt(2);h.I=0,h.l&&h.l.pa(_),Hs(h),Yo(h)}n.bb=function(h){h?(this.j.info("Successfully pinged google.com"),mt(2)):(this.j.info("Failed to ping google.com"),mt(1))};function Hs(h){if(h.I=0,h.ja=[],h.l){const _=Sn(h.h);(_.length!=0||h.i.length!=0)&&(k(h.ja,_),k(h.ja,h.i),h.h.i.length=0,I(h.i),h.i.length=0),h.l.oa()}}function bl(h,_,T){var C=T instanceof mr?Ln(T):new mr(T);if(C.g!="")_&&(C.g=_+"."+C.g),gr(C,C.u);else{var H=l.location;C=H.protocol,_=_?_+"."+H.hostname:H.hostname,H=+H.port;const K=new mr(null);C&&Fs(K,C),_&&(K.g=_),H&&gr(K,H),T&&(K.h=T),C=K}return T=h.G,_=h.wa,T&&_&&Ge(C,T,_),Ge(C,"VER",h.ka),Ir(h,C),C}function Cc(h,_,T){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new Ye(new Gr({ab:T})):new Ye(h.ma),_.Fa(h.L),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ac(){}n=Ac.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function ea(){}ea.prototype.g=function(h,_){return new zt(h,_)};function zt(h,_){St.call(this),this.g=new Ko(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!D(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!D(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new Mi(this)}y(zt,St),zt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},zt.prototype.close=function(){Qo(this.g)},zt.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=Ii(h),h=T);_.i.push(new pf(_.Ya++,h)),_.I==3&&Yr(_)},zt.prototype.N=function(){this.g.l=null,delete this.j,Qo(this.g),delete this.g,zt.Z.N.call(this)};function xc(h){Fo.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const T in _){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}y(xc,Fo);function Pc(){fl.call(this),this.status=1}y(Pc,fl);function Mi(h){this.g=h}y(Mi,Ac),Mi.prototype.ra=function(){yt(this.g,"a")},Mi.prototype.qa=function(h){yt(this.g,new xc(h))},Mi.prototype.pa=function(h){yt(this.g,new Pc)},Mi.prototype.oa=function(){yt(this.g,"b")},ea.prototype.createWebChannel=ea.prototype.g,zt.prototype.send=zt.prototype.o,zt.prototype.open=zt.prototype.m,zt.prototype.close=zt.prototype.close,hC=function(){return new ea},cC=function(){return Ai()},uC=Yn,hg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ri.NO_ERROR=0,Ri.TIMEOUT=8,Ri.HTTP_ERROR=6,Wh=Ri,bi.COMPLETE="complete",lC=bi,uc.EventType=Ci,Ci.OPEN="a",Ci.CLOSE="b",Ci.ERROR="c",Ci.MESSAGE="d",St.prototype.listen=St.prototype.J,fu=uc,Ye.prototype.listenOnce=Ye.prototype.K,Ye.prototype.getLastError=Ye.prototype.Ha,Ye.prototype.getLastErrorCode=Ye.prototype.ya,Ye.prototype.getStatus=Ye.prototype.ca,Ye.prototype.getResponseJson=Ye.prototype.La,Ye.prototype.getResponseText=Ye.prototype.la,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Fa,aC=Ye}).apply(typeof Ph<"u"?Ph:typeof self<"u"?self:typeof window<"u"?window:{});const zT="@firebase/firestore",$T="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let il="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To=new $d("@firebase/firestore");function Ia(){return To.logLevel}function fe(n,...e){if(To.logLevel<=Le.DEBUG){const t=e.map(Cy);To.debug(`Firestore (${il}): ${n}`,...t)}}function _i(n,...e){if(To.logLevel<=Le.ERROR){const t=e.map(Cy);To.error(`Firestore (${il}): ${n}`,...t)}}function qa(n,...e){if(To.logLevel<=Le.WARN){const t=e.map(Cy);To.warn(`Firestore (${il}): ${n}`,...t)}}function Cy(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,dC(n,r,t)}function dC(n,e,t){let r=`FIRESTORE (${il}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw _i(r),new Error(r)}function Ke(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||dC(e,s,r)}function ke(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends dr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class aj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(nn.UNAUTHENTICATED)))}shutdown(){}}class lj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class uj{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ke(this.o===void 0,42304);let r=this.i;const s=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let a=new ds;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ds,e.enqueueRetryable((()=>s(this.currentUser)))};const l=()=>{const d=a;e.enqueueRetryable((async()=>{await d.promise,await s(this.currentUser)}))},c=d=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((d=>c(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ds)}}),0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ke(typeof r.accessToken=="string",31837,{l:r}),new fC(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new nn(e)}}class cj{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class hj{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new cj(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class WT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dj{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,qn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ke(this.o===void 0,3512);const r=a=>{a.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,fe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const s=a=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>s(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new WT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ke(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new WT(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fj(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=fj(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<t&&(r+=e.charAt(s[a]%62))}return r}}function Fe(n,e){return n<e?-1:n>e?1:0}function dg(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const s=n.charAt(r),a=e.charAt(r);if(s!==a)return Tm(s)===Tm(a)?Fe(s,a):Tm(s)?1:-1}return Fe(n.length,e.length)}const pj=55296,mj=57343;function Tm(n){const e=n.charCodeAt(0);return e>=pj&&e<=mj}function Ga(n,e,t){return n.length===e.length&&n.every(((r,s)=>t(r,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="__name__";class Nr{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ae(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ae(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Nr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Nr?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const a=Nr.compareSegments(e.get(s),t.get(s));if(a!==0)return a}return Fe(e.length,t.length)}static compareSegments(e,t){const r=Nr.isNumericId(e),s=Nr.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?Nr.extractNumericId(e).compare(Nr.extractNumericId(t)):dg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return hs.fromString(e.substring(4,e.length-2))}}class Ze extends Nr{construct(e,t,r){return new Ze(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new de(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((s=>s.length>0)))}return new Ze(t)}static emptyPath(){return new Ze([])}}const gj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qt extends Nr{construct(e,t,r){return new qt(e,t,r)}static isValidIdentifier(e){return gj.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===HT}static keyField(){return new qt([HT])}static fromServerFormat(e){const t=[];let r="",s=0;const a=()=>{if(r.length===0)throw new de(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new de(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new de(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(r+=c,s++):(a(),s++)}if(a(),l)throw new de(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qt(t)}static emptyPath(){return new qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(Ze.fromString(e))}static fromName(e){return new we(Ze.fromString(e).popFirst(5))}static empty(){return new we(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ze.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new Ze(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(n,e,t){if(!t)throw new de(X.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function yj(n,e,t,r){if(e===!0&&r===!0)throw new de(X.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function qT(n){if(!we.isDocumentKey(n))throw new de(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function GT(n){if(we.isDocumentKey(n))throw new de(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function mC(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Qd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ae(12329,{type:typeof n})}function Eo(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new de(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Qd(n);throw new de(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(n,e){const t={typeString:n};return e&&(t.value=e),t}function Xu(n,e){if(!mC(n))throw new de(X.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const s=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const l=n[r];if(s&&typeof l!==s){t=`JSON field '${r}' must be a ${s}.`;break}if(a!==void 0&&l!==a.value){t=`Expected '${r}' field to equal '${a.value}'`;break}}if(t)throw new de(X.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT=-62135596800,QT=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*QT);return new st(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new de(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new de(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<KT)throw new de(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/QT}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:st._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Xu(e,st._jsonSchema))return new st(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-KT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}st._jsonSchemaVersion="firestore/timestamp/1.0",st._jsonSchema={type:kt("string",st._jsonSchemaVersion),seconds:kt("number"),nanoseconds:kt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new st(0,0))}static max(){return new Re(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ou=-1;function vj(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Re.fromTimestamp(r===1e9?new st(t+1,0):new st(t,r));return new vs(s,we.empty(),e)}function _j(n){return new vs(n.readTime,n.key,Ou)}class vs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new vs(Re.min(),we.empty(),Ou)}static max(){return new vs(Re.max(),we.empty(),Ou)}}function wj(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=we.comparator(n.documentKey,e.documentKey),t!==0?t:Fe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ej{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sl(n){if(n.code!==X.FAILED_PRECONDITION||n.message!==Tj)throw n;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new J(((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof J?t:J.resolve(t)}catch(t){return J.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):J.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):J.reject(t)}static resolve(e){return new J(((t,r)=>{t(e)}))}static reject(e){return new J(((t,r)=>{r(e)}))}static waitFor(e){return new J(((t,r)=>{let s=0,a=0,l=!1;e.forEach((c=>{++s,c.next((()=>{++a,l&&a===s&&t()}),(d=>r(d)))})),l=!0,a===s&&t()}))}static or(e){let t=J.resolve(!1);for(const r of e)t=t.next((s=>s?J.resolve(s):r()));return t}static forEach(e,t){const r=[];return e.forEach(((s,a)=>{r.push(t.call(this,s,a))})),this.waitFor(r)}static mapArray(e,t){return new J(((r,s)=>{const a=e.length,l=new Array(a);let c=0;for(let d=0;d<a;d++){const p=d;t(e[p]).next((g=>{l[p]=g,++c,c===a&&r(l)}),(g=>s(g)))}}))}static doWhile(e,t){return new J(((r,s)=>{const a=()=>{e()===!0?t().next((()=>{a()}),s):r()};a()}))}}function Ij(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ol(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Yd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xy=-1;function Xd(n){return n==null}function vd(n){return n===0&&1/n==-1/0}function Sj(n){return typeof n=="number"&&Number.isInteger(n)&&!vd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC="";function Cj(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=YT(e)),e=Aj(n.get(t),e);return YT(e)}function Aj(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const a=n.charAt(s);switch(a){case"\0":t+="";break;case gC:t+="";break;default:t+=a}}return t}function YT(n){return n+gC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Rs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function yC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,t){this.comparator=e,this.root=t||Ht.EMPTY}insert(e,t){return new pt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ht.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ht.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rh(this.root,e,this.comparator,!0)}}class Rh{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ht{constructor(e,t,r,s,a){this.key=e,this.value=t,this.color=r??Ht.RED,this.left=s??Ht.EMPTY,this.right=a??Ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,a){return new Ht(e??this.key,t??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,t,r),null):a===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Ht.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}Ht.EMPTY=null,Ht.RED=!0,Ht.BLACK=!1;Ht.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,t,r,s,a){return this}insert(e,t,r){return new Ht(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new JT(this.data.getIterator())}getIteratorFrom(e){return new JT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Mt(this.comparator);return t.data=e,t}}class JT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.fields=e,e.sort(qt.comparator)}static empty(){return new Dn([])}unionWith(e){let t=new Mt(qt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Dn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ga(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new vC("Invalid base64 string: "+a):a}})(e);return new Kt(t)}static fromUint8Array(e){const t=(function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a})(e);return new Kt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const xj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _s(n){if(Ke(!!n,39018),typeof n=="string"){let e=0;const t=xj.exec(n);if(Ke(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wt(n.seconds),nanos:wt(n.nanos)}}function wt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ws(n){return typeof n=="string"?Kt.fromBase64String(n):Kt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C="server_timestamp",wC="__type__",TC="__previous_value__",EC="__local_write_time__";function Py(n){return(n?.mapValue?.fields||{})[wC]?.stringValue===_C}function Jd(n){const e=n.mapValue.fields[TC];return Py(e)?Jd(e):e}function Mu(n){const e=_s(n.mapValue.fields[EC].timestampValue);return new st(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{constructor(e,t,r,s,a,l,c,d,p,g){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=p,this.isUsingEmulator=g}}const _d="(default)";class Lu{constructor(e,t){this.projectId=e,this.database=t||_d}static empty(){return new Lu("","")}get isDefaultDatabase(){return this.database===_d}isEqual(e){return e instanceof Lu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC="__type__",Rj="__max__",bh={mapValue:{}},SC="__vector__",wd="value";function Ts(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Py(n)?4:kj(n)?9007199254740991:bj(n)?10:11:Ae(28295,{value:n})}function Br(n,e){if(n===e)return!0;const t=Ts(n);if(t!==Ts(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Mu(n).isEqual(Mu(e));case 3:return(function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=_s(s.timestampValue),c=_s(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(s,a){return ws(s.bytesValue).isEqual(ws(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(s,a){return wt(s.geoPointValue.latitude)===wt(a.geoPointValue.latitude)&&wt(s.geoPointValue.longitude)===wt(a.geoPointValue.longitude)})(n,e);case 2:return(function(s,a){if("integerValue"in s&&"integerValue"in a)return wt(s.integerValue)===wt(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=wt(s.doubleValue),c=wt(a.doubleValue);return l===c?vd(l)===vd(c):isNaN(l)&&isNaN(c)}return!1})(n,e);case 9:return Ga(n.arrayValue.values||[],e.arrayValue.values||[],Br);case 10:case 11:return(function(s,a){const l=s.mapValue.fields||{},c=a.mapValue.fields||{};if(XT(l)!==XT(c))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(c[d]===void 0||!Br(l[d],c[d])))return!1;return!0})(n,e);default:return Ae(52216,{left:n})}}function Fu(n,e){return(n.values||[]).find((t=>Br(t,e)))!==void 0}function Ka(n,e){if(n===e)return 0;const t=Ts(n),r=Ts(e);if(t!==r)return Fe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Fe(n.booleanValue,e.booleanValue);case 2:return(function(a,l){const c=wt(a.integerValue||a.doubleValue),d=wt(l.integerValue||l.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1})(n,e);case 3:return ZT(n.timestampValue,e.timestampValue);case 4:return ZT(Mu(n),Mu(e));case 5:return dg(n.stringValue,e.stringValue);case 6:return(function(a,l){const c=ws(a),d=ws(l);return c.compareTo(d)})(n.bytesValue,e.bytesValue);case 7:return(function(a,l){const c=a.split("/"),d=l.split("/");for(let p=0;p<c.length&&p<d.length;p++){const g=Fe(c[p],d[p]);if(g!==0)return g}return Fe(c.length,d.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,l){const c=Fe(wt(a.latitude),wt(l.latitude));return c!==0?c:Fe(wt(a.longitude),wt(l.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return eE(n.arrayValue,e.arrayValue);case 10:return(function(a,l){const c=a.fields||{},d=l.fields||{},p=c[wd]?.arrayValue,g=d[wd]?.arrayValue,y=Fe(p?.values?.length||0,g?.values?.length||0);return y!==0?y:eE(p,g)})(n.mapValue,e.mapValue);case 11:return(function(a,l){if(a===bh.mapValue&&l===bh.mapValue)return 0;if(a===bh.mapValue)return 1;if(l===bh.mapValue)return-1;const c=a.fields||{},d=Object.keys(c),p=l.fields||{},g=Object.keys(p);d.sort(),g.sort();for(let y=0;y<d.length&&y<g.length;++y){const w=dg(d[y],g[y]);if(w!==0)return w;const I=Ka(c[d[y]],p[g[y]]);if(I!==0)return I}return Fe(d.length,g.length)})(n.mapValue,e.mapValue);default:throw Ae(23264,{he:t})}}function ZT(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Fe(n,e);const t=_s(n),r=_s(e),s=Fe(t.seconds,r.seconds);return s!==0?s:Fe(t.nanos,r.nanos)}function eE(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const a=Ka(t[s],r[s]);if(a)return a}return Fe(t.length,r.length)}function Qa(n){return fg(n)}function fg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=_s(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return ws(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return we.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",s=!0;for(const a of t.values||[])s?s=!1:r+=",",r+=fg(a);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let s="{",a=!0;for(const l of r)a?a=!1:s+=",",s+=`${l}:${fg(t.fields[l])}`;return s+"}"})(n.mapValue):Ae(61005,{value:n})}function Hh(n){switch(Ts(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Jd(n);return e?16+Hh(e):16;case 5:return 2*n.stringValue.length;case 6:return ws(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,a)=>s+Hh(a)),0)})(n.arrayValue);case 10:case 11:return(function(r){let s=0;return Rs(r.fields,((a,l)=>{s+=a.length+Hh(l)})),s})(n.mapValue);default:throw Ae(13486,{value:n})}}function tE(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function pg(n){return!!n&&"integerValue"in n}function Ry(n){return!!n&&"arrayValue"in n}function nE(n){return!!n&&"nullValue"in n}function rE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function qh(n){return!!n&&"mapValue"in n}function bj(n){return(n?.mapValue?.fields||{})[IC]?.stringValue===SC}function Eu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Rs(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Eu(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Eu(n.arrayValue.values[t]);return e}return{...n}}function kj(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Rj}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.value=e}static empty(){return new Tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!qh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Eu(t)}setAll(e){let t=qt.emptyPath(),r={},s=[];e.forEach(((l,c)=>{if(!t.isImmediateParentOf(c)){const d=this.getFieldsMap(t);this.applyChanges(d,r,s),r={},s=[],t=c.popLast()}l?r[c.lastSegment()]=Eu(l):s.push(c.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,r,s)}delete(e){const t=this.field(e.popLast());qh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Br(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];qh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Rs(t,((s,a)=>e[s]=a));for(const s of r)delete e[s]}clone(){return new Tn(Eu(this.value))}}function CC(n){const e=[];return Rs(n.fields,((t,r)=>{const s=new qt([t]);if(qh(r)){const a=CC(r.mapValue).fields;if(a.length===0)e.push(s);else for(const l of a)e.push(s.child(l))}else e.push(s)})),new Dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,t,r,s,a,l,c){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(e){return new rn(e,0,Re.min(),Re.min(),Re.min(),Tn.empty(),0)}static newFoundDocument(e,t,r,s){return new rn(e,1,t,Re.min(),r,s,0)}static newNoDocument(e,t){return new rn(e,2,t,Re.min(),Re.min(),Tn.empty(),0)}static newUnknownDocument(e,t){return new rn(e,3,t,Re.min(),Re.min(),Tn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,t){this.position=e,this.inclusive=t}}function iE(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const a=e[s],l=n.position[s];if(a.field.isKeyField()?r=we.comparator(we.fromName(l.referenceValue),t.key):r=Ka(l,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function sE(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Br(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,t="asc"){this.field=e,this.dir=t}}function Nj(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{}class Rt extends AC{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new Vj(e,t,r):t==="array-contains"?new Lj(e,r):t==="in"?new Fj(e,r):t==="not-in"?new jj(e,r):t==="array-contains-any"?new Uj(e,r):new Rt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new Oj(e,r):new Mj(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ka(t,this.value)):t!==null&&Ts(this.value)===Ts(t)&&this.matchesComparison(Ka(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hr extends AC{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new hr(e,t)}matches(e){return xC(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function xC(n){return n.op==="and"}function PC(n){return Dj(n)&&xC(n)}function Dj(n){for(const e of n.filters)if(e instanceof hr)return!1;return!0}function mg(n){if(n instanceof Rt)return n.field.canonicalString()+n.op.toString()+Qa(n.value);if(PC(n))return n.filters.map((e=>mg(e))).join(",");{const e=n.filters.map((t=>mg(t))).join(",");return`${n.op}(${e})`}}function RC(n,e){return n instanceof Rt?(function(r,s){return s instanceof Rt&&r.op===s.op&&r.field.isEqual(s.field)&&Br(r.value,s.value)})(n,e):n instanceof hr?(function(r,s){return s instanceof hr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((a,l,c)=>a&&RC(l,s.filters[c])),!0):!1})(n,e):void Ae(19439)}function bC(n){return n instanceof Rt?(function(t){return`${t.field.canonicalString()} ${t.op} ${Qa(t.value)}`})(n):n instanceof hr?(function(t){return t.op.toString()+" {"+t.getFilters().map(bC).join(" ,")+"}"})(n):"Filter"}class Vj extends Rt{constructor(e,t,r){super(e,t,r),this.key=we.fromName(r.referenceValue)}matches(e){const t=we.comparator(e.key,this.key);return this.matchesComparison(t)}}class Oj extends Rt{constructor(e,t){super(e,"in",t),this.keys=kC("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Mj extends Rt{constructor(e,t){super(e,"not-in",t),this.keys=kC("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function kC(n,e){return(e.arrayValue?.values||[]).map((t=>we.fromName(t.referenceValue)))}class Lj extends Rt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ry(t)&&Fu(t.arrayValue,this.value)}}class Fj extends Rt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Fu(this.value.arrayValue,t)}}class jj extends Rt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Fu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Fu(this.value.arrayValue,t)}}class Uj extends Rt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ry(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Fu(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bj{constructor(e,t=null,r=[],s=[],a=null,l=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=l,this.endAt=c,this.Te=null}}function oE(n,e=null,t=[],r=[],s=null,a=null,l=null){return new Bj(n,e,t,r,s,a,l)}function by(n){const e=ke(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>mg(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),Xd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>Qa(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>Qa(r))).join(",")),e.Te=t}return e.Te}function ky(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Nj(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!RC(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!sE(n.startAt,e.startAt)&&sE(n.endAt,e.endAt)}function gg(n){return we.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e,t=null,r=[],s=[],a=null,l="F",c=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function zj(n,e,t,r,s,a,l,c){return new Ju(n,e,t,r,s,a,l,c)}function NC(n){return new Ju(n)}function aE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function DC(n){return n.collectionGroup!==null}function Iu(n){const e=ke(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Mt(qt.comparator);return l.filters.forEach((d=>{d.getFlattenedFilters().forEach((p=>{p.isInequality()&&(c=c.add(p.field))}))})),c})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Ed(a,r))})),t.has(qt.keyField().canonicalString())||e.Ie.push(new Ed(qt.keyField(),r))}return e.Ie}function Mr(n){const e=ke(n);return e.Ee||(e.Ee=$j(e,Iu(n))),e.Ee}function $j(n,e){if(n.limitType==="F")return oE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((s=>{const a=s.dir==="desc"?"asc":"desc";return new Ed(s.field,a)}));const t=n.endAt?new Td(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Td(n.startAt.position,n.startAt.inclusive):null;return oE(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function yg(n,e){const t=n.filters.concat([e]);return new Ju(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function vg(n,e,t){return new Ju(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Zd(n,e){return ky(Mr(n),Mr(e))&&n.limitType===e.limitType}function VC(n){return`${by(Mr(n))}|lt:${n.limitType}`}function Sa(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((s=>bC(s))).join(", ")}]`),Xd(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((s=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(s))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((s=>Qa(s))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((s=>Qa(s))).join(",")),`Target(${r})`})(Mr(n))}; limitType=${n.limitType})`}function ef(n,e){return e.isFoundDocument()&&(function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):we.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(n,e)&&(function(r,s){for(const a of Iu(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0})(n,e)&&(function(r,s){return!(r.startAt&&!(function(l,c,d){const p=iE(l,c,d);return l.inclusive?p<=0:p<0})(r.startAt,Iu(r),s)||r.endAt&&!(function(l,c,d){const p=iE(l,c,d);return l.inclusive?p>=0:p>0})(r.endAt,Iu(r),s))})(n,e)}function Wj(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function OC(n){return(e,t)=>{let r=!1;for(const s of Iu(n)){const a=Hj(s,e,t);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function Hj(n,e,t){const r=n.field.isKeyField()?we.comparator(e.key,t.key):(function(a,l,c){const d=l.data.field(a),p=c.data.field(a);return d!==null&&p!==null?Ka(d,p):Ae(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ae(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Rs(this.inner,((t,r)=>{for(const[s,a]of r)e(s,a)}))}isEmpty(){return yC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qj=new pt(we.comparator);function wi(){return qj}const MC=new pt(we.comparator);function pu(...n){let e=MC;for(const t of n)e=e.insert(t.key,t);return e}function LC(n){let e=MC;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function po(){return Su()}function FC(){return Su()}function Su(){return new No((n=>n.toString()),((n,e)=>n.isEqual(e)))}const Gj=new pt(we.comparator),Kj=new Mt(we.comparator);function je(...n){let e=Kj;for(const t of n)e=e.add(t);return e}const Qj=new Mt(Fe);function Yj(){return Qj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ny(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vd(e)?"-0":e}}function jC(n){return{integerValue:""+n}}function Xj(n,e){return Sj(e)?jC(e):Ny(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(){this._=void 0}}function Jj(n,e,t){return n instanceof Id?(function(s,a){const l={fields:{[wC]:{stringValue:_C},[EC]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&Py(a)&&(a=Jd(a)),a&&(l.fields[TC]=a),{mapValue:l}})(t,e):n instanceof ju?BC(n,e):n instanceof Uu?zC(n,e):(function(s,a){const l=UC(s,a),c=lE(l)+lE(s.Ae);return pg(l)&&pg(s.Ae)?jC(c):Ny(s.serializer,c)})(n,e)}function Zj(n,e,t){return n instanceof ju?BC(n,e):n instanceof Uu?zC(n,e):t}function UC(n,e){return n instanceof Sd?(function(r){return pg(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class Id extends tf{}class ju extends tf{constructor(e){super(),this.elements=e}}function BC(n,e){const t=$C(e);for(const r of n.elements)t.some((s=>Br(s,r)))||t.push(r);return{arrayValue:{values:t}}}class Uu extends tf{constructor(e){super(),this.elements=e}}function zC(n,e){let t=$C(e);for(const r of n.elements)t=t.filter((s=>!Br(s,r)));return{arrayValue:{values:t}}}class Sd extends tf{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function lE(n){return wt(n.integerValue||n.doubleValue)}function $C(n){return Ry(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function eU(n,e){return n.field.isEqual(e.field)&&(function(r,s){return r instanceof ju&&s instanceof ju||r instanceof Uu&&s instanceof Uu?Ga(r.elements,s.elements,Br):r instanceof Sd&&s instanceof Sd?Br(r.Ae,s.Ae):r instanceof Id&&s instanceof Id})(n.transform,e.transform)}class tU{constructor(e,t){this.version=e,this.transformResults=t}}class lr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new lr}static exists(e){return new lr(void 0,e)}static updateTime(e){return new lr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class nf{}function WC(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Dy(n.key,lr.none()):new Zu(n.key,n.data,lr.none());{const t=n.data,r=Tn.empty();let s=new Mt(qt.comparator);for(let a of e.fields)if(!s.has(a)){let l=t.field(a);l===null&&a.length>1&&(a=a.popLast(),l=t.field(a)),l===null?r.delete(a):r.set(a,l),s=s.add(a)}return new bs(n.key,r,new Dn(s.toArray()),lr.none())}}function nU(n,e,t){n instanceof Zu?(function(s,a,l){const c=s.value.clone(),d=cE(s.fieldTransforms,a,l.transformResults);c.setAll(d),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(n,e,t):n instanceof bs?(function(s,a,l){if(!Gh(s.precondition,a))return void a.convertToUnknownDocument(l.version);const c=cE(s.fieldTransforms,a,l.transformResults),d=a.data;d.setAll(HC(s)),d.setAll(c),a.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(n,e,t):(function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,t)}function Cu(n,e,t,r){return n instanceof Zu?(function(a,l,c,d){if(!Gh(a.precondition,l))return c;const p=a.value.clone(),g=hE(a.fieldTransforms,d,l);return p.setAll(g),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null})(n,e,t,r):n instanceof bs?(function(a,l,c,d){if(!Gh(a.precondition,l))return c;const p=hE(a.fieldTransforms,d,l),g=l.data;return g.setAll(HC(a)),g.setAll(p),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((y=>y.field)))})(n,e,t,r):(function(a,l,c){return Gh(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(n,e,t)}function rU(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),a=UC(r.transform,s||null);a!=null&&(t===null&&(t=Tn.empty()),t.set(r.field,a))}return t||null}function uE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Ga(r,s,((a,l)=>eU(a,l)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Zu extends nf{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class bs extends nf{constructor(e,t,r,s,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function HC(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function cE(n,e,t){const r=new Map;Ke(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let s=0;s<t.length;s++){const a=n[s],l=a.transform,c=e.data.field(a.field);r.set(a.field,Zj(l,c,t[s]))}return r}function hE(n,e,t){const r=new Map;for(const s of n){const a=s.transform,l=t.data.field(s.field);r.set(s.field,Jj(a,l,e))}return r}class Dy extends nf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iU extends nf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sU{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&nU(a,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Cu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Cu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=FC();return this.mutations.forEach((s=>{const a=e.get(s.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=t.has(s.key)?null:c;const d=WC(l,c);d!==null&&r.set(s.key,d),l.isValidDocument()||l.convertToNoDocument(Re.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),je())}isEqual(e){return this.batchId===e.batchId&&Ga(this.mutations,e.mutations,((t,r)=>uE(t,r)))&&Ga(this.baseMutations,e.baseMutations,((t,r)=>uE(t,r)))}}class Vy{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Ke(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return Gj})();const a=e.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,r[l].version);return new Vy(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oU{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aU{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt,ze;function lU(n){switch(n){case X.OK:return Ae(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return Ae(15467,{code:n})}}function qC(n){if(n===void 0)return _i("GRPC error has no .code"),X.UNKNOWN;switch(n){case xt.OK:return X.OK;case xt.CANCELLED:return X.CANCELLED;case xt.UNKNOWN:return X.UNKNOWN;case xt.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case xt.INTERNAL:return X.INTERNAL;case xt.UNAVAILABLE:return X.UNAVAILABLE;case xt.UNAUTHENTICATED:return X.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case xt.NOT_FOUND:return X.NOT_FOUND;case xt.ALREADY_EXISTS:return X.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return X.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case xt.ABORTED:return X.ABORTED;case xt.OUT_OF_RANGE:return X.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return X.UNIMPLEMENTED;case xt.DATA_LOSS:return X.DATA_LOSS;default:return Ae(39323,{code:n})}}(ze=xt||(xt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uU(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cU=new hs([4294967295,4294967295],0);function dE(n){const e=uU().encode(n),t=new oC;return t.update(e),new Uint8Array(t.digest())}function fE(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new hs([t,r],0),new hs([s,a],0)]}class Oy{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new mu(`Invalid padding: ${t}`);if(r<0)throw new mu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new mu(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new mu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=hs.fromNumber(this.ge)}ye(e,t,r){let s=e.add(t.multiply(hs.fromNumber(r)));return s.compare(cU)===1&&(s=new hs([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=dE(e),[r,s]=fE(t);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,s,a);if(!this.we(l))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new Oy(a,s,t);return r.forEach((c=>l.insert(c))),l}insert(e){if(this.ge===0)return;const t=dE(e),[r,s]=fE(t);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,s,a);this.Se(l)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class mu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,t,r,s,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,ec.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new rf(Re.min(),s,new pt(Fe),wi(),je())}}class ec{constructor(e,t,r,s,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new ec(r,t,je(),je(),je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,t,r,s){this.be=e,this.removedTargetIds=t,this.key=r,this.De=s}}class GC{constructor(e,t){this.targetId=e,this.Ce=t}}class KC{constructor(e,t,r=Kt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class pE{constructor(){this.ve=0,this.Fe=mE(),this.Me=Kt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=je(),t=je(),r=je();return this.Fe.forEach(((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Ae(38017,{changeType:a})}})),new ec(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=mE()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class hU{constructor(e){this.Ge=e,this.ze=new Map,this.je=wi(),this.Je=kh(),this.He=kh(),this.Ye=new pt(Fe)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,s)=>{this.rt(s)&&t(s)}))}st(e){const t=e.targetId,r=e.Ce.count,s=this.ot(t);if(s){const a=s.target;if(gg(a))if(r===0){const l=new we(a.path);this.et(t,l,rn.newNoDocument(l,Re.min()))}else Ke(r===1,20013,{expectedCount:r});else{const l=this._t(t);if(l!==r){const c=this.ut(e),d=c?this.ct(c,e,l):1;if(d!==0){this.it(t);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,p)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=t;let l,c;try{l=ws(r).toUint8Array()}catch(d){if(d instanceof vC)return qa("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new Oy(l,s,a)}catch(d){return qa(d instanceof mu?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.ge===0?null:c}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let s=0;return r.forEach((a=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.et(t,a,null),s++)})),s}Tt(e){const t=new Map;this.ze.forEach(((a,l)=>{const c=this.ot(l);if(c){if(a.current&&gg(c.target)){const d=new we(c.target.path);this.It(d).has(l)||this.Et(l,d)||this.et(l,d,rn.newNoDocument(d,e))}a.Be&&(t.set(l,a.ke()),a.qe())}}));let r=je();this.He.forEach(((a,l)=>{let c=!0;l.forEachWhile((d=>{const p=this.ot(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(a))})),this.je.forEach(((a,l)=>l.setReadTime(e)));const s=new rf(e,t,this.Ye,this.je,r);return this.je=wi(),this.Je=kh(),this.He=kh(),this.Ye=new pt(Fe),s}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.Qe(t,1):s.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new pE,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Mt(Fe),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Mt(Fe),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||fe("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new pE),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function kh(){return new pt(we.comparator)}function mE(){return new pt(we.comparator)}const dU={asc:"ASCENDING",desc:"DESCENDING"},fU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pU={and:"AND",or:"OR"};class mU{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function _g(n,e){return n.useProto3Json||Xd(e)?e:{value:e}}function Cd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function QC(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function gU(n,e){return Cd(n,e.toTimestamp())}function Lr(n){return Ke(!!n,49232),Re.fromTimestamp((function(t){const r=_s(t);return new st(r.seconds,r.nanos)})(n))}function My(n,e){return wg(n,e).canonicalString()}function wg(n,e){const t=(function(s){return new Ze(["projects",s.projectId,"databases",s.database])})(n).child("documents");return e===void 0?t:t.child(e)}function YC(n){const e=Ze.fromString(n);return Ke(tA(e),10190,{key:e.toString()}),e}function Tg(n,e){return My(n.databaseId,e.path)}function Em(n,e){const t=YC(e);if(t.get(1)!==n.databaseId.projectId)throw new de(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new de(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new we(JC(t))}function XC(n,e){return My(n.databaseId,e)}function yU(n){const e=YC(n);return e.length===4?Ze.emptyPath():JC(e)}function Eg(n){return new Ze(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function JC(n){return Ke(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function gE(n,e,t){return{name:Tg(n,e),fields:t.value.mapValue.fields}}function vU(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ae(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=(function(p,g){return p.useProto3Json?(Ke(g===void 0||typeof g=="string",58123),Kt.fromBase64String(g||"")):(Ke(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),Kt.fromUint8Array(g||new Uint8Array))})(n,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&(function(p){const g=p.code===void 0?X.UNKNOWN:qC(p.code);return new de(g,p.message||"")})(l);t=new KC(r,s,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Em(n,r.document.name),a=Lr(r.document.updateTime),l=r.document.createTime?Lr(r.document.createTime):Re.min(),c=new Tn({mapValue:{fields:r.document.fields}}),d=rn.newFoundDocument(s,a,l,c),p=r.targetIds||[],g=r.removedTargetIds||[];t=new Kh(p,g,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Em(n,r.document),a=r.readTime?Lr(r.readTime):Re.min(),l=rn.newNoDocument(s,a),c=r.removedTargetIds||[];t=new Kh([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Em(n,r.document),a=r.removedTargetIds||[];t=new Kh([],a,s,null)}else{if(!("filter"in e))return Ae(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,l=new aU(s,a),c=r.targetId;t=new GC(c,l)}}return t}function _U(n,e){let t;if(e instanceof Zu)t={update:gE(n,e.key,e.value)};else if(e instanceof Dy)t={delete:Tg(n,e.key)};else if(e instanceof bs)t={update:gE(n,e.key,e.data),updateMask:PU(e.fieldMask)};else{if(!(e instanceof iU))return Ae(16599,{Vt:e.type});t={verify:Tg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(a,l){const c=l.transform;if(c instanceof Id)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof ju)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Uu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Sd)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw Ae(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(s,a){return a.updateTime!==void 0?{updateTime:gU(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ae(27497)})(n,e.precondition)),t}function wU(n,e){return n&&n.length>0?(Ke(e!==void 0,14353),n.map((t=>(function(s,a){let l=s.updateTime?Lr(s.updateTime):Lr(a);return l.isEqual(Re.min())&&(l=Lr(a)),new tU(l,s.transformResults||[])})(t,e)))):[]}function TU(n,e){return{documents:[XC(n,e.path)]}}function EU(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=XC(n,s);const a=(function(p){if(p.length!==0)return eA(hr.create(p,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const l=(function(p){if(p.length!==0)return p.map((g=>(function(w){return{field:Ca(w.field),direction:CU(w.dir)}})(g)))})(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=_g(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:t,parent:s}}function IU(n){let e=yU(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Ke(r===1,65062);const g=t.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let a=[];t.where&&(a=(function(y){const w=ZC(y);return w instanceof hr&&PC(w)?w.getFilters():[w]})(t.where));let l=[];t.orderBy&&(l=(function(y){return y.map((w=>(function(k){return new Ed(Aa(k.field),(function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(w)))})(t.orderBy));let c=null;t.limit&&(c=(function(y){let w;return w=typeof y=="object"?y.value:y,Xd(w)?null:w})(t.limit));let d=null;t.startAt&&(d=(function(y){const w=!!y.before,I=y.values||[];return new Td(I,w)})(t.startAt));let p=null;return t.endAt&&(p=(function(y){const w=!y.before,I=y.values||[];return new Td(I,w)})(t.endAt)),zj(e,s,l,a,c,"F",d,p)}function SU(n,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function ZC(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Aa(t.unaryFilter.field);return Rt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Aa(t.unaryFilter.field);return Rt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Aa(t.unaryFilter.field);return Rt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Aa(t.unaryFilter.field);return Rt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Rt.create(Aa(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return hr.create(t.compositeFilter.filters.map((r=>ZC(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}})(t.compositeFilter.op))})(n):Ae(30097,{filter:n})}function CU(n){return dU[n]}function AU(n){return fU[n]}function xU(n){return pU[n]}function Ca(n){return{fieldPath:n.canonicalString()}}function Aa(n){return qt.fromServerFormat(n.fieldPath)}function eA(n){return n instanceof Rt?(function(t){if(t.op==="=="){if(rE(t.value))return{unaryFilter:{field:Ca(t.field),op:"IS_NAN"}};if(nE(t.value))return{unaryFilter:{field:Ca(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(rE(t.value))return{unaryFilter:{field:Ca(t.field),op:"IS_NOT_NAN"}};if(nE(t.value))return{unaryFilter:{field:Ca(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ca(t.field),op:AU(t.op),value:t.value}}})(n):n instanceof hr?(function(t){const r=t.getFilters().map((s=>eA(s)));return r.length===1?r[0]:{compositeFilter:{op:xU(t.op),filters:r}}})(n):Ae(54877,{filter:n})}function PU(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function tA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,t,r,s,a=Re.min(),l=Re.min(),c=Kt.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new os(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RU{constructor(e){this.yt=e}}function bU(n){const e=IU({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?vg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kU{constructor(){this.Cn=new NU}addToCollectionParentIndex(e,t){return this.Cn.add(t),J.resolve()}getCollectionParents(e,t){return J.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return J.resolve()}deleteFieldIndex(e,t){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,t){return J.resolve()}getDocumentsMatchingTarget(e,t){return J.resolve(null)}getIndexType(e,t){return J.resolve(0)}getFieldIndexes(e,t){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,t){return J.resolve(vs.min())}getMinOffsetFromCollectionGroup(e,t){return J.resolve(vs.min())}updateCollectionGroup(e,t,r){return J.resolve()}updateIndexEntries(e,t){return J.resolve()}}class NU{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new Mt(Ze.comparator),a=!s.has(r);return this.index[t]=s.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Mt(Ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nA=41943040;class wn{static withCacheSize(e){return new wn(e,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(nA,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ya(0)}static cr(){return new Ya(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE="LruGarbageCollector",DU=1048576;function _E([n,e],[t,r]){const s=Fe(n,t);return s===0?Fe(e,r):s}class VU{constructor(e){this.Ir=e,this.buffer=new Mt(_E),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();_E(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class OU{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){fe(vE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ol(t)?fe(vE,"Ignoring IndexedDB error during garbage collection: ",t):await sl(t)}await this.Vr(3e5)}))}}class MU{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return J.resolve(Yd.ce);const r=new VU(t);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(yE)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yE):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,s,a,l,c,d,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((y=>(y>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),s=this.params.maximumSequenceNumbersToCollect):s=y,l=Date.now(),this.nthSequenceNumber(e,s)))).next((y=>(r=y,c=Date.now(),this.removeTargets(e,r,t)))).next((y=>(a=y,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((y=>(p=Date.now(),Ia()<=Le.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${s} in `+(c-l)+`ms
	Removed ${a} targets in `+(d-c)+`ms
	Removed ${y} documents in `+(p-d)+`ms
Total Duration: ${p-g}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:y}))))}}function LU(n,e){return new MU(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FU{constructor(){this.changes=new No((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,rn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?J.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jU{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UU{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(r!==null&&Cu(r.mutation,s,Dn.empty(),st.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,je()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=je()){const s=po();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,r).next((a=>{let l=pu();return a.forEach(((c,d)=>{l=l.insert(c,d.overlayedDocument)})),l}))))}getOverlayedDocuments(e,t){const r=po();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,je())))}populateOverlays(e,t,r){const s=[];return r.forEach((a=>{t.has(a)||s.push(a)})),this.documentOverlayCache.getOverlays(e,s).next((a=>{a.forEach(((l,c)=>{t.set(l,c)}))}))}computeViews(e,t,r,s){let a=wi();const l=Su(),c=(function(){return Su()})();return t.forEach(((d,p)=>{const g=r.get(p.key);s.has(p.key)&&(g===void 0||g.mutation instanceof bs)?a=a.insert(p.key,p):g!==void 0?(l.set(p.key,g.mutation.getFieldMask()),Cu(g.mutation,p,g.mutation.getFieldMask(),st.now())):l.set(p.key,Dn.empty())})),this.recalculateAndSaveOverlays(e,a).next((d=>(d.forEach(((p,g)=>l.set(p,g))),t.forEach(((p,g)=>c.set(p,new jU(g,l.get(p)??null)))),c)))}recalculateAndSaveOverlays(e,t){const r=Su();let s=new pt(((l,c)=>l-c)),a=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((l=>{for(const c of l)c.keys().forEach((d=>{const p=t.get(d);if(p===null)return;let g=r.get(d)||Dn.empty();g=c.applyToLocalView(p,g),r.set(d,g);const y=(s.get(c.batchId)||je()).add(d);s=s.insert(c.batchId,y)}))})).next((()=>{const l=[],c=s.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),p=d.key,g=d.value,y=FC();g.forEach((w=>{if(!a.has(w)){const I=WC(t.get(w),r.get(w));I!==null&&y.set(w,I),a=a.add(w)}})),l.push(this.documentOverlayCache.saveOverlays(e,p,y))}return J.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,s){return(function(l){return we.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):DC(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next((a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-a.size):J.resolve(po());let c=Ou,d=a;return l.next((p=>J.forEach(p,((g,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),a.get(g)?J.resolve():this.remoteDocumentCache.getEntry(e,g).next((w=>{d=d.insert(g,w)}))))).next((()=>this.populateOverlays(e,p,a))).next((()=>this.computeViews(e,d,p,je()))).next((g=>({batchId:c,changes:LC(g)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new we(t)).next((r=>{let s=pu();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const a=t.collectionGroup;let l=pu();return this.indexManager.getCollectionParents(e,a).next((c=>J.forEach(c,(d=>{const p=(function(y,w){return new Ju(w,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)})(t,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next((g=>{g.forEach(((y,w)=>{l=l.insert(y,w)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,t,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,s)))).next((l=>{a.forEach(((d,p)=>{const g=p.getKey();l.get(g)===null&&(l=l.insert(g,rn.newInvalidDocument(g)))}));let c=pu();return l.forEach(((d,p)=>{const g=a.get(d);g!==void 0&&Cu(g.mutation,p,Dn.empty(),st.now()),ef(t,p)&&(c=c.insert(d,p))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BU{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return J.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:Lr(s.createTime)}})(t)),J.resolve()}getNamedQuery(e,t){return J.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(s){return{name:s.name,query:bU(s.bundledQuery),readTime:Lr(s.readTime)}})(t)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zU{constructor(){this.overlays=new pt(we.comparator),this.qr=new Map}getOverlay(e,t){return J.resolve(this.overlays.get(t))}getOverlays(e,t){const r=po();return J.forEach(t,(s=>this.getOverlay(e,s).next((a=>{a!==null&&r.set(s,a)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((s,a)=>{this.St(e,t,a)})),J.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),J.resolve()}getOverlaysForCollection(e,t,r){const s=po(),a=t.length+1,l=new we(t.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const d=c.getNext().value,p=d.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&d.largestBatchId>r&&s.set(d.getKey(),d)}return J.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let a=new pt(((p,g)=>p-g));const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let g=a.get(p.largestBatchId);g===null&&(g=po(),a=a.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const c=po(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((p,g)=>c.set(p,g))),!(c.size()>=s)););return J.resolve(c)}St(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new oU(t,r));let a=this.qr.get(t);a===void 0&&(a=je(),this.qr.set(t,a)),this.qr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $U{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(){this.Qr=new Mt(Ut.$r),this.Ur=new Mt(Ut.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new Ut(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new Ut(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new we(new Ze([])),r=new Ut(t,e),s=new Ut(t,e+1),a=[];return this.Ur.forEachInRange([r,s],(l=>{this.Gr(l),a.push(l.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new we(new Ze([])),r=new Ut(t,e),s=new Ut(t,e+1);let a=je();return this.Ur.forEachInRange([r,s],(l=>{a=a.add(l.key)})),a}containsKey(e){const t=new Ut(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Ut{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return we.comparator(e.key,t.key)||Fe(e.Yr,t.Yr)}static Kr(e,t){return Fe(e.Yr,t.Yr)||we.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Mt(Ut.$r)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new sU(a,t,r,s);this.mutationQueue.push(l);for(const c of s)this.Zr=this.Zr.add(new Ut(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return J.resolve(l)}lookupMutationBatch(e,t){return J.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.ei(r),a=s<0?0:s;return J.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?xy:this.tr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ut(t,0),s=new Ut(t,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,s],(l=>{const c=this.Xr(l.Yr);a.push(c)})),J.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Mt(Fe);return t.forEach((s=>{const a=new Ut(s,0),l=new Ut(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,l],(c=>{r=r.add(c.Yr)}))})),J.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let a=r;we.isDocumentKey(a)||(a=a.child(""));const l=new Ut(new we(a),0);let c=new Mt(Fe);return this.Zr.forEachWhile((d=>{const p=d.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(c=c.add(d.Yr)),!0)}),l),J.resolve(this.ti(c))}ti(e){const t=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){Ke(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return J.forEach(t.mutations,(s=>{const a=new Ut(s.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new Ut(t,0),s=this.Zr.firstAfterOrEqual(r);return J.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{constructor(e){this.ri=e,this.docs=(function(){return new pt(we.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),a=s?s.size:0,l=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return J.resolve(r?r.document.mutableCopy():rn.newInvalidDocument(t))}getEntries(e,t){let r=wi();return t.forEach((s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():rn.newInvalidDocument(s))})),J.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let a=wi();const l=t.path,c=new we(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:p,value:{document:g}}=d.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||wj(_j(g),r)<=0||(s.has(g.key)||ef(t,g))&&(a=a.insert(g.key,g.mutableCopy()))}return J.resolve(a)}getAllFromCollectionGroup(e,t,r,s){Ae(9500)}ii(e,t){return J.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new qU(this)}getSize(e){return J.resolve(this.size)}}class qU extends FU{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?t.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),J.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU{constructor(e){this.persistence=e,this.si=new No((t=>by(t)),ky),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.oi=0,this._i=new Ly,this.targetCount=0,this.ai=Ya.ur()}forEachTarget(e,t){return this.si.forEach(((r,s)=>t(s))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),J.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Ya(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,J.resolve()}updateTargetData(e,t){return this.Pr(t),J.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,t,r){let s=0;const a=[];return this.si.forEach(((l,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.si.delete(l),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)})),J.waitFor(a).next((()=>s))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return J.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),J.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const s=this.persistence.referenceDelegate,a=[];return s&&t.forEach((l=>{a.push(s.markPotentiallyOrphaned(e,l))})),J.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),J.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return J.resolve(r)}containsKey(e,t){return J.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e,t){this.ui={},this.overlays={},this.ci=new Yd(0),this.li=!1,this.li=!0,this.hi=new $U,this.referenceDelegate=e(this),this.Pi=new GU(this),this.indexManager=new kU,this.remoteDocumentCache=(function(s){return new HU(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new RU(t),this.Ii=new BU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new zU,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new WU(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){fe("MemoryPersistence","Starting transaction:",e);const s=new KU(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((a=>this.referenceDelegate.di(s).next((()=>a)))).toPromise().then((a=>(s.raiseOnCommittedEvent(),a)))}Ai(e,t){return J.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class KU extends Ej{constructor(e){super(),this.currentSequenceNumber=e}}class Fy{constructor(e){this.persistence=e,this.Ri=new Ly,this.Vi=null}static mi(e){return new Fy(e)}get fi(){if(this.Vi)return this.Vi;throw Ae(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),J.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),J.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),J.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(r=>{const s=we.fromPath(r);return this.gi(e,s).next((a=>{a||t.removeEntry(s,Re.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return J.or([()=>J.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Ad{constructor(e,t){this.persistence=e,this.pi=new No((r=>Cj(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=LU(this,t)}static mi(e,t){return new Ad(e,t)}Ei(){}di(e){return J.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((s=>r+s))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return J.forEach(this.pi,((r,s)=>this.br(e,r,s).next((a=>a?J.resolve():t(s)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.ii(e,(l=>this.br(e,l,t).next((c=>{c||(r++,a.removeEntry(l,Re.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),J.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),J.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),J.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Hh(e.data.value)),t}br(e,t,r){return J.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.pi.get(t);return J.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=s}static As(e,t){let r=je(),s=je();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new jy(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return sO()?8:Ij(sn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,s){const a={result:null};return this.ys(e,t).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.ws(e,t,s,r).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new QU;return this.Ss(e,t,l).next((c=>{if(a.result=c,this.Vs)return this.bs(e,t,l,c.size)}))})).next((()=>a.result))}bs(e,t,r,s){return r.documentReadCount<this.fs?(Ia()<=Le.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Sa(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(Ia()<=Le.DEBUG&&fe("QueryEngine","Query:",Sa(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Ia()<=Le.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Sa(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mr(t))):J.resolve())}ys(e,t){if(aE(t))return J.resolve(null);let r=Mr(t);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=vg(t,null,"F"),r=Mr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const l=je(...a);return this.ps.getDocuments(e,l).next((c=>this.indexManager.getMinOffset(e,r).next((d=>{const p=this.Ds(t,c);return this.Cs(t,p,l,d.readTime)?this.ys(e,vg(t,null,"F")):this.vs(e,p,t,d)}))))})))))}ws(e,t,r,s){return aE(t)||s.isEqual(Re.min())?J.resolve(null):this.ps.getDocuments(e,r).next((a=>{const l=this.Ds(t,a);return this.Cs(t,l,r,s)?J.resolve(null):(Ia()<=Le.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Sa(t)),this.vs(e,l,t,vj(s,Ou)).next((c=>c)))}))}Ds(e,t){let r=new Mt(OC(e));return t.forEach(((s,a)=>{ef(e,a)&&(r=r.add(a))})),r}Cs(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Ss(e,t,r){return Ia()<=Le.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Sa(t)),this.ps.getDocumentsMatchingQuery(e,t,vs.min(),r)}vs(e,t,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((a=>(t.forEach((l=>{a=a.insert(l.key,l)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy="LocalStore",XU=3e8;class JU{constructor(e,t,r,s){this.persistence=e,this.Fs=t,this.serializer=s,this.Ms=new pt(Fe),this.xs=new No((a=>by(a)),ky),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UU(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function ZU(n,e,t,r){return new JU(n,e,t,r)}async function iA(n,e){const t=ke(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next((a=>(s=a,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((a=>{const l=[],c=[];let d=je();for(const p of s){l.push(p.batchId);for(const g of p.mutations)d=d.add(g.key)}for(const p of a){c.push(p.batchId);for(const g of p.mutations)d=d.add(g.key)}return t.localDocuments.getDocuments(r,d).next((p=>({Ls:p,removedBatchIds:l,addedBatchIds:c})))}))}))}function e6(n,e){const t=ke(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),a=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,d,p,g){const y=p.batch,w=y.keys();let I=J.resolve();return w.forEach((k=>{I=I.next((()=>g.getEntry(d,k))).next((R=>{const A=p.docVersions.get(k);Ke(A!==null,48541),R.version.compareTo(A)<0&&(y.applyToRemoteDocument(R,p),R.isValidDocument()&&(R.setReadTime(p.commitVersion),g.addEntry(R)))}))})),I.next((()=>c.mutationQueue.removeMutationBatch(d,y)))})(t,r,e,a).next((()=>a.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let d=je();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(d=d.add(c.batch.mutations[p].key));return d})(e)))).next((()=>t.localDocuments.getDocuments(r,s)))}))}function sA(n){const e=ke(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function t6(n,e){const t=ke(n),r=e.snapshotVersion;let s=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=t.Ns.newChangeBuffer({trackRemovals:!0});s=t.Ms;const c=[];e.targetChanges.forEach(((g,y)=>{const w=s.get(y);if(!w)return;c.push(t.Pi.removeMatchingKeys(a,g.removedDocuments,y).next((()=>t.Pi.addMatchingKeys(a,g.addedDocuments,y))));let I=w.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(y)!==null?I=I.withResumeToken(Kt.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):g.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(g.resumeToken,r)),s=s.insert(y,I),(function(R,A,$){return R.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=XU?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0})(w,I,g)&&c.push(t.Pi.updateTargetData(a,I))}));let d=wi(),p=je();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(a,g))})),c.push(n6(a,l,e.documentUpdates).next((g=>{d=g.ks,p=g.qs}))),!r.isEqual(Re.min())){const g=t.Pi.getLastRemoteSnapshotVersion(a).next((y=>t.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));c.push(g)}return J.waitFor(c).next((()=>l.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,d,p))).next((()=>d))})).then((a=>(t.Ms=s,a)))}function n6(n,e,t){let r=je(),s=je();return t.forEach((a=>r=r.add(a))),e.getEntries(n,r).next((a=>{let l=wi();return t.forEach(((c,d)=>{const p=a.get(c);d.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(c)),d.isNoDocument()&&d.version.isEqual(Re.min())?(e.removeEntry(c,d.readTime),l=l.insert(c,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),l=l.insert(c,d)):fe(Uy,"Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",d.version)})),{ks:l,qs:s}}))}function r6(n,e){const t=ke(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=xy),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function i6(n,e){const t=ke(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return t.Pi.getTargetData(r,e).next((a=>a?(s=a,J.resolve(s)):t.Pi.allocateTargetId(r).next((l=>(s=new os(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=t.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function Ig(n,e,t){const r=ke(n),s=r.Ms.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,(l=>r.persistence.referenceDelegate.removeTarget(l,s)))}catch(l){if(!ol(l))throw l;fe(Uy,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function wE(n,e,t){const r=ke(n);let s=Re.min(),a=je();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(d,p,g){const y=ke(d),w=y.xs.get(g);return w!==void 0?J.resolve(y.Ms.get(w)):y.Pi.getTargetData(p,g)})(r,l,Mr(e)).next((c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,c.targetId).next((d=>{a=d}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,t?s:Re.min(),t?a:je()))).next((c=>(s6(r,Wj(e),c),{documents:c,Qs:a})))))}function s6(n,e,t){let r=n.Os.get(e)||Re.min();t.forEach(((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),n.Os.set(e,r)}class TE{constructor(){this.activeTargetIds=Yj()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class o6{constructor(){this.Mo=new TE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new TE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="ConnectivityMonitor";class IE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(EE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fe(EE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nh=null;function Sg(){return Nh===null?Nh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Nh++,"0x"+Nh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im="RestConnection",l6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class u6{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===_d?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,t,r,s,a){const l=Sg(),c=this.zo(e,t.toUriEncodedString());fe(Im,`Sending RPC '${e}' ${l}:`,c,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,s,a);const{host:p}=new URL(c),g=tl(p);return this.Jo(e,c,d,r,g).then((y=>(fe(Im,`Received RPC '${e}' ${l}: `,y),y)),(y=>{throw qa(Im,`RPC '${e}' ${l} failed with error: `,y,"url: ",c,"request:",r),y}))}Ho(e,t,r,s,a,l){return this.Go(e,t,r,s,a)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+il})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,a)=>e[a]=s)),r&&r.headers.forEach(((s,a)=>e[a]=s))}zo(e,t){const r=l6[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class h6 extends u6{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,s,a){const l=Sg();return new Promise(((c,d)=>{const p=new aC;p.setWithCredentials(!0),p.listenOnce(lC.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Wh.NO_ERROR:const y=p.getResponseJson();fe(en,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),c(y);break;case Wh.TIMEOUT:fe(en,`RPC '${e}' ${l} timed out`),d(new de(X.DEADLINE_EXCEEDED,"Request time out"));break;case Wh.HTTP_ERROR:const w=p.getStatus();if(fe(en,`RPC '${e}' ${l} failed with status:`,w,"response text:",p.getResponseText()),w>0){let I=p.getResponseJson();Array.isArray(I)&&(I=I[0]);const k=I?.error;if(k&&k.status&&k.message){const R=(function($){const U=$.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(U)>=0?U:X.UNKNOWN})(k.status);d(new de(R,k.message))}else d(new de(X.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new de(X.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:l,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{fe(en,`RPC '${e}' ${l} completed.`)}}));const g=JSON.stringify(s);fe(en,`RPC '${e}' ${l} sending request:`,s),p.send(t,"POST",g,r,15)}))}T_(e,t,r){const s=Sg(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=hC(),c=cC(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const g=a.join("");fe(en,`Creating RPC '${e}' stream ${s}: ${g}`,d);const y=l.createWebChannel(g,d);this.I_(y);let w=!1,I=!1;const k=new c6({Yo:A=>{I?fe(en,`Not sending because RPC '${e}' stream ${s} is closed:`,A):(w||(fe(en,`Opening RPC '${e}' stream ${s} transport.`),y.open(),w=!0),fe(en,`RPC '${e}' stream ${s} sending:`,A),y.send(A))},Zo:()=>y.close()}),R=(A,$,U)=>{A.listen($,(B=>{try{U(B)}catch(Q){setTimeout((()=>{throw Q}),0)}}))};return R(y,fu.EventType.OPEN,(()=>{I||(fe(en,`RPC '${e}' stream ${s} transport opened.`),k.o_())})),R(y,fu.EventType.CLOSE,(()=>{I||(I=!0,fe(en,`RPC '${e}' stream ${s} transport closed`),k.a_(),this.E_(y))})),R(y,fu.EventType.ERROR,(A=>{I||(I=!0,qa(en,`RPC '${e}' stream ${s} transport errored. Name:`,A.name,"Message:",A.message),k.a_(new de(X.UNAVAILABLE,"The operation could not be completed")))})),R(y,fu.EventType.MESSAGE,(A=>{if(!I){const $=A.data[0];Ke(!!$,16349);const U=$,B=U?.error||U[0]?.error;if(B){fe(en,`RPC '${e}' stream ${s} received error:`,B);const Q=B.status;let ee=(function(x){const b=xt[x];if(b!==void 0)return qC(b)})(Q),ie=B.message;ee===void 0&&(ee=X.INTERNAL,ie="Unknown error status: "+Q+" with message "+B.message),I=!0,k.a_(new de(ee,ie)),y.close()}else fe(en,`RPC '${e}' stream ${s} received:`,$),k.u_($)}})),R(c,uC.STAT_EVENT,(A=>{A.stat===hg.PROXY?fe(en,`RPC '${e}' stream ${s} detected buffering proxy`):A.stat===hg.NOPROXY&&fe(en,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{k.__()}),0),k}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Sm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sf(n){return new mU(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e,t,r=1e3,s=1.5,a=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=s,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-r);s>0&&fe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE="PersistentStream";class aA{constructor(e,t,r,s,a,l,c,d){this.Mi=e,this.S_=r,this.b_=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new oA(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===X.RESOURCE_EXHAUSTED?(_i(t.toString()),_i("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===t&&this.G_(r,s)}),(r=>{e((()=>{const s=new de(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return fe(SE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(fe(SE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class d6 extends aA{constructor(e,t,r,s,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,l),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=vU(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Re.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Re.min():l.readTime?Lr(l.readTime):Re.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=Eg(this.serializer),t.addTarget=(function(a,l){let c;const d=l.target;if(c=gg(d)?{documents:TU(a,d)}:{query:EU(a,d).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=QC(a,l.resumeToken);const p=_g(a,l.expectedCount);p!==null&&(c.expectedCount=p)}else if(l.snapshotVersion.compareTo(Re.min())>0){c.readTime=Cd(a,l.snapshotVersion.toTimestamp());const p=_g(a,l.expectedCount);p!==null&&(c.expectedCount=p)}return c})(this.serializer,e);const r=SU(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=Eg(this.serializer),t.removeTarget=e,this.q_(t)}}class f6 extends aA{constructor(e,t,r,s,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,l),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=wU(e.writeResults,e.commitTime),r=Lr(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=Eg(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>_U(this.serializer,r)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{}class m6 extends p6{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new de(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Go(e,wg(t,r),s,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new de(X.UNKNOWN,a.toString())}))}Ho(e,t,r,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Ho(e,wg(t,r),s,l,c,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new de(X.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class g6{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(_i(t),this.aa=!1):fe("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io="RemoteStore";class y6{constructor(e,t,r,s,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{Do(this)&&(fe(Io,"Restarting streams for network reachability change."),await(async function(d){const p=ke(d);p.Ea.add(4),await tc(p),p.Ra.set("Unknown"),p.Ea.delete(4),await of(p)})(this))}))})),this.Ra=new g6(r,s)}}async function of(n){if(Do(n))for(const e of n.da)await e(!0)}async function tc(n){for(const e of n.da)await e(!1)}function lA(n,e){const t=ke(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Wy(t)?$y(t):al(t).O_()&&zy(t,e))}function By(n,e){const t=ke(n),r=al(t);t.Ia.delete(e),r.O_()&&uA(t,e),t.Ia.size===0&&(r.O_()?r.L_():Do(t)&&t.Ra.set("Unknown"))}function zy(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}al(n).Y_(e)}function uA(n,e){n.Va.Ue(e),al(n).Z_(e)}function $y(n){n.Va=new hU({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),al(n).start(),n.Ra.ua()}function Wy(n){return Do(n)&&!al(n).x_()&&n.Ia.size>0}function Do(n){return ke(n).Ea.size===0}function cA(n){n.Va=void 0}async function v6(n){n.Ra.set("Online")}async function _6(n){n.Ia.forEach(((e,t)=>{zy(n,e)}))}async function w6(n,e){cA(n),Wy(n)?(n.Ra.ha(e),$y(n)):n.Ra.set("Unknown")}async function T6(n,e,t){if(n.Ra.set("Online"),e instanceof KC&&e.state===2&&e.cause)try{await(async function(s,a){const l=a.cause;for(const c of a.targetIds)s.Ia.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s.Ia.delete(c),s.Va.removeTarget(c))})(n,e)}catch(r){fe(Io,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await xd(n,r)}else if(e instanceof Kh?n.Va.Ze(e):e instanceof GC?n.Va.st(e):n.Va.tt(e),!t.isEqual(Re.min()))try{const r=await sA(n.localStore);t.compareTo(r)>=0&&await(function(a,l){const c=a.Va.Tt(l);return c.targetChanges.forEach(((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const g=a.Ia.get(p);g&&a.Ia.set(p,g.withResumeToken(d.resumeToken,l))}})),c.targetMismatches.forEach(((d,p)=>{const g=a.Ia.get(d);if(!g)return;a.Ia.set(d,g.withResumeToken(Kt.EMPTY_BYTE_STRING,g.snapshotVersion)),uA(a,d);const y=new os(g.target,d,p,g.sequenceNumber);zy(a,y)})),a.remoteSyncer.applyRemoteEvent(c)})(n,t)}catch(r){fe(Io,"Failed to raise snapshot:",r),await xd(n,r)}}async function xd(n,e,t){if(!ol(e))throw e;n.Ea.add(1),await tc(n),n.Ra.set("Offline"),t||(t=()=>sA(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{fe(Io,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await of(n)}))}function hA(n,e){return e().catch((t=>xd(n,t,e)))}async function af(n){const e=ke(n),t=Es(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:xy;for(;E6(e);)try{const s=await r6(e.localStore,r);if(s===null){e.Ta.length===0&&t.L_();break}r=s.batchId,I6(e,s)}catch(s){await xd(e,s)}dA(e)&&fA(e)}function E6(n){return Do(n)&&n.Ta.length<10}function I6(n,e){n.Ta.push(e);const t=Es(n);t.O_()&&t.X_&&t.ea(e.mutations)}function dA(n){return Do(n)&&!Es(n).x_()&&n.Ta.length>0}function fA(n){Es(n).start()}async function S6(n){Es(n).ra()}async function C6(n){const e=Es(n);for(const t of n.Ta)e.ea(t.mutations)}async function A6(n,e,t){const r=n.Ta.shift(),s=Vy.from(r,e,t);await hA(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await af(n)}async function x6(n,e){e&&Es(n).X_&&await(async function(r,s){if((function(l){return lU(l)&&l!==X.ABORTED})(s.code)){const a=r.Ta.shift();Es(r).B_(),await hA(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s))),await af(r)}})(n,e),dA(n)&&fA(n)}async function CE(n,e){const t=ke(n);t.asyncQueue.verifyOperationInProgress(),fe(Io,"RemoteStore received new credentials");const r=Do(t);t.Ea.add(3),await tc(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await of(t)}async function P6(n,e){const t=ke(n);e?(t.Ea.delete(2),await of(t)):e||(t.Ea.add(2),await tc(t),t.Ra.set("Unknown"))}function al(n){return n.ma||(n.ma=(function(t,r,s){const a=ke(t);return a.sa(),new d6(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(n.datastore,n.asyncQueue,{Xo:v6.bind(null,n),t_:_6.bind(null,n),r_:w6.bind(null,n),H_:T6.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),Wy(n)?$y(n):n.Ra.set("Unknown")):(await n.ma.stop(),cA(n))}))),n.ma}function Es(n){return n.fa||(n.fa=(function(t,r,s){const a=ke(t);return a.sa(),new f6(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:S6.bind(null,n),r_:x6.bind(null,n),ta:C6.bind(null,n),na:A6.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await af(n)):(await n.fa.stop(),n.Ta.length>0&&(fe(Io,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(e,t,r,s,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new ds,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,a){const l=Date.now()+r,c=new Hy(e,t,l,s,a);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qy(n,e){if(_i("AsyncQueue",`${e}: ${n}`),ol(n))return new de(X.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{static emptySet(e){return new La(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||we.comparator(t.key,r.key):(t,r)=>we.comparator(t.key,r.key),this.keyedMap=pu(),this.sortedSet=new pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof La)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new La;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(){this.ga=new pt(we.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ae(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class Xa{constructor(e,t,r,s,a,l,c,d,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,s,a){const l=[];return t.forEach((c=>{l.push({type:0,doc:c})})),new Xa(e,t,La.emptySet(t),l,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class b6{constructor(){this.queries=xE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const s=ke(t),a=s.queries;s.queries=xE(),a.forEach(((l,c)=>{for(const d of c.Sa)d.onError(r)}))})(this,new de(X.ABORTED,"Firestore shutting down"))}}function xE(){return new No((n=>VC(n)),Zd)}async function k6(n,e){const t=ke(n);let r=3;const s=e.query;let a=t.queries.get(s);a?!a.ba()&&e.Da()&&(r=2):(a=new R6,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await t.onListen(s,!0);break;case 1:a.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(l){const c=qy(l,`Initialization of query '${Sa(e.query)}' failed`);return void e.onError(c)}t.queries.set(s,a),a.Sa.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&Gy(t)}async function N6(n,e){const t=ke(n),r=e.query;let s=3;const a=t.queries.get(r);if(a){const l=a.Sa.indexOf(e);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?s=e.Da()?0:1:!a.ba()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function D6(n,e){const t=ke(n);let r=!1;for(const s of e){const a=s.query,l=t.queries.get(a);if(l){for(const c of l.Sa)c.Fa(s)&&(r=!0);l.wa=s}}r&&Gy(t)}function V6(n,e,t){const r=ke(n),s=r.queries.get(e);if(s)for(const a of s.Sa)a.onError(t);r.queries.delete(e)}function Gy(n){n.Ca.forEach((e=>{e.next()}))}var Cg,PE;(PE=Cg||(Cg={})).Ma="default",PE.Cache="cache";class O6{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Xa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Xa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Cg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e){this.key=e}}class mA{constructor(e){this.key=e}}class M6{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=je(),this.mutatedKeys=je(),this.eu=OC(e),this.tu=new La(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new AE,s=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,l=s,c=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((g,y)=>{const w=s.get(g),I=ef(this.query,y)?y:null,k=!!w&&this.mutatedKeys.has(w.key),R=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let A=!1;w&&I?w.data.isEqual(I.data)?k!==R&&(r.track({type:3,doc:I}),A=!0):this.su(w,I)||(r.track({type:2,doc:I}),A=!0,(d&&this.eu(I,d)>0||p&&this.eu(I,p)<0)&&(c=!0)):!w&&I?(r.track({type:0,doc:I}),A=!0):w&&!I&&(r.track({type:1,doc:w}),A=!0,(d||p)&&(c=!0)),A&&(I?(l=l.add(I),a=R?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{tu:l,iu:r,Cs:c,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((g,y)=>(function(I,k){const R=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Rt:A})}};return R(I)-R(k)})(g.type,y.type)||this.eu(g.doc,y.doc))),this.ou(r),s=s??!1;const c=t&&!s?this._u():[],d=this.Xa.size===0&&this.current&&!s?1:0,p=d!==this.Za;return this.Za=d,l.length!==0||p?{snapshot:new Xa(this.query,e.tu,a,l,e.mutatedKeys,d===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new AE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=je(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new mA(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new pA(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=je();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Xa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ky="SyncEngine";class L6{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class F6{constructor(e){this.key=e,this.hu=!1}}class j6{constructor(e,t,r,s,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new No((c=>VC(c)),Zd),this.Iu=new Map,this.Eu=new Set,this.du=new pt(we.comparator),this.Au=new Map,this.Ru=new Ly,this.Vu={},this.mu=new Map,this.fu=Ya.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function U6(n,e,t=!0){const r=TA(n);let s;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.lu()):s=await gA(r,e,t,!0),s}async function B6(n,e){const t=TA(n);await gA(t,e,!0,!1)}async function gA(n,e,t,r){const s=await i6(n.localStore,Mr(e)),a=s.targetId,l=n.sharedClientState.addLocalQueryTarget(a,t);let c;return r&&(c=await z6(n,e,a,l==="current",s.resumeToken)),n.isPrimaryClient&&t&&lA(n.remoteStore,s),c}async function z6(n,e,t,r,s){n.pu=(y,w,I)=>(async function(R,A,$,U){let B=A.view.ru($);B.Cs&&(B=await wE(R.localStore,A.query,!1).then((({documents:N})=>A.view.ru(N,B))));const Q=U&&U.targetChanges.get(A.targetId),ee=U&&U.targetMismatches.get(A.targetId)!=null,ie=A.view.applyChanges(B,R.isPrimaryClient,Q,ee);return bE(R,A.targetId,ie.au),ie.snapshot})(n,y,w,I);const a=await wE(n.localStore,e,!0),l=new M6(e,a.Qs),c=l.ru(a.documents),d=ec.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),p=l.applyChanges(c,n.isPrimaryClient,d);bE(n,t,p.au);const g=new L6(e,t,l);return n.Tu.set(e,g),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),p.snapshot}async function $6(n,e,t){const r=ke(n),s=r.Tu.get(e),a=r.Iu.get(s.targetId);if(a.length>1)return r.Iu.set(s.targetId,a.filter((l=>!Zd(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Ig(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),t&&By(r.remoteStore,s.targetId),Ag(r,s.targetId)})).catch(sl)):(Ag(r,s.targetId),await Ig(r.localStore,s.targetId,!0))}async function W6(n,e){const t=ke(n),r=t.Tu.get(e),s=t.Iu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),By(t.remoteStore,r.targetId))}async function H6(n,e,t){const r=J6(n);try{const s=await(function(l,c){const d=ke(l),p=st.now(),g=c.reduce(((I,k)=>I.add(k.key)),je());let y,w;return d.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let k=wi(),R=je();return d.Ns.getEntries(I,g).next((A=>{k=A,k.forEach((($,U)=>{U.isValidDocument()||(R=R.add($))}))})).next((()=>d.localDocuments.getOverlayedDocuments(I,k))).next((A=>{y=A;const $=[];for(const U of c){const B=rU(U,y.get(U.key).overlayedDocument);B!=null&&$.push(new bs(U.key,B,CC(B.value.mapValue),lr.exists(!0)))}return d.mutationQueue.addMutationBatch(I,p,$,c)})).next((A=>{w=A;const $=A.applyToLocalDocumentSet(y,R);return d.documentOverlayCache.saveOverlays(I,A.batchId,$)}))})).then((()=>({batchId:w.batchId,changes:LC(y)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(l,c,d){let p=l.Vu[l.currentUser.toKey()];p||(p=new pt(Fe)),p=p.insert(c,d),l.Vu[l.currentUser.toKey()]=p})(r,s.batchId,t),await nc(r,s.changes),await af(r.remoteStore)}catch(s){const a=qy(s,"Failed to persist write");t.reject(a)}}async function yA(n,e){const t=ke(n);try{const r=await t6(t.localStore,e);e.targetChanges.forEach(((s,a)=>{const l=t.Au.get(a);l&&(Ke(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.hu=!0:s.modifiedDocuments.size>0?Ke(l.hu,14607):s.removedDocuments.size>0&&(Ke(l.hu,42227),l.hu=!1))})),await nc(t,r,e)}catch(r){await sl(r)}}function RE(n,e,t){const r=ke(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.Tu.forEach(((a,l)=>{const c=l.view.va(e);c.snapshot&&s.push(c.snapshot)})),(function(l,c){const d=ke(l);d.onlineState=c;let p=!1;d.queries.forEach(((g,y)=>{for(const w of y.Sa)w.va(c)&&(p=!0)})),p&&Gy(d)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function q6(n,e,t){const r=ke(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Au.get(e),a=s&&s.key;if(a){let l=new pt(we.comparator);l=l.insert(a,rn.newNoDocument(a,Re.min()));const c=je().add(a),d=new rf(Re.min(),new Map,new pt(Fe),l,c);await yA(r,d),r.du=r.du.remove(a),r.Au.delete(e),Qy(r)}else await Ig(r.localStore,e,!1).then((()=>Ag(r,e,t))).catch(sl)}async function G6(n,e){const t=ke(n),r=e.batch.batchId;try{const s=await e6(t.localStore,e);_A(t,r,null),vA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await nc(t,s)}catch(s){await sl(s)}}async function K6(n,e,t){const r=ke(n);try{const s=await(function(l,c){const d=ke(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let g;return d.mutationQueue.lookupMutationBatch(p,c).next((y=>(Ke(y!==null,37113),g=y.keys(),d.mutationQueue.removeMutationBatch(p,y)))).next((()=>d.mutationQueue.performConsistencyCheck(p))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(p,g,c))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g))).next((()=>d.localDocuments.getDocuments(p,g)))}))})(r.localStore,e);_A(r,e,t),vA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await nc(r,s)}catch(s){await sl(s)}}function vA(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function _A(n,e,t){const r=ke(n);let s=r.Vu[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(t?a.reject(t):a.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Ag(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||wA(n,r)}))}function wA(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(By(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),Qy(n))}function bE(n,e,t){for(const r of t)r instanceof pA?(n.Ru.addReference(r.key,e),Q6(n,r)):r instanceof mA?(fe(Ky,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||wA(n,r.key)):Ae(19791,{wu:r})}function Q6(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(fe(Ky,"New document in limbo: "+t),n.Eu.add(r),Qy(n))}function Qy(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new we(Ze.fromString(e)),r=n.fu.next();n.Au.set(r,new F6(t)),n.du=n.du.insert(t,r),lA(n.remoteStore,new os(Mr(NC(t.path)),r,"TargetPurposeLimboResolution",Yd.ce))}}async function nc(n,e,t){const r=ke(n),s=[],a=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,d)=>{l.push(r.pu(d,e,t).then((p=>{if((p||t)&&r.isPrimaryClient){const g=p?!p.fromCache:t?.targetChanges.get(d.targetId)?.current;r.sharedClientState.updateQueryState(d.targetId,g?"current":"not-current")}if(p){s.push(p);const g=jy.As(d.targetId,p);a.push(g)}})))})),await Promise.all(l),r.Pu.H_(s),await(async function(d,p){const g=ke(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(y=>J.forEach(p,(w=>J.forEach(w.Es,(I=>g.persistence.referenceDelegate.addReference(y,w.targetId,I))).next((()=>J.forEach(w.ds,(I=>g.persistence.referenceDelegate.removeReference(y,w.targetId,I)))))))))}catch(y){if(!ol(y))throw y;fe(Uy,"Failed to update sequence numbers: "+y)}for(const y of p){const w=y.targetId;if(!y.fromCache){const I=g.Ms.get(w),k=I.snapshotVersion,R=I.withLastLimboFreeSnapshotVersion(k);g.Ms=g.Ms.insert(w,R)}}})(r.localStore,a))}async function Y6(n,e){const t=ke(n);if(!t.currentUser.isEqual(e)){fe(Ky,"User change. New user:",e.toKey());const r=await iA(t.localStore,e);t.currentUser=e,(function(a,l){a.mu.forEach((c=>{c.forEach((d=>{d.reject(new de(X.CANCELLED,l))}))})),a.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await nc(t,r.Ls)}}function X6(n,e){const t=ke(n),r=t.Au.get(e);if(r&&r.hu)return je().add(r.key);{let s=je();const a=t.Iu.get(e);if(!a)return s;for(const l of a){const c=t.Tu.get(l);s=s.unionWith(c.view.nu)}return s}}function TA(n){const e=ke(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=yA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=X6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=q6.bind(null,e),e.Pu.H_=D6.bind(null,e.eventManager),e.Pu.yu=V6.bind(null,e.eventManager),e}function J6(n){const e=ke(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=G6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=K6.bind(null,e),e}class Pd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return ZU(this.persistence,new YU,e.initialUser,this.serializer)}Cu(e){return new rA(Fy.mi,this.serializer)}Du(e){return new o6}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Pd.provider={build:()=>new Pd};class Z6 extends Pd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ke(this.persistence.referenceDelegate instanceof Ad,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new OU(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new rA((r=>Ad.mi(r,t)),this.serializer)}}class xg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>RE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Y6.bind(null,this.syncEngine),await P6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new b6})()}createDatastore(e){const t=sf(e.databaseInfo.databaseId),r=(function(a){return new h6(a)})(e.databaseInfo);return(function(a,l,c,d){return new m6(a,l,c,d)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,s,a,l,c){return new y6(r,s,a,l,c)})(this.localStore,this.datastore,e.asyncQueue,(t=>RE(this.syncEngine,t,0)),(function(){return IE.v()?new IE:new a6})())}createSyncEngine(e,t){return(function(s,a,l,c,d,p,g){const y=new j6(s,a,l,c,d,p);return g&&(y.gu=!0),y})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=ke(t);fe(Io,"RemoteStore shutting down."),r.Ea.add(5),await tc(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}xg.provider={build:()=>new xg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):_i("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is="FirestoreClient";class t3{constructor(e,t,r,s,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=nn.UNAUTHENTICATED,this.clientId=Ay.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async l=>{fe(Is,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(fe(Is,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ds;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=qy(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Cm(n,e){n.asyncQueue.verifyOperationInProgress(),fe(Is,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async s=>{r.isEqual(s)||(await iA(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function kE(n,e){n.asyncQueue.verifyOperationInProgress();const t=await n3(n);fe(Is,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>CE(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,s)=>CE(e.remoteStore,s))),n._onlineComponents=e}async function n3(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){fe(Is,"Using user provided OfflineComponentProvider");try{await Cm(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===X.FAILED_PRECONDITION||s.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;qa("Error using user provided cache. Falling back to memory cache: "+t),await Cm(n,new Pd)}}else fe(Is,"Using default OfflineComponentProvider"),await Cm(n,new Z6(void 0));return n._offlineComponents}async function EA(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(fe(Is,"Using user provided OnlineComponentProvider"),await kE(n,n._uninitializedComponentsProvider._online)):(fe(Is,"Using default OnlineComponentProvider"),await kE(n,new xg))),n._onlineComponents}function r3(n){return EA(n).then((e=>e.syncEngine))}async function i3(n){const e=await EA(n),t=e.eventManager;return t.onListen=U6.bind(null,e.syncEngine),t.onUnlisten=$6.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=B6.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=W6.bind(null,e.syncEngine),t}function s3(n,e,t={}){const r=new ds;return n.asyncQueue.enqueueAndForget((async()=>(function(a,l,c,d,p){const g=new e3({next:w=>{g.Nu(),l.enqueueAndForget((()=>N6(a,y))),w.fromCache&&d.source==="server"?p.reject(new de(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),y=new O6(c,g,{includeMetadataChanges:!0,qa:!0});return k6(a,y)})(await i3(n),n.asyncQueue,e,t,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA="firestore.googleapis.com",DE=!0;class VE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=SA,this.ssl=DE}else this.host=e.host,this.ssl=e.ssl??DE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=nA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<DU)throw new de(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}yj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IA(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new de(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new de(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new de(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lf{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new aj;switch(r.type){case"firstParty":return new hj(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=NE.get(t);r&&(fe("ComponentProvider","Removing Datastore"),NE.delete(t),r.terminate())})(this),Promise.resolve()}}function o3(n,e,t,r={}){n=Eo(n,lf);const s=tl(e),a=n._getSettings(),l={...a,emulatorOptions:n._getEmulatorOptions()},c=`${e}:${t}`;s&&(KS(`https://${c}`),QS("Firestore",!0)),a.host!==SA&&a.host!==c&&qa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...a,host:c,ssl:s,emulatorOptions:r};if(!ys(d,l)&&(n._setSettings(d),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=nn.MOCK_USER;else{p=XV(r.mockUserToken,n._app?.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new de(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new nn(y)}n._authCredentials=new lj(new fC(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ll(this.firestore,e,this._query)}}class Ot{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ot(this.firestore,e,this._key)}toJSON(){return{type:Ot._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Xu(t,Ot._jsonSchema))return new Ot(e,r||null,new we(Ze.fromString(t.referencePath)))}}Ot._jsonSchemaVersion="firestore/documentReference/1.0",Ot._jsonSchema={type:kt("string",Ot._jsonSchemaVersion),referencePath:kt("string")};class fs extends ll{constructor(e,t,r){super(e,t,NC(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ot(this.firestore,null,new we(e))}withConverter(e){return new fs(this.firestore,e,this._path)}}function Am(n,e,...t){if(n=Nt(n),pC("collection","path",e),n instanceof lf){const r=Ze.fromString(e,...t);return GT(r),new fs(n,null,r)}{if(!(n instanceof Ot||n instanceof fs))throw new de(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ze.fromString(e,...t));return GT(r),new fs(n.firestore,null,r)}}function Pg(n,e,...t){if(n=Nt(n),arguments.length===1&&(e=Ay.newId()),pC("doc","path",e),n instanceof lf){const r=Ze.fromString(e,...t);return qT(r),new Ot(n,null,new we(r))}{if(!(n instanceof Ot||n instanceof fs))throw new de(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ze.fromString(e,...t));return qT(r),new Ot(n.firestore,n instanceof fs?n.converter:null,new we(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="AsyncQueue";class ME{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new oA(this,"async_queue_retry"),this._c=()=>{const r=Sm();r&&fe(OE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=Sm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Sm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new ds;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ol(e))throw e;fe(OE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,_i("INTERNAL UNHANDLED ERROR: ",LE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=Hy.createAndSchedule(this,e,t,r,(a=>this.hc(a)));return this.tc.push(s),s}uc(){this.nc&&Ae(47125,{Pc:LE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function LE(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class rc extends lf{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new ME,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ME(e),this._firestoreClient=void 0,await e}}}function a3(n,e){const t=typeof n=="object"?n:cy(),r=typeof n=="string"?n:_d,s=bo(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=QV("firestore");a&&o3(s,...a)}return s}function CA(n){if(n._terminated)throw new de(X.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||l3(n),n._firestoreClient}function l3(n){const e=n._freezeSettings(),t=(function(s,a,l,c){return new Pj(s,a,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,IA(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new t3(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(s){const a=s?._online.build();return{_offline:s?._offline.build(a),_online:a}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gn(Kt.fromBase64String(e))}catch(t){throw new de(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Gn(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Gn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Xu(e,Gn._jsonSchema))return Gn.fromBase64String(e.bytes)}}Gn._jsonSchemaVersion="firestore/bytes/1.0",Gn._jsonSchema={type:kt("string",Gn._jsonSchemaVersion),bytes:kt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new de(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new de(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new de(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Fr._jsonSchemaVersion}}static fromJSON(e){if(Xu(e,Fr._jsonSchema))return new Fr(e.latitude,e.longitude)}}Fr._jsonSchemaVersion="firestore/geoPoint/1.0",Fr._jsonSchema={type:kt("string",Fr._jsonSchemaVersion),latitude:kt("number"),longitude:kt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:jr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Xu(e,jr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new jr(e.vectorValues);throw new de(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}jr._jsonSchemaVersion="firestore/vectorValue/1.0",jr._jsonSchema={type:kt("string",jr._jsonSchemaVersion),vectorValues:kt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3=/^__.*__$/;class c3{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new bs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Zu(e,this.data,t,this.fieldTransforms)}}class AA{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new bs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function xA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{Ac:n})}}class Xy{constructor(e,t,r,s,a,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Xy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Rd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(xA(this.Ac)&&u3.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class h3{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||sf(e)}Cc(e,t,r,s=!1){return new Xy({Ac:e,methodName:t,Dc:r,path:qt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jy(n){const e=n._freezeSettings(),t=sf(n._databaseId);return new h3(n._databaseId,!!e.ignoreUndefinedProperties,t)}function d3(n,e,t,r,s,a={}){const l=n.Cc(a.merge||a.mergeFields?2:0,e,t,s);Zy("Data must be an object, but it was:",l,r);const c=PA(r,l);let d,p;if(a.merge)d=new Dn(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const g=[];for(const y of a.mergeFields){const w=Rg(e,y,t);if(!l.contains(w))throw new de(X.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);bA(g,w)||g.push(w)}d=new Dn(g),p=l.fieldTransforms.filter((y=>d.covers(y.field)))}else d=null,p=l.fieldTransforms;return new c3(new Tn(c),d,p)}class cf extends Yy{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof cf}}function f3(n,e,t,r){const s=n.Cc(1,e,t);Zy("Data must be an object, but it was:",s,r);const a=[],l=Tn.empty();Rs(r,((d,p)=>{const g=ev(e,d,t);p=Nt(p);const y=s.yc(g);if(p instanceof cf)a.push(g);else{const w=ic(p,y);w!=null&&(a.push(g),l.set(g,w))}}));const c=new Dn(a);return new AA(l,c,s.fieldTransforms)}function p3(n,e,t,r,s,a){const l=n.Cc(1,e,t),c=[Rg(e,r,t)],d=[s];if(a.length%2!=0)throw new de(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<a.length;w+=2)c.push(Rg(e,a[w])),d.push(a[w+1]);const p=[],g=Tn.empty();for(let w=c.length-1;w>=0;--w)if(!bA(p,c[w])){const I=c[w];let k=d[w];k=Nt(k);const R=l.yc(I);if(k instanceof cf)p.push(I);else{const A=ic(k,R);A!=null&&(p.push(I),g.set(I,A))}}const y=new Dn(p);return new AA(g,y,l.fieldTransforms)}function m3(n,e,t,r=!1){return ic(t,n.Cc(r?4:3,e))}function ic(n,e){if(RA(n=Nt(n)))return Zy("Unsupported field value:",e,n),PA(n,e);if(n instanceof Yy)return(function(r,s){if(!xA(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,s){const a=[];let l=0;for(const c of r){let d=ic(c,s.wc(l));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),l++}return{arrayValue:{values:a}}})(n,e)}return(function(r,s){if((r=Nt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Xj(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=st.fromDate(r);return{timestampValue:Cd(s.serializer,a)}}if(r instanceof st){const a=new st(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Cd(s.serializer,a)}}if(r instanceof Fr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Gn)return{bytesValue:QC(s.serializer,r._byteString)};if(r instanceof Ot){const a=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw s.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:My(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof jr)return(function(l,c){return{mapValue:{fields:{[IC]:{stringValue:SC},[wd]:{arrayValue:{values:l.toArray().map((p=>{if(typeof p!="number")throw c.Sc("VectorValues must only contain numeric values.");return Ny(c.serializer,p)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${Qd(r)}`)})(n,e)}function PA(n,e){const t={};return yC(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Rs(n,((r,s)=>{const a=ic(s,e.mc(r));a!=null&&(t[r]=a)})),{mapValue:{fields:t}}}function RA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof st||n instanceof Fr||n instanceof Gn||n instanceof Ot||n instanceof Yy||n instanceof jr)}function Zy(n,e,t){if(!RA(t)||!mC(t)){const r=Qd(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function Rg(n,e,t){if((e=Nt(e))instanceof uf)return e._internalPath;if(typeof e=="string")return ev(n,e);throw Rd("Field path arguments must be of type string or ",n,!1,void 0,t)}const g3=new RegExp("[~\\*/\\[\\]]");function ev(n,e,t){if(e.search(g3)>=0)throw Rd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new uf(...e.split("."))._internalPath}catch{throw Rd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Rd(n,e,t,r,s){const a=r&&!r.isEmpty(),l=s!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(a||l)&&(d+=" (found",a&&(d+=` in field ${r}`),l&&(d+=` in document ${s}`),d+=")"),new de(X.INVALID_ARGUMENT,c+n+d)}function bA(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e,t,r,s,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new y3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(tv("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class y3 extends kA{data(){return super.data()}}function tv(n,e){return typeof e=="string"?ev(n,e):e instanceof uf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v3(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new de(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class nv{}class _3 extends nv{}function w3(n,e,...t){let r=[];e instanceof nv&&r.push(e),r=r.concat(t),(function(a){const l=a.filter((d=>d instanceof rv)).length,c=a.filter((d=>d instanceof hf)).length;if(l>1||l>0&&c>0)throw new de(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)n=s._apply(n);return n}class hf extends _3{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new hf(e,t,r)}_apply(e){const t=this._parse(e);return NA(e._query,t),new ll(e.firestore,e.converter,yg(e._query,t))}_parse(e){const t=Jy(e.firestore);return(function(a,l,c,d,p,g,y){let w;if(p.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new de(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){jE(y,g);const k=[];for(const R of y)k.push(FE(d,a,R));w={arrayValue:{values:k}}}else w=FE(d,a,y)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||jE(y,g),w=m3(c,l,y,g==="in"||g==="not-in");return Rt.create(p,g,w)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function T3(n,e,t){const r=e,s=tv("where",n);return hf._create(s,r,t)}class rv extends nv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new rv(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:hr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(s,a){let l=s;const c=a.getFlattenedFilters();for(const d of c)NA(l,d),l=yg(l,d)})(e._query,t),new ll(e.firestore,e.converter,yg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function FE(n,e,t){if(typeof(t=Nt(t))=="string"){if(t==="")throw new de(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!DC(e)&&t.indexOf("/")!==-1)throw new de(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Ze.fromString(t));if(!we.isDocumentKey(r))throw new de(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return tE(n,new we(r))}if(t instanceof Ot)return tE(n,t._key);throw new de(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qd(t)}.`)}function jE(n,e){if(!Array.isArray(n)||n.length===0)throw new de(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function NA(n,e){const t=(function(s,a){for(const l of s)for(const c of l.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null})(n.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new de(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class E3{convertValue(e,t="none"){switch(Ts(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ws(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Rs(e,((s,a)=>{r[s]=this.convertValue(a,t)})),r}convertVectorValue(e){const t=e.fields?.[wd].arrayValue?.values?.map((r=>wt(r.doubleValue)));return new jr(t)}convertGeoPoint(e){return new Fr(wt(e.latitude),wt(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Jd(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Mu(e));default:return null}}convertTimestamp(e){const t=_s(e);return new st(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Ze.fromString(e);Ke(tA(r),9688,{name:e});const s=new Lu(r.get(1),r.get(3)),a=new we(r.popFirst(5));return s.isEqual(t)||_i(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I3(n,e,t){let r;return r=n?n.toFirestore(e):e,r}class Dh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Fa extends kA{constructor(e,t,r,s,a,l){super(e,t,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Qh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(tv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Fa._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Fa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Fa._jsonSchema={type:kt("string",Fa._jsonSchemaVersion),bundleSource:kt("string","DocumentSnapshot"),bundleName:kt("string"),bundle:kt("string")};class Qh extends Fa{data(e={}){return super.data(e)}}class ja{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Dh(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new Qh(this._firestore,this._userDataWriter,r.key,r,new Dh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new de(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map((c=>{const d=new Qh(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Dh(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((c=>a||c.type!==3)).map((c=>{const d=new Qh(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Dh(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,g=-1;return c.type!==0&&(p=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),g=l.indexOf(c.doc.key)),{type:S3(c.type),doc:d,oldIndex:p,newIndex:g}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ja._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ay.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],s=[];return this.docs.forEach((a=>{a._document!==null&&(t.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),s.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function S3(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:n})}}ja._jsonSchemaVersion="firestore/querySnapshot/1.0",ja._jsonSchema={type:kt("string",ja._jsonSchemaVersion),bundleSource:kt("string","QuerySnapshot"),bundleName:kt("string"),bundle:kt("string")};class C3 extends E3{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ot(this.firestore,null,t)}}function A3(n){n=Eo(n,ll);const e=Eo(n.firestore,rc),t=CA(e),r=new C3(e);return v3(n._query),s3(t,n._query).then((s=>new ja(e,r,n,s)))}function x3(n,e,t,...r){n=Eo(n,Ot);const s=Eo(n.firestore,rc),a=Jy(s);let l;return l=typeof(e=Nt(e))=="string"||e instanceof uf?p3(a,"updateDoc",n._key,e,t,r):f3(a,"updateDoc",n._key,e),iv(s,[l.toMutation(n._key,lr.exists(!0))])}function P3(n){return iv(Eo(n.firestore,rc),[new Dy(n._key,lr.none())])}function UE(n,e){const t=Eo(n.firestore,rc),r=Pg(n),s=I3(n.converter,e);return iv(t,[d3(Jy(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,lr.exists(!1))]).then((()=>r))}function iv(n,e){return(function(r,s){const a=new ds;return r.asyncQueue.enqueueAndForget((async()=>H6(await r3(r),s,a))),a.promise})(CA(n),e)}(function(e,t=!0){(function(s){il=s})(nl),Ur(new ur("firestore",((r,{instanceIdentifier:s,options:a})=>{const l=r.getProvider("app").getImmediate(),c=new rc(new uj(r.getProvider("auth-internal")),new dj(l,r.getProvider("app-check-internal")),(function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new de(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lu(p.options.projectId,g)})(l,s),l);return a={useFetchStreams:t,...a},c._setSettings(a),c}),"PUBLIC").setMultipleInstances(!0)),Kn(zT,$T,e),Kn(zT,$T,"esm2020")})();const R3={apiKey:"AIzaSyA_RW7n92cb8I9zUfsj1u0NDin2IMgjJI0",authDomain:"rickdudziak-c80bb.firebaseapp.com",projectId:"rickdudziak-c80bb",storageBucket:"rickdudziak-c80bb.firebasestorage.app",messagingSenderId:"234849264289",appId:"1:234849264289:web:3dd541af25280798b9c6e0",measurementId:"G-KW0JNC0018"},sv=n1(R3);nj(sv);const Ua=M4(sv),uu=a3(sv),b3=()=>{const{toast:n}=Bd(),[e,t]=P.useState(""),[r,s]=P.useState(""),[a,l]=P.useState(!1),[c,d]=P.useState(!1),p=async y=>{y.preventDefault(),l(!0);try{await IT(Ua,e,r),n({title:"Login Successful!",description:"Welcome back! Redirecting to your projects...",className:"bg-[#1e1e1e] text-white border-[#00ff88]"})}catch(w){n({variant:"destructive",title:"Login Failed",description:`Error: ${w.code}`,className:"bg-[#1e1e1e] text-white border-red-500"})}finally{l(!1)}},g=async()=>{d(!0);try{await EL(Ua,e,r),await IT(Ua,e,r),n({title:"Account Created!",description:"Your new account has been created and you are now logged in. Redirecting to your projects...",className:"bg-[#1e1e1e] text-white border-[#00ff88]"})}catch(y){n({variant:"destructive",title:"Sign-up Failed",description:`Error: ${y.code}`,className:"bg-[#1e1e1e] text-white border-red-500"})}finally{d(!1)}};return S.jsx("div",{className:"min-h-screen flex items-center justify-center p-6 bg-grid-[#1a1a1a]/[0.2]",children:S.jsx(bt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},className:"max-w-md w-full",children:S.jsx("div",{className:"bg-[#1e1e1e] rounded-xl p-8 sm:p-12 shadow-2xl border border-[#2a2a2a]",children:S.jsxs(bt.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3,duration:.6},className:"text-center space-y-8",children:[S.jsxs("div",{className:"space-y-2",children:[S.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white tracking-tight",children:"Member Login"}),S.jsx("p",{className:"text-[#a0a0a0]",children:"Access your projects dashboard."})]}),S.jsxs("form",{onSubmit:p,className:"space-y-6 text-left",children:[S.jsxs("div",{className:"space-y-2",children:[S.jsx(eg,{htmlFor:"email",className:"text-sm font-medium text-[#c0c0c0]",children:"Email"}),S.jsxs("div",{className:"relative",children:[S.jsx(QD,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-[#666]"}),S.jsx(li,{type:"email",id:"email",placeholder:"name@example.com",required:!0,className:"pl-10",value:e,onChange:y=>t(y.target.value)})]})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsx(eg,{htmlFor:"password",className:"text-sm font-medium text-[#c0c0c0]",children:"Password"}),S.jsxs("div",{className:"relative",children:[S.jsx($D,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-[#666]"}),S.jsx(li,{type:"password",id:"password",placeholder:"",required:!0,className:"pl-10",value:r,onChange:y=>s(y.target.value)})]})]}),S.jsx(bt.div,{whileHover:{scale:1.03},whileTap:{scale:.97},className:"pt-4",children:S.jsx(dt,{type:"submit",disabled:a,className:"w-full bg-[#00ff88] hover:bg-[#00dd77] text-[#121212] font-semibold px-8 py-6 text-lg rounded-lg transition-all duration-300 shadow-lg hover:shadow-[#00ff88]/20",children:a?S.jsx(Ym,{className:"h-5 w-5 animate-spin"}):S.jsxs(S.Fragment,{children:["Login",S.jsx(RS,{className:"ml-2 h-5 w-5"})]})})})]}),S.jsxs("div",{className:"flex items-center space-x-2 justify-center mt-4",children:[S.jsx("span",{className:"text-sm text-[#a0a0a0]",children:"Don't have an account?"}),S.jsx(dt,{variant:"link",onClick:g,disabled:c,className:"text-[#00ff88] hover:text-[#00dd77] px-0",children:c?S.jsx(Ym,{className:"h-4 w-4 animate-spin mr-2"}):S.jsxs(S.Fragment,{children:[S.jsx(KD,{className:"h-4 w-4 mr-2"}),"Sign up"]})})]})]})})})})},Ba=P.forwardRef(({className:n,...e},t)=>S.jsx("div",{ref:t,className:Gt("rounded-xl border border-[#2a2a2a] bg-[#1e1e1e]/70 text-card-foreground shadow-lg backdrop-blur-xl",n),...e}));Ba.displayName="Card";const za=P.forwardRef(({className:n,...e},t)=>S.jsx("div",{ref:t,className:Gt("flex flex-col space-y-1.5 p-6",n),...e}));za.displayName="CardHeader";const ai=P.forwardRef(({className:n,...e},t)=>S.jsx("h3",{ref:t,className:Gt("text-2xl font-semibold leading-none tracking-tight text-white",n),...e}));ai.displayName="CardTitle";const DA=P.forwardRef(({className:n,...e},t)=>S.jsx("p",{ref:t,className:Gt("text-sm text-[#b0b0b0]",n),...e}));DA.displayName="CardDescription";const $a=P.forwardRef(({className:n,...e},t)=>S.jsx("div",{ref:t,className:Gt("p-6 pt-0",n),...e}));$a.displayName="CardContent";const k3=P.forwardRef(({className:n,...e},t)=>S.jsx("div",{ref:t,className:Gt("flex items-center p-6 pt-0",n),...e}));k3.displayName="CardFooter";const N3=({title:n,description:e,link:t,external:r})=>S.jsx(bt.a,{href:t,target:r?"_blank":"_self",rel:r?"noopener noreferrer":"",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5},className:"block",children:S.jsxs(Ba,{className:"bg-[#1e1e1e] text-white border border-[#2a2a2a] rounded-xl overflow-hidden shadow-lg transition-transform duration-300 hover:scale-[1.02] hover:shadow-2xl hover:border-[#00ff88]",children:[S.jsxs(za,{children:[S.jsxs(ai,{className:"flex justify-between items-center text-[#00ff88]",children:[S.jsx("span",{children:n}),S.jsx(DD,{className:"h-6 w-6 text-[#888888] transition-all duration-300 group-hover:text-[#00ff88]"})]}),S.jsx(DA,{className:"text-[#a0a0a0]",children:e})]}),S.jsx($a,{})]})}),D3=()=>{const{toast:n}=Bd(),e=async()=>{try{await Ua.signOut(),n({title:"Logged Out",description:"You have been successfully logged out.",className:"bg-[#1e1e1e] text-white border-[#00ff88]"})}catch(r){console.error("Error logging out:",r)}},t=[{id:7,title:"The Worry Tree",description:"A CBT-based tool to help you process worries and find actionable solutions or let them go.",link:"/worry-tree",internal:!0},{id:1,title:"E-Commerce Platform",description:"A modern, responsive online shopping experience with seamless checkout and inventory management.",link:"https://github.com/rickdudziak/ecommerce"},{id:2,title:"Task Management App",description:"Intuitive productivity tool with real-time collaboration features and smart notifications.",link:"/tasks",internal:!0},{id:3,title:"Portfolio CMS",description:"Custom content management system built for creative professionals to showcase their work.",link:"https://github.com/rickdudziak/portfolio-cms"},{id:4,title:"Weather Dashboard",description:"Real-time weather tracking application with beautiful data visualizations and forecasts.",link:"/weather",internal:!0},{id:5,title:"Social Media Analytics",description:"Comprehensive analytics platform for tracking engagement metrics across multiple channels.",link:"https://github.com/rickdudziak/social-analytics"},{id:6,title:"Fitness Tracker",description:"Personal health and fitness monitoring app with workout plans and progress tracking.",link:"https://github.com/rickdudziak/fitness-tracker"}];return S.jsxs("div",{className:"min-h-screen",children:[S.jsx(bt.header,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"bg-[#1e1e1e] border-b border-[#2a2a2a] sticky top-0 z-50 backdrop-blur-sm bg-opacity-95",children:S.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[S.jsxs("div",{className:"flex items-center space-x-4",children:[S.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-[#00ff88] to-[#00cc6a] flex items-center justify-center text-[#121212] font-bold",children:"RD"}),S.jsxs("div",{children:[S.jsx("h1",{className:"text-2xl font-bold text-white",children:"My Projects"}),S.jsx("p",{className:"text-sm text-[#888888]",children:"Rick Dudziak"})]})]}),S.jsxs(dt,{onClick:e,variant:"ghost",className:"text-[#e0e0e0] hover:text-white hover:bg-[#2a2a2a] rounded-lg flex items-center space-x-2",children:[S.jsx(WD,{className:"h-5 w-5"}),S.jsx("span",{children:"Logout"})]})]})}),S.jsx("main",{className:"max-w-7xl mx-auto px-6 py-12",children:S.jsx(bt.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2,duration:.6},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map((r,s)=>S.jsx(N3,{title:r.title,description:r.description,link:r.link,external:!r.internal},r.id))})})]})},BE={Sunny:S.jsx(bS,{className:"h-20 w-20 text-yellow-400"}),Cloudy:S.jsx(UD,{className:"h-20 w-20 text-gray-400"}),Rainy:S.jsx(FD,{className:"h-20 w-20 text-blue-400"}),Snowy:S.jsx(jD,{className:"h-20 w-20 text-white"})},kr={city:"San Francisco",temperature:18,condition:"Sunny",high:22,low:14,wind:15,humidity:60,forecast:[{day:"Mon",temp:20,condition:"Sunny"},{day:"Tue",temp:19,condition:"Cloudy"},{day:"Wed",temp:17,condition:"Rainy"},{day:"Thu",temp:21,condition:"Sunny"},{day:"Fri",temp:22,condition:"Sunny"}]},Vh=({icon:n,label:e,value:t,unit:r,delay:s})=>S.jsxs(bt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:s},className:"bg-[#2a2a2a]/50 p-4 rounded-lg flex items-center space-x-3 backdrop-blur-sm",children:[S.jsx("div",{className:"text-[#00ff88]",children:n}),S.jsxs("div",{children:[S.jsx("p",{className:"text-sm text-[#b0b0b0]",children:e}),S.jsxs("p",{className:"text-lg font-bold text-white",children:[t," ",r]})]})]}),V3=({day:n,icon:e,temp:t,delay:r})=>S.jsxs(bt.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5,delay:r},className:"flex flex-col items-center space-y-2 bg-[#2a2a2a]/50 p-4 rounded-lg backdrop-blur-sm",children:[S.jsx("p",{className:"font-bold text-white",children:n}),S.jsx("div",{className:"text-3xl",children:e}),S.jsxs("p",{className:"text-lg text-white",children:[t,"C"]})]}),O3=()=>{const n=Nd();return S.jsxs("div",{className:"min-h-screen p-4 sm:p-6 lg:p-8 bg-gradient-to-br from-[#121212] via-[#1a1a1a] to-[#121212]",children:[S.jsx(bt.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:S.jsxs(dt,{onClick:()=>n("/"),variant:"ghost",className:"mb-6 text-[#e0e0e0] hover:text-white hover:bg-[#2a2a2a]",children:[S.jsx(od,{className:"mr-2 h-4 w-4"})," Back to Projects"]})}),S.jsxs("div",{className:"max-w-4xl mx-auto",children:[S.jsx(bt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"bg-[#1e1e1e]/70 border border-[#2a2a2a] rounded-xl shadow-2xl shadow-black/30 p-6 sm:p-8 mb-8 backdrop-blur-xl",children:S.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-6",children:[S.jsxs("div",{className:"flex-1",children:[S.jsxs("div",{className:"flex items-center space-x-2 text-[#00ff88] mb-2",children:[S.jsx(HD,{className:"h-5 w-5"}),S.jsx("h1",{className:"text-3xl font-bold text-white",children:kr.city})]}),S.jsxs("p",{className:"text-6xl font-extrabold text-white",children:[kr.temperature,"C"]}),S.jsx("p",{className:"text-xl text-[#b0b0b0] mt-1",children:kr.condition})]}),S.jsx(bt.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.7,delay:.3,type:"spring",stiffness:120},children:BE[kr.condition]})]})}),S.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[S.jsx(Vh,{icon:S.jsx(GD,{className:"h-6 w-6"}),label:"High / Low",value:`${kr.high} / ${kr.low}`,unit:"C",delay:.3}),S.jsx(Vh,{icon:S.jsx(YD,{className:"h-6 w-6"}),label:"Wind",value:kr.wind,unit:"km/h",delay:.4}),S.jsx(Vh,{icon:S.jsx(BD,{className:"h-6 w-6"}),label:"Humidity",value:kr.humidity,unit:"%",delay:.5}),S.jsx(Vh,{icon:S.jsx(bS,{className:"h-6 w-6"}),label:"Condition",value:kr.condition,unit:"",delay:.6})]}),S.jsx(bt.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.7},className:"text-2xl font-bold text-white mb-4",children:"5-Day Forecast"}),S.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-4",children:kr.forecast.map((e,t)=>S.jsx(V3,{day:e.day,icon:ut.cloneElement(BE[e.condition],{className:"h-10 w-10"}),temp:e.temp,delay:.8+t*.1},e.day))})]})]})};function ov(n,e=[]){let t=[];function r(a,l){const c=P.createContext(l),d=t.length;t=[...t,l];const p=y=>{const{scope:w,children:I,...k}=y,R=w?.[n]?.[d]||c,A=P.useMemo(()=>k,Object.values(k));return S.jsx(R.Provider,{value:A,children:I})};p.displayName=a+"Provider";function g(y,w){const I=w?.[n]?.[d]||c,k=P.useContext(I);if(k)return k;if(l!==void 0)return l;throw new Error(`\`${y}\` must be used within \`${a}\``)}return[p,g]}const s=()=>{const a=t.map(l=>P.createContext(l));return function(c){const d=c?.[n]||a;return P.useMemo(()=>({[`__scope${n}`]:{...c,[n]:d}}),[c,d])}};return s.scopeName=n,[r,M3(s,...e)]}function M3(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const l=r.reduce((c,{useScope:d,scopeName:p})=>{const y=d(a)[`__scope${p}`];return{...c,...y}},{});return P.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return t.scopeName=e.scopeName,t}function cn(n,e,{checkForDefaultPrevented:t=!0}={}){return function(s){if(n?.(s),t===!1||!s.defaultPrevented)return e?.(s)}}var Ja=globalThis?.document?P.useLayoutEffect:()=>{},L3=HE[" useInsertionEffect ".trim().toString()]||Ja;function VA({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[s,a,l]=F3({defaultProp:e,onChange:t}),c=n!==void 0,d=c?n:s;{const g=P.useRef(n!==void 0);P.useEffect(()=>{const y=g.current;y!==c&&console.warn(`${r} is changing from ${y?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=c},[c,r])}const p=P.useCallback(g=>{if(c){const y=j3(g)?g(n):g;y!==n&&l.current?.(y)}else a(g)},[c,n,a,l]);return[d,p]}function F3({defaultProp:n,onChange:e}){const[t,r]=P.useState(n),s=P.useRef(t),a=P.useRef(e);return L3(()=>{a.current=e},[e]),P.useEffect(()=>{s.current!==t&&(a.current?.(t),s.current=t)},[t,s]),[t,r,a]}function j3(n){return typeof n=="function"}function U3(n){const e=P.useRef({value:n,previous:n});return P.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}function B3(n){const[e,t]=P.useState(void 0);return Ja(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let l,c;if("borderBoxSize"in a){const d=a.borderBoxSize,p=Array.isArray(d)?d[0]:d;l=p.inlineSize,c=p.blockSize}else l=n.offsetWidth,c=n.offsetHeight;t({width:l,height:c})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}function z3(n,e){return P.useReducer((t,r)=>e[t][r]??t,n)}var av=n=>{const{present:e,children:t}=n,r=$3(e),s=typeof t=="function"?t({present:r.isPresent}):P.Children.only(t),a=gi(r.ref,W3(s));return typeof t=="function"||r.isPresent?P.cloneElement(s,{ref:a}):null};av.displayName="Presence";function $3(n){const[e,t]=P.useState(),r=P.useRef(null),s=P.useRef(n),a=P.useRef("none"),l=n?"mounted":"unmounted",[c,d]=z3(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return P.useEffect(()=>{const p=Oh(r.current);a.current=c==="mounted"?p:"none"},[c]),Ja(()=>{const p=r.current,g=s.current;if(g!==n){const w=a.current,I=Oh(p);n?d("MOUNT"):I==="none"||p?.display==="none"?d("UNMOUNT"):d(g&&w!==I?"ANIMATION_OUT":"UNMOUNT"),s.current=n}},[n,d]),Ja(()=>{if(e){let p;const g=e.ownerDocument.defaultView??window,y=I=>{const R=Oh(r.current).includes(CSS.escape(I.animationName));if(I.target===e&&R&&(d("ANIMATION_END"),!s.current)){const A=e.style.animationFillMode;e.style.animationFillMode="forwards",p=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=A)})}},w=I=>{I.target===e&&(a.current=Oh(r.current))};return e.addEventListener("animationstart",w),e.addEventListener("animationcancel",y),e.addEventListener("animationend",y),()=>{g.clearTimeout(p),e.removeEventListener("animationstart",w),e.removeEventListener("animationcancel",y),e.removeEventListener("animationend",y)}}else d("ANIMATION_END")},[e,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:P.useCallback(p=>{r.current=p?getComputedStyle(p):null,t(p)},[])}}function Oh(n){return n?.animationName||"none"}function W3(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var df="Checkbox",[H3]=ov(df),[q3,lv]=H3(df);function G3(n){const{__scopeCheckbox:e,checked:t,children:r,defaultChecked:s,disabled:a,form:l,name:c,onCheckedChange:d,required:p,value:g="on",internal_do_not_use_render:y}=n,[w,I]=VA({prop:t,defaultProp:s??!1,onChange:d,caller:df}),[k,R]=P.useState(null),[A,$]=P.useState(null),U=P.useRef(!1),B=k?!!l||!!k.closest("form"):!0,Q={checked:w,disabled:a,setChecked:I,control:k,setControl:R,name:c,form:l,value:g,hasConsumerStoppedPropagationRef:U,required:p,defaultChecked:ps(s)?!1:s,isFormControl:B,bubbleInput:A,setBubbleInput:$};return S.jsx(q3,{scope:e,...Q,children:K3(y)?y(Q):r})}var OA="CheckboxTrigger",MA=P.forwardRef(({__scopeCheckbox:n,onKeyDown:e,onClick:t,...r},s)=>{const{control:a,value:l,disabled:c,checked:d,required:p,setControl:g,setChecked:y,hasConsumerStoppedPropagationRef:w,isFormControl:I,bubbleInput:k}=lv(OA,n),R=gi(s,g),A=P.useRef(d);return P.useEffect(()=>{const $=a?.form;if($){const U=()=>y(A.current);return $.addEventListener("reset",U),()=>$.removeEventListener("reset",U)}},[a,y]),S.jsx(In.button,{type:"button",role:"checkbox","aria-checked":ps(d)?"mixed":d,"aria-required":p,"data-state":BA(d),"data-disabled":c?"":void 0,disabled:c,value:l,...r,ref:R,onKeyDown:cn(e,$=>{$.key==="Enter"&&$.preventDefault()}),onClick:cn(t,$=>{y(U=>ps(U)?!0:!U),k&&I&&(w.current=$.isPropagationStopped(),w.current||$.stopPropagation())})})});MA.displayName=OA;var uv=P.forwardRef((n,e)=>{const{__scopeCheckbox:t,name:r,checked:s,defaultChecked:a,required:l,disabled:c,value:d,onCheckedChange:p,form:g,...y}=n;return S.jsx(G3,{__scopeCheckbox:t,checked:s,defaultChecked:a,disabled:c,required:l,onCheckedChange:p,name:r,form:g,value:d,internal_do_not_use_render:({isFormControl:w})=>S.jsxs(S.Fragment,{children:[S.jsx(MA,{...y,ref:e,__scopeCheckbox:t}),w&&S.jsx(UA,{__scopeCheckbox:t})]})})});uv.displayName=df;var LA="CheckboxIndicator",FA=P.forwardRef((n,e)=>{const{__scopeCheckbox:t,forceMount:r,...s}=n,a=lv(LA,t);return S.jsx(av,{present:r||ps(a.checked)||a.checked===!0,children:S.jsx(In.span,{"data-state":BA(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...n.style}})})});FA.displayName=LA;var jA="CheckboxBubbleInput",UA=P.forwardRef(({__scopeCheckbox:n,...e},t)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:a,defaultChecked:l,required:c,disabled:d,name:p,value:g,form:y,bubbleInput:w,setBubbleInput:I}=lv(jA,n),k=gi(t,I),R=U3(a),A=B3(r);P.useEffect(()=>{const U=w;if(!U)return;const B=window.HTMLInputElement.prototype,ee=Object.getOwnPropertyDescriptor(B,"checked").set,ie=!s.current;if(R!==a&&ee){const N=new Event("click",{bubbles:ie});U.indeterminate=ps(a),ee.call(U,ps(a)?!1:a),U.dispatchEvent(N)}},[w,R,a,s]);const $=P.useRef(ps(a)?!1:a);return S.jsx(In.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??$.current,required:c,disabled:d,name:p,value:g,form:y,...e,tabIndex:-1,ref:k,style:{...e.style,...A,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});UA.displayName=jA;function K3(n){return typeof n=="function"}function ps(n){return n==="indeterminate"}function BA(n){return ps(n)?"indeterminate":n?"checked":"unchecked"}const zA=P.forwardRef(({className:n,...e},t)=>S.jsx(uv,{ref:t,className:Gt("peer h-5 w-5 shrink-0 rounded-sm border border-[#4a4a4a] ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#00ff88] focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-[#00ff88] data-[state=checked]:text-black data-[state=checked]:border-[#00ff88]",n),...e,children:S.jsx(FA,{className:Gt("flex items-center justify-center text-current"),children:S.jsx(OD,{className:"h-4 w-4"})})}));zA.displayName=uv.displayName;const Q3=({task:n,onToggle:e,onDelete:t,index:r})=>S.jsxs(bt.li,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,x:-50},transition:{duration:.3,delay:r*.05},className:"flex items-center space-x-4 bg-[#2a2a2a]/50 p-3 rounded-lg border border-transparent hover:border-[#00ff88]/30",children:[S.jsx(zA,{id:`task-${n.id}`,checked:n.completed,onCheckedChange:()=>e(n.id),className:"h-6 w-6"}),S.jsx("label",{htmlFor:`task-${n.id}`,className:`flex-1 text-sm font-medium cursor-pointer ${n.completed?"line-through text-[#888]":"text-white"}`,children:n.text}),S.jsx(dt,{variant:"ghost",size:"icon",onClick:()=>t(n.id),className:"text-[#888] hover:text-red-500 h-8 w-8",children:S.jsx(Xm,{className:"h-4 w-4"})})]}),Y3=()=>{const[n,e]=P.useState([]),[t,r]=P.useState(""),s=Nd(),{toast:a}=Bd();P.useEffect(()=>{try{const y=localStorage.getItem("tasks");y&&e(JSON.parse(y))}catch(y){console.error("Failed to parse tasks from localStorage",y),e([])}},[]),P.useEffect(()=>{localStorage.setItem("tasks",JSON.stringify(n))},[n]);const l=y=>{if(y.preventDefault(),t.trim()===""){a({title:"Oops!",description:"Task cannot be empty.",variant:"destructive",className:"bg-red-800 text-white border-red-600"});return}const w={id:Date.now(),text:t,completed:!1};e([w,...n]),r(""),a({title:"Success!",description:"New task has been added.",className:"bg-[#1e1e1e] text-white border-[#00ff88]"})},c=y=>{e(n.map(w=>w.id===y?{...w,completed:!w.completed}:w))},d=y=>{e(n.filter(w=>w.id!==y)),a({title:"Task Removed",description:"The task has been successfully deleted.",className:"bg-[#1e1e1e] text-white border-[#00ff88]"})},p=n.filter(y=>y.completed).length,g=n.length-p;return S.jsxs("div",{className:"min-h-screen p-4 sm:p-6 lg:p-8 bg-gradient-to-br from-[#121212] via-[#1a1a1a] to-[#121212]",children:[S.jsx(bt.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:S.jsxs(dt,{onClick:()=>s("/"),variant:"ghost",className:"mb-6 text-[#e0e0e0] hover:text-white hover:bg-[#2a2a2a]",children:[S.jsx(od,{className:"mr-2 h-4 w-4"})," Back to Projects"]})}),S.jsx("main",{className:"max-w-2xl mx-auto",children:S.jsx(bt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:S.jsxs(Ba,{children:[S.jsx(za,{className:"text-center",children:S.jsxs("div",{className:"flex justify-center items-center gap-3",children:[S.jsx(zD,{className:"h-8 w-8 text-[#00ff88]"}),S.jsx(ai,{className:"text-3xl",children:"Task Manager"})]})}),S.jsxs($a,{children:[S.jsxs("form",{onSubmit:l,className:"flex gap-2 mb-6",children:[S.jsx(li,{type:"text",value:t,onChange:y=>r(y.target.value),placeholder:"Add a new task...",className:"flex-grow"}),S.jsxs(dt,{type:"submit",className:"bg-[#00ff88] hover:bg-[#00dd77] text-[#121212] font-semibold",children:[S.jsx(qD,{className:"h-4 w-4 mr-2"})," Add"]})]}),S.jsxs("div",{className:"flex justify-around mb-6 text-sm",children:[S.jsxs("div",{className:"flex items-center gap-2 text-yellow-400",children:[S.jsx(MD,{className:"h-4 w-4"}),S.jsxs("span",{children:[g," Pending"]})]}),S.jsxs("div",{className:"flex items-center gap-2 text-green-400",children:[S.jsx(VD,{className:"h-4 w-4"}),S.jsxs("span",{children:[p," Completed"]})]})]}),S.jsx(Qm,{children:n.length>0?S.jsx("ul",{className:"space-y-3",children:n.map((y,w)=>S.jsx(Q3,{task:y,onToggle:c,onDelete:d,index:w},y.id))}):S.jsx(bt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-10 text-[#888]",children:S.jsx("p",{children:"No tasks yet. Add one to get started!"})})})]})]})})})]})},X3=({currentUser:n})=>{const[e,t]=P.useState([]),[r,s]=P.useState(""),[a,l]=P.useState(!0),[c,d]=P.useState(!1),[p,g]=P.useState(1),[y,w]=P.useState(null),[I,k]=P.useState("pending"),[R,A]=P.useState(""),[$,U]=P.useState(""),[B,Q]=P.useState(""),{toast:ee}=Bd();P.useEffect(()=>{(async()=>{if(!n){l(!1);return}try{l(!0);const pe=w3(Am(uu,"worries"),T3("userId","==",n.uid)),ne=(await A3(pe)).docs.map(le=>({id:le.id,...le.data()}));t(ne)}catch(pe){console.error("Error fetching worries: ",pe)}finally{l(!1)}})()},[n]);const ie=async(se,pe,Ie=null,ne=null)=>{d(!0);try{const le=await UE(Am(uu,"worries"),{text:se,type:pe,solution:Ie,scheduledDateTime:ne,userId:n.uid,createdAt:new Date,status:"pending"});t([...e,{id:le.id,text:se,type:pe,solution:Ie,scheduledDateTime:ne,status:"pending"}]),O()}catch(le){console.error("Error adding worry: ",le)}finally{d(!1)}},N=async()=>{if(r.trim()!==""){d(!0);try{const se=await UE(Am(uu,"worries"),{text:r,type:"scheduled",solution:null,scheduledDateTime:null,userId:n.uid,createdAt:new Date,status:"pending"});t([...e,{id:se.id,text:r,type:"scheduled",solution:null,scheduledDateTime:null,status:"pending"}]),s(""),ee({title:"Worry Added!",description:"It has been saved as a scheduled worry."})}catch(se){console.error("Error adding worry: ",se)}finally{d(!1)}}},x=async se=>{try{await P3(Pg(uu,"worries",se)),t(e.filter(pe=>pe.id!==se))}catch(pe){console.error("Error deleting worry: ",pe)}},b=async se=>{try{const pe=Pg(uu,"worries",se);await x3(pe,{status:"completed"});const Ie=["Great job tackling that worry!","Another worry conquered!","You're doing amazing!","Way to go! You've got this."],ne=Ie[Math.floor(Math.random()*Ie.length)];t(e.map(le=>le.id===se?{...le,status:"completed"}:le)),ee({title:"Worry Completed!",description:ne})}catch(pe){console.error("Error completing worry: ",pe)}},M=()=>{if(R.trim()!==""&&$!==""&&B!==""){const se=new Date(`${$}T${B}`);ie(r,"scheduled",R,se)}},O=()=>{s(""),g(1),w(null),A(""),U(""),Q("")},L=()=>{g(se=>se-1)},D=e.filter(se=>se.status==="pending"),ae=e.filter(se=>se.status==="completed");return a?S.jsx("div",{className:"min-h-screen bg-[#121212] flex items-center justify-center",children:S.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-[#00ff88] to-[#00cc6a] animate-spin"})}):S.jsxs("div",{className:"min-h-screen p-8 relative overflow-hidden",children:[S.jsx("div",{className:"absolute top-8 left-8",children:S.jsx(bR,{to:"/",children:S.jsxs(dt,{className:"bg-transparent text-[#00ff88] hover:bg-[#1a1a1a] border border-[#333] transition-colors duration-300",children:[S.jsx(od,{className:"h-4 w-4 mr-2"}),"Back to Projects"]})})}),S.jsxs(bt.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},className:"max-w-xl mx-auto space-y-8",children:[S.jsxs("div",{className:"text-center",children:[S.jsx("h1",{className:"text-4xl md:text-5xl font-bold tracking-tight text-[#00ff88]",children:"Worry Tree"}),S.jsx("p",{className:"text-[#a0a0a0] mt-2",children:"A cognitive behavioral therapy tool to help you manage your worries."})]}),p===1&&S.jsxs(Ba,{className:"bg-[#1e1e1e] border border-[#2a2a2a] shadow-lg",children:[S.jsx(za,{children:S.jsx(ai,{className:"text-white",children:"What's on your mind?"})}),S.jsx($a,{children:S.jsxs("div",{className:"flex space-x-2",children:[S.jsx(li,{type:"text",value:r,onChange:se=>s(se.target.value),placeholder:"Write your worry here...",className:"flex-1 bg-[#121212] text-white border-none focus:ring-1 focus:ring-[#00ff88]"}),S.jsxs(dt,{onClick:N,disabled:!r.trim()||c,className:"bg-blue-500 text-white hover:bg-blue-600",children:[S.jsx(ZD,{className:"h-5 w-5 mr-2"})," Quick Add"]}),S.jsxs(dt,{onClick:()=>g(2),disabled:!r.trim(),className:"bg-[#00ff88] text-[#121212] hover:bg-[#00dd77]",children:["Next ",S.jsx(RS,{className:"h-5 w-5 ml-2"})]})]})})]}),p>1&&S.jsxs(Ba,{className:"bg-[#1e1e1e] border border-[#2a2a2a] shadow-lg",children:[S.jsxs(za,{children:[S.jsxs("div",{className:"flex justify-between items-center mb-2 text-sm text-gray-400",children:[p>1&&S.jsxs(bt.button,{onClick:L,className:"flex items-center text-green-400 hover:text-green-500 transition-colors",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[S.jsx(od,{size:16,className:"mr-1"})," Back"]}),S.jsxs("span",{children:["Step ",p-1," of 5"]})]}),p===2&&S.jsx(ai,{className:"text-white",children:"Is this a worry you can do something about?"}),p===3&&y==="actionable"&&S.jsx(ai,{className:"text-white",children:"Can you take action right now?"}),p===4&&y==="let-it-go"&&S.jsx(ai,{className:"text-white",children:"Let it go."}),p===5&&S.jsx(ai,{className:"text-white",children:"What will you do?"}),p===6&&S.jsx(ai,{className:"text-white",children:"Schedule It"})]}),S.jsxs($a,{children:[p===2&&S.jsxs("div",{className:"flex space-x-2",children:[S.jsx(dt,{className:"flex-1 bg-green-500 hover:bg-green-600",onClick:()=>{w("actionable"),g(3)},children:"Yes, I can act"}),S.jsx(dt,{className:"flex-1 bg-red-500 hover:bg-red-600",onClick:()=>{w("let-it-go"),g(4)},children:"No, I can't"})]}),p===3&&y==="actionable"&&S.jsxs("div",{className:"flex space-x-2",children:[S.jsx(dt,{className:"flex-1 bg-green-500 hover:bg-green-600",onClick:()=>g(5),children:"Yes, Now"}),S.jsx(dt,{className:"flex-1 bg-blue-500 hover:bg-blue-600",onClick:()=>g(6),children:"No, Later"})]}),p===4&&y==="let-it-go"&&S.jsxs(S.Fragment,{children:[S.jsx("p",{className:"text-[#a0a0a0] mb-4",children:"If you can't do anything about a worry, it's best to acknowledge it and let it go. This is a key skill in managing anxiety."}),S.jsxs(dt,{onClick:()=>ie(r,y),className:"w-full bg-[#00ff88] text-[#121212] hover:bg-[#00dd77]",children:[S.jsx(um,{className:"h-5 w-5 mr-2"}),"I'm Ready to Let It Go"]})]}),p===5&&S.jsxs("form",{onSubmit:se=>{se.preventDefault();const pe=se.target.solution.value;pe.trim()!==""&&ie(r,y,pe)},className:"flex space-x-2",children:[S.jsx(li,{type:"text",name:"solution",placeholder:"Plan your action...",className:"flex-1 bg-[#121212] text-white border-none focus:ring-1 focus:ring-[#00ff88]"}),S.jsx(dt,{type:"submit",disabled:c,className:"bg-[#00ff88] text-[#121212] hover:bg-[#00dd77]",children:c?S.jsx(Ym,{className:"h-5 w-5 animate-spin"}):"Save"})]}),p===6&&S.jsxs(S.Fragment,{children:[S.jsx("p",{className:"text-[#a0a0a0] mb-4 text-sm",children:"Set a specific date and/or time to deal with this. Once scheduled, let the worry go until then."}),S.jsxs("div",{className:"flex space-x-2",children:[S.jsx(li,{type:"date",className:"flex-1",value:$,onChange:se=>U(se.target.value)}),S.jsx(li,{type:"time",className:"flex-1",value:B,onChange:se=>Q(se.target.value)})]}),S.jsx(li,{type:"text",name:"solution",placeholder:"e.g., Call the bank",className:"w-full mt-4",value:R,onChange:se=>A(se.target.value)}),S.jsx(dt,{className:"w-full mt-4 bg-[#00ff88] text-[#121212] hover:bg-[#00dd77]",onClick:M,children:"Okay, I've Scheduled It"})]})]})]}),S.jsxs(Ba,{className:"bg-[#1e1e1e] border border-[#2a2a2a] shadow-lg",children:[S.jsx(za,{children:S.jsxs("div",{className:"flex justify-between items-center space-x-2",children:[S.jsx(dt,{variant:"ghost",onClick:()=>k("pending"),className:`flex-1 text-center ${I==="pending"?"text-[#00ff88] border-b-2 border-[#00ff88]":"text-[#a0a0a0] border-b-2 border-transparent"}`,children:"Your Worries"}),S.jsx(dt,{variant:"ghost",onClick:()=>k("completed"),className:`flex-1 text-center ${I==="completed"?"text-[#00ff88] border-b-2 border-[#00ff88]":"text-[#a0a0a0] border-b-2 border-transparent"}`,children:"Completed"})]})}),S.jsxs($a,{children:[I==="pending"&&(D.length===0?S.jsx("p",{className:"text-[#a0a0a0] text-center",children:"No pending worries. Add one above!"}):S.jsx("ul",{className:"space-y-4 max-h-96 overflow-y-auto pr-2",children:S.jsx(Qm,{children:D.map(se=>S.jsxs(bt.li,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,x:-50,transition:{duration:.3}},transition:{duration:.4},className:"flex items-center justify-between p-4 bg-[#2a2a2a] rounded-lg shadow-sm transition-all duration-200 hover:bg-[#3a3a3a]",children:[S.jsxs("div",{className:"flex-1 space-y-1",children:[S.jsx("span",{className:"text-white",children:se.text}),se.type&&S.jsx("div",{className:"flex items-center text-sm text-[#a0a0a0]",children:se.type==="actionable"?S.jsxs(S.Fragment,{children:[S.jsx(um,{className:"h-4 w-4 mr-2 text-green-500"}),S.jsx("p",{className:"text-green-500",children:"Actionable"})]}):se.type==="let-it-go"?S.jsxs(S.Fragment,{children:[S.jsx(XD,{className:"h-4 w-4 mr-2 text-red-500"}),S.jsx("p",{className:"text-red-500",children:"Let it go"})]}):S.jsxs(S.Fragment,{children:[S.jsx(LD,{className:"h-4 w-4 mr-2 text-blue-500"}),S.jsx("p",{className:"text-blue-500",children:"Scheduled"})]})}),se.solution&&S.jsxs("p",{className:"text-[#888] text-xs mt-1",children:["Action: ",se.solution]}),se.scheduledDateTime&&S.jsxs("p",{className:"text-[#888] text-xs mt-1",children:["Scheduled for: ",new Date(se.scheduledDateTime.seconds*1e3).toLocaleString()]})]}),S.jsxs("div",{className:"flex space-x-2",children:[S.jsx(dt,{variant:"ghost",size:"icon",onClick:()=>b(se.id),className:"text-[#a0a0a0] hover:text-green-500 transition-colors duration-200",children:S.jsx(um,{className:"h-4 w-4"})}),S.jsx(dt,{variant:"ghost",size:"icon",onClick:()=>x(se.id),className:"text-[#a0a0a0] hover:text-red-500 transition-colors duration-200",children:S.jsx(Xm,{className:"h-4 w-4"})})]})]},se.id))})})),I==="completed"&&(ae.length===0?S.jsx("p",{className:"text-[#a0a0a0] text-center",children:"You haven't completed any worries yet. You're capable of great things!"}):S.jsx("ul",{className:"space-y-4",children:S.jsx(Qm,{children:ae.map(se=>S.jsxs(bt.li,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,x:50,transition:{duration:.3}},transition:{duration:.4},className:"flex items-center justify-between p-4 bg-[#2a2a2a] rounded-lg shadow-sm transition-all duration-200 hover:bg-[#3a3a3a] opacity-60",children:[S.jsxs("div",{className:"flex-1 space-y-1",children:[S.jsx("span",{className:"text-white line-through",children:se.text}),se.solution&&S.jsxs("p",{className:"text-[#888] text-xs mt-1",children:["Action: ",se.solution]})]}),S.jsx(dt,{variant:"ghost",size:"icon",onClick:()=>x(se.id),className:"text-[#a0a0a0] hover:text-red-500 transition-colors duration-200",children:S.jsx(Xm,{className:"h-4 w-4"})})]},se.id))})}))]})]})]})]})};function J3(n){const e=n+"CollectionProvider",[t,r]=ov(e),[s,a]=t(e,{collectionRef:{current:null},itemMap:new Map}),l=R=>{const{scope:A,children:$}=R,U=ut.useRef(null),B=ut.useRef(new Map).current;return S.jsx(s,{scope:A,itemMap:B,collectionRef:U,children:$})};l.displayName=e;const c=n+"CollectionSlot",d=ad(c),p=ut.forwardRef((R,A)=>{const{scope:$,children:U}=R,B=a(c,$),Q=gi(A,B.collectionRef);return S.jsx(d,{ref:Q,children:U})});p.displayName=c;const g=n+"CollectionItemSlot",y="data-radix-collection-item",w=ad(g),I=ut.forwardRef((R,A)=>{const{scope:$,children:U,...B}=R,Q=ut.useRef(null),ee=gi(A,Q),ie=a(g,$);return ut.useEffect(()=>(ie.itemMap.set(Q,{ref:Q,...B}),()=>void ie.itemMap.delete(Q))),S.jsx(w,{[y]:"",ref:ee,children:U})});I.displayName=g;function k(R){const A=a(n+"CollectionConsumer",R);return ut.useCallback(()=>{const U=A.collectionRef.current;if(!U)return[];const B=Array.from(U.querySelectorAll(`[${y}]`));return Array.from(A.itemMap.values()).sort((ie,N)=>B.indexOf(ie.ref.current)-B.indexOf(N.ref.current))},[A.collectionRef,A.itemMap])}return[{Provider:l,Slot:p,ItemSlot:I},k,r]}function So(n){const e=P.useRef(n);return P.useEffect(()=>{e.current=n}),P.useMemo(()=>(...t)=>e.current?.(...t),[])}function Z3(n,e=globalThis?.document){const t=So(n);P.useEffect(()=>{const r=s=>{s.key==="Escape"&&t(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var e5="DismissableLayer",bg="dismissableLayer.update",t5="dismissableLayer.pointerDownOutside",n5="dismissableLayer.focusOutside",zE,$A=P.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),WA=P.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:l,onDismiss:c,...d}=n,p=P.useContext($A),[g,y]=P.useState(null),w=g?.ownerDocument??globalThis?.document,[,I]=P.useState({}),k=gi(e,N=>y(N)),R=Array.from(p.layers),[A]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),$=R.indexOf(A),U=g?R.indexOf(g):-1,B=p.layersWithOutsidePointerEventsDisabled.size>0,Q=U>=$,ee=i5(N=>{const x=N.target,b=[...p.branches].some(M=>M.contains(x));!Q||b||(s?.(N),l?.(N),N.defaultPrevented||c?.())},w),ie=s5(N=>{const x=N.target;[...p.branches].some(M=>M.contains(x))||(a?.(N),l?.(N),N.defaultPrevented||c?.())},w);return Z3(N=>{U===p.layers.size-1&&(r?.(N),!N.defaultPrevented&&c&&(N.preventDefault(),c()))},w),P.useEffect(()=>{if(g)return t&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(zE=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(g)),p.layers.add(g),$E(),()=>{t&&p.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=zE)}},[g,w,t,p]),P.useEffect(()=>()=>{g&&(p.layers.delete(g),p.layersWithOutsidePointerEventsDisabled.delete(g),$E())},[g,p]),P.useEffect(()=>{const N=()=>I({});return document.addEventListener(bg,N),()=>document.removeEventListener(bg,N)},[]),S.jsx(In.div,{...d,ref:k,style:{pointerEvents:B?Q?"auto":"none":void 0,...n.style},onFocusCapture:cn(n.onFocusCapture,ie.onFocusCapture),onBlurCapture:cn(n.onBlurCapture,ie.onBlurCapture),onPointerDownCapture:cn(n.onPointerDownCapture,ee.onPointerDownCapture)})});WA.displayName=e5;var r5="DismissableLayerBranch",HA=P.forwardRef((n,e)=>{const t=P.useContext($A),r=P.useRef(null),s=gi(e,r);return P.useEffect(()=>{const a=r.current;if(a)return t.branches.add(a),()=>{t.branches.delete(a)}},[t.branches]),S.jsx(In.div,{...n,ref:s})});HA.displayName=r5;function i5(n,e=globalThis?.document){const t=So(n),r=P.useRef(!1),s=P.useRef(()=>{});return P.useEffect(()=>{const a=c=>{if(c.target&&!r.current){let d=function(){qA(t5,t,p,{discrete:!0})};const p={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=d,e.addEventListener("click",s.current,{once:!0})):d()}else e.removeEventListener("click",s.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",a),e.removeEventListener("click",s.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function s5(n,e=globalThis?.document){const t=So(n),r=P.useRef(!1);return P.useEffect(()=>{const s=a=>{a.target&&!r.current&&qA(n5,t,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function $E(){const n=new CustomEvent(bg);document.dispatchEvent(n)}function qA(n,e,t,{discrete:r}){const s=t.originalEvent.target,a=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&s.addEventListener(n,e,{once:!0}),r?jS(s,a):s.dispatchEvent(a)}var o5=WA,a5=HA,l5="Portal",GA=P.forwardRef((n,e)=>{const{container:t,...r}=n,[s,a]=P.useState(!1);Ja(()=>a(!0),[]);const l=t||s&&globalThis?.document?.body;return l?RP.createPortal(S.jsx(In.div,{...r,ref:e}),l):null});GA.displayName=l5;var u5=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),c5="VisuallyHidden",cv=P.forwardRef((n,e)=>S.jsx(In.span,{...n,ref:e,style:{...u5,...n.style}}));cv.displayName=c5;var h5="ToastProvider",[KA,d5,f5]=J3("Toast"),[QA]=ov("Toast",[f5]),[F5,ff]=QA(h5),YA="ToastViewport",p5=["F8"],kg="toast.viewportPause",Ng="toast.viewportResume",XA=P.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:r=p5,label:s="Notifications ({hotkey})",...a}=n,l=ff(YA,t),c=d5(t),d=P.useRef(null),p=P.useRef(null),g=P.useRef(null),y=P.useRef(null),w=gi(e,y,l.onViewportChange),I=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),k=l.toastCount>0;P.useEffect(()=>{const A=$=>{r.length!==0&&r.every(B=>$[B]||$.code===B)&&y.current?.focus()};return document.addEventListener("keydown",A),()=>document.removeEventListener("keydown",A)},[r]),P.useEffect(()=>{const A=d.current,$=y.current;if(k&&A&&$){const U=()=>{if(!l.isClosePausedRef.current){const ie=new CustomEvent(kg);$.dispatchEvent(ie),l.isClosePausedRef.current=!0}},B=()=>{if(l.isClosePausedRef.current){const ie=new CustomEvent(Ng);$.dispatchEvent(ie),l.isClosePausedRef.current=!1}},Q=ie=>{!A.contains(ie.relatedTarget)&&B()},ee=()=>{A.contains(document.activeElement)||B()};return A.addEventListener("focusin",U),A.addEventListener("focusout",Q),A.addEventListener("pointermove",U),A.addEventListener("pointerleave",ee),window.addEventListener("blur",U),window.addEventListener("focus",B),()=>{A.removeEventListener("focusin",U),A.removeEventListener("focusout",Q),A.removeEventListener("pointermove",U),A.removeEventListener("pointerleave",ee),window.removeEventListener("blur",U),window.removeEventListener("focus",B)}}},[k,l.isClosePausedRef]);const R=P.useCallback(({tabbingDirection:A})=>{const U=c().map(B=>{const Q=B.ref.current,ee=[Q,...x5(Q)];return A==="forwards"?ee:ee.reverse()});return(A==="forwards"?U.reverse():U).flat()},[c]);return P.useEffect(()=>{const A=y.current;if(A){const $=U=>{const B=U.altKey||U.ctrlKey||U.metaKey;if(U.key==="Tab"&&!B){const ee=document.activeElement,ie=U.shiftKey;if(U.target===A&&ie){p.current?.focus();return}const b=R({tabbingDirection:ie?"backwards":"forwards"}),M=b.findIndex(O=>O===ee);xm(b.slice(M+1))?U.preventDefault():ie?p.current?.focus():g.current?.focus()}};return A.addEventListener("keydown",$),()=>A.removeEventListener("keydown",$)}},[c,R]),S.jsxs(a5,{ref:d,role:"region","aria-label":s.replace("{hotkey}",I),tabIndex:-1,style:{pointerEvents:k?void 0:"none"},children:[k&&S.jsx(Dg,{ref:p,onFocusFromOutsideViewport:()=>{const A=R({tabbingDirection:"forwards"});xm(A)}}),S.jsx(KA.Slot,{scope:t,children:S.jsx(In.ol,{tabIndex:-1,...a,ref:w})}),k&&S.jsx(Dg,{ref:g,onFocusFromOutsideViewport:()=>{const A=R({tabbingDirection:"backwards"});xm(A)}})]})});XA.displayName=YA;var JA="ToastFocusProxy",Dg=P.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:r,...s}=n,a=ff(JA,t);return S.jsx(cv,{tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:l=>{const c=l.relatedTarget;!a.viewport?.contains(c)&&r()}})});Dg.displayName=JA;var sc="Toast",m5="toast.swipeStart",g5="toast.swipeMove",y5="toast.swipeCancel",v5="toast.swipeEnd",ZA=P.forwardRef((n,e)=>{const{forceMount:t,open:r,defaultOpen:s,onOpenChange:a,...l}=n,[c,d]=VA({prop:r,defaultProp:s??!0,onChange:a,caller:sc});return S.jsx(av,{present:t||c,children:S.jsx(T5,{open:c,...l,ref:e,onClose:()=>d(!1),onPause:So(n.onPause),onResume:So(n.onResume),onSwipeStart:cn(n.onSwipeStart,p=>{p.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:cn(n.onSwipeMove,p=>{const{x:g,y}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","move"),p.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${g}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${y}px`)}),onSwipeCancel:cn(n.onSwipeCancel,p=>{p.currentTarget.setAttribute("data-swipe","cancel"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:cn(n.onSwipeEnd,p=>{const{x:g,y}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","end"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${g}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${y}px`),d(!1)})})})});ZA.displayName=sc;var[_5,w5]=QA(sc,{onClose(){}}),T5=P.forwardRef((n,e)=>{const{__scopeToast:t,type:r="foreground",duration:s,open:a,onClose:l,onEscapeKeyDown:c,onPause:d,onResume:p,onSwipeStart:g,onSwipeMove:y,onSwipeCancel:w,onSwipeEnd:I,...k}=n,R=ff(sc,t),[A,$]=P.useState(null),U=gi(e,ae=>$(ae)),B=P.useRef(null),Q=P.useRef(null),ee=s||R.duration,ie=P.useRef(0),N=P.useRef(ee),x=P.useRef(0),{onToastAdd:b,onToastRemove:M}=R,O=So(()=>{A?.contains(document.activeElement)&&R.viewport?.focus(),l()}),L=P.useCallback(ae=>{!ae||ae===1/0||(window.clearTimeout(x.current),ie.current=new Date().getTime(),x.current=window.setTimeout(O,ae))},[O]);P.useEffect(()=>{const ae=R.viewport;if(ae){const se=()=>{L(N.current),p?.()},pe=()=>{const Ie=new Date().getTime()-ie.current;N.current=N.current-Ie,window.clearTimeout(x.current),d?.()};return ae.addEventListener(kg,pe),ae.addEventListener(Ng,se),()=>{ae.removeEventListener(kg,pe),ae.removeEventListener(Ng,se)}}},[R.viewport,ee,d,p,L]),P.useEffect(()=>{a&&!R.isClosePausedRef.current&&L(ee)},[a,ee,R.isClosePausedRef,L]),P.useEffect(()=>(b(),()=>M()),[b,M]);const D=P.useMemo(()=>A?ox(A):null,[A]);return R.viewport?S.jsxs(S.Fragment,{children:[D&&S.jsx(E5,{__scopeToast:t,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:D}),S.jsx(_5,{scope:t,onClose:O,children:Vg.createPortal(S.jsx(KA.ItemSlot,{scope:t,children:S.jsx(o5,{asChild:!0,onEscapeKeyDown:cn(c,()=>{R.isFocusedToastEscapeKeyDownRef.current||O(),R.isFocusedToastEscapeKeyDownRef.current=!1}),children:S.jsx(In.li,{tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":R.swipeDirection,...k,ref:U,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:cn(n.onKeyDown,ae=>{ae.key==="Escape"&&(c?.(ae.nativeEvent),ae.nativeEvent.defaultPrevented||(R.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:cn(n.onPointerDown,ae=>{ae.button===0&&(B.current={x:ae.clientX,y:ae.clientY})}),onPointerMove:cn(n.onPointerMove,ae=>{if(!B.current)return;const se=ae.clientX-B.current.x,pe=ae.clientY-B.current.y,Ie=!!Q.current,ne=["left","right"].includes(R.swipeDirection),le=["left","up"].includes(R.swipeDirection)?Math.min:Math.max,ce=ne?le(0,se):0,j=ne?0:le(0,pe),Y=ae.pointerType==="touch"?10:2,ge={x:ce,y:j},xe={originalEvent:ae,delta:ge};Ie?(Q.current=ge,Mh(g5,y,xe,{discrete:!1})):WE(ge,R.swipeDirection,Y)?(Q.current=ge,Mh(m5,g,xe,{discrete:!1}),ae.target.setPointerCapture(ae.pointerId)):(Math.abs(se)>Y||Math.abs(pe)>Y)&&(B.current=null)}),onPointerUp:cn(n.onPointerUp,ae=>{const se=Q.current,pe=ae.target;if(pe.hasPointerCapture(ae.pointerId)&&pe.releasePointerCapture(ae.pointerId),Q.current=null,B.current=null,se){const Ie=ae.currentTarget,ne={originalEvent:ae,delta:se};WE(se,R.swipeDirection,R.swipeThreshold)?Mh(v5,I,ne,{discrete:!0}):Mh(y5,w,ne,{discrete:!0}),Ie.addEventListener("click",le=>le.preventDefault(),{once:!0})}})})})}),R.viewport)})]}):null}),E5=n=>{const{__scopeToast:e,children:t,...r}=n,s=ff(sc,e),[a,l]=P.useState(!1),[c,d]=P.useState(!1);return C5(()=>l(!0)),P.useEffect(()=>{const p=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(p)},[]),c?null:S.jsx(GA,{asChild:!0,children:S.jsx(cv,{...r,children:a&&S.jsxs(S.Fragment,{children:[s.label," ",t]})})})},I5="ToastTitle",ex=P.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return S.jsx(In.div,{...r,ref:e})});ex.displayName=I5;var S5="ToastDescription",tx=P.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return S.jsx(In.div,{...r,ref:e})});tx.displayName=S5;var nx="ToastAction",rx=P.forwardRef((n,e)=>{const{altText:t,...r}=n;return t.trim()?S.jsx(sx,{altText:t,asChild:!0,children:S.jsx(hv,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${nx}\`. Expected non-empty \`string\`.`),null)});rx.displayName=nx;var ix="ToastClose",hv=P.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n,s=w5(ix,t);return S.jsx(sx,{asChild:!0,children:S.jsx(In.button,{type:"button",...r,ref:e,onClick:cn(n.onClick,s.onClose)})})});hv.displayName=ix;var sx=P.forwardRef((n,e)=>{const{__scopeToast:t,altText:r,...s}=n;return S.jsx(In.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function ox(n){const e=[];return Array.from(n.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),A5(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!s)if(a){const l=r.dataset.radixToastAnnounceAlt;l&&e.push(l)}else e.push(...ox(r))}}),e}function Mh(n,e,t,{discrete:r}){const s=t.originalEvent.currentTarget,a=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&s.addEventListener(n,e,{once:!0}),r?jS(s,a):s.dispatchEvent(a)}var WE=(n,e,t=0)=>{const r=Math.abs(n.x),s=Math.abs(n.y),a=r>s;return e==="left"||e==="right"?a&&r>t:!a&&s>t};function C5(n=()=>{}){const e=So(n);Ja(()=>{let t=0,r=0;return t=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(r)}},[e])}function A5(n){return n.nodeType===n.ELEMENT_NODE}function x5(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function xm(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var ax=XA,lx=ZA,ux=ex,cx=tx,hx=rx,dx=hv;const P5=ut.forwardRef(({className:n,...e},t)=>S.jsx(ax,{ref:t,className:Gt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));P5.displayName=ax.displayName;const R5=ly("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),b5=ut.forwardRef(({className:n,variant:e,...t},r)=>S.jsx(lx,{ref:r,className:Gt(R5({variant:e}),n),...t}));b5.displayName=lx.displayName;const k5=ut.forwardRef(({className:n,...e},t)=>S.jsx(hx,{ref:t,className:Gt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",n),...e}));k5.displayName=hx.displayName;const N5=ut.forwardRef(({className:n,...e},t)=>S.jsx(dx,{ref:t,className:Gt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:S.jsx(JD,{className:"h-4 w-4"})}));N5.displayName=dx.displayName;const D5=ut.forwardRef(({className:n,...e},t)=>S.jsx(ux,{ref:t,className:Gt("text-sm font-semibold",n),...e}));D5.displayName=ux.displayName;const V5=ut.forwardRef(({className:n,...e},t)=>S.jsx(cx,{ref:t,className:Gt("text-sm opacity-90",n),...e}));V5.displayName=cx.displayName;const Lh=({currentUser:n,children:e})=>n?e:S.jsx(Rm,{to:"/login",replace:!0});function O5(){const[n,e]=P.useState(null),[t,r]=P.useState(!0);P.useEffect(()=>CL(Ua,l=>{e(l),r(!1)}),[]);const s=()=>{Ua.signOut()};return t?S.jsx("div",{className:"min-h-screen bg-[#121212] flex items-center justify-center",children:S.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-[#00ff88] to-[#00cc6a] animate-spin"})}):S.jsxs(S.Fragment,{children:[S.jsxs(Om,{children:[S.jsx("title",{children:"Rick Dudziak - Developer & Designer Portfolio"}),S.jsx("meta",{name:"description",content:"Welcome to Rick Dudziak's portfolio. Explore innovative projects and creative design work."})]}),S.jsx("div",{className:"min-h-screen bg-[#121212]",children:S.jsxs(wR,{children:[S.jsx(so,{path:"/login",element:n?S.jsx(Rm,{to:"/"}):S.jsx(b3,{})}),S.jsx(so,{path:"/",element:S.jsx(Lh,{currentUser:n,children:S.jsx(D3,{onLogout:s})})}),S.jsx(so,{path:"/weather",element:S.jsx(Lh,{currentUser:n,children:S.jsx(O3,{})})}),S.jsx(so,{path:"/tasks",element:S.jsx(Lh,{currentUser:n,children:S.jsx(Y3,{})})}),S.jsx(so,{path:"/worry-tree",element:S.jsx(Lh,{currentUser:n,children:S.jsx(X3,{currentUser:n})})}),S.jsx(so,{path:"*",element:S.jsx(Rm,{to:n?"/":"/login"})})]})})]})}PP.createRoot(document.getElementById("root")).render(S.jsx(ut.StrictMode,{children:S.jsx(xR,{children:S.jsx(O5,{})})}));
