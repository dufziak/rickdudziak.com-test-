function vx(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(n,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();function wo(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Np={exports:{}},Yl={},Dp={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cw;function _x(){if(cw)return Oe;cw=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function w(j){return j===null||typeof j!="object"?null:(j=y&&j[y]||j["@@iterator"],typeof j=="function"?j:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,x={};function A(j,Y,pe){this.props=j,this.context=Y,this.refs=x,this.updater=pe||I}A.prototype.isReactComponent={},A.prototype.setState=function(j,Y){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,Y,"setState")},A.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function $(){}$.prototype=A.prototype;function U(j,Y,pe){this.props=j,this.context=Y,this.refs=x,this.updater=pe||I}var B=U.prototype=new $;B.constructor=U,k(B,A.prototype),B.isPureReactComponent=!0;var Q=Array.isArray,te=Object.prototype.hasOwnProperty,se={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function C(j,Y,pe){var Ce,De={},Ne=null,$e=null;if(Y!=null)for(Ce in Y.ref!==void 0&&($e=Y.ref),Y.key!==void 0&&(Ne=""+Y.key),Y)te.call(Y,Ce)&&!N.hasOwnProperty(Ce)&&(De[Ce]=Y[Ce]);var Ue=arguments.length-2;if(Ue===1)De.children=pe;else if(1<Ue){for(var qe=Array(Ue),Et=0;Et<Ue;Et++)qe[Et]=arguments[Et+2];De.children=qe}if(j&&j.defaultProps)for(Ce in Ue=j.defaultProps,Ue)De[Ce]===void 0&&(De[Ce]=Ue[Ce]);return{$$typeof:n,type:j,key:Ne,ref:$e,props:De,_owner:se.current}}function R(j,Y){return{$$typeof:n,type:j.type,key:Y,ref:j.ref,props:j.props,_owner:j._owner}}function M(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function O(j){var Y={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(pe){return Y[pe]})}var L=/\/+/g;function D(j,Y){return typeof j=="object"&&j!==null&&j.key!=null?O(""+j.key):Y.toString(36)}function ae(j,Y,pe,Ce,De){var Ne=typeof j;(Ne==="undefined"||Ne==="boolean")&&(j=null);var $e=!1;if(j===null)$e=!0;else switch(Ne){case"string":case"number":$e=!0;break;case"object":switch(j.$$typeof){case n:case e:$e=!0}}if($e)return $e=j,De=De($e),j=Ce===""?"."+D($e,0):Ce,Q(De)?(pe="",j!=null&&(pe=j.replace(L,"$&/")+"/"),ae(De,Y,pe,"",function(Et){return Et})):De!=null&&(M(De)&&(De=R(De,pe+(!De.key||$e&&$e.key===De.key?"":(""+De.key).replace(L,"$&/")+"/")+j)),Y.push(De)),1;if($e=0,Ce=Ce===""?".":Ce+":",Q(j))for(var Ue=0;Ue<j.length;Ue++){Ne=j[Ue];var qe=Ce+D(Ne,Ue);$e+=ae(Ne,Y,pe,qe,De)}else if(qe=w(j),typeof qe=="function")for(j=qe.call(j),Ue=0;!(Ne=j.next()).done;)Ne=Ne.value,qe=Ce+D(Ne,Ue++),$e+=ae(Ne,Y,pe,qe,De);else if(Ne==="object")throw Y=String(j),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return $e}function Ve(j,Y,pe){if(j==null)return j;var Ce=[],De=0;return ae(j,Ce,"","",function(Ne){return Y.call(pe,Ne,De++)}),Ce}function Se(j){if(j._status===-1){var Y=j._result;Y=Y(),Y.then(function(pe){(j._status===0||j._status===-1)&&(j._status=1,j._result=pe)},function(pe){(j._status===0||j._status===-1)&&(j._status=2,j._result=pe)}),j._status===-1&&(j._status=0,j._result=Y)}if(j._status===1)return j._result.default;throw j._result}var ke={current:null},re={transition:null},ue={ReactCurrentDispatcher:ke,ReactCurrentBatchConfig:re,ReactCurrentOwner:se};function le(){throw Error("act(...) is not supported in production builds of React.")}return Oe.Children={map:Ve,forEach:function(j,Y,pe){Ve(j,function(){Y.apply(this,arguments)},pe)},count:function(j){var Y=0;return Ve(j,function(){Y++}),Y},toArray:function(j){return Ve(j,function(Y){return Y})||[]},only:function(j){if(!M(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Oe.Component=A,Oe.Fragment=t,Oe.Profiler=s,Oe.PureComponent=U,Oe.StrictMode=r,Oe.Suspense=d,Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ue,Oe.act=le,Oe.cloneElement=function(j,Y,pe){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var Ce=k({},j.props),De=j.key,Ne=j.ref,$e=j._owner;if(Y!=null){if(Y.ref!==void 0&&(Ne=Y.ref,$e=se.current),Y.key!==void 0&&(De=""+Y.key),j.type&&j.type.defaultProps)var Ue=j.type.defaultProps;for(qe in Y)te.call(Y,qe)&&!N.hasOwnProperty(qe)&&(Ce[qe]=Y[qe]===void 0&&Ue!==void 0?Ue[qe]:Y[qe])}var qe=arguments.length-2;if(qe===1)Ce.children=pe;else if(1<qe){Ue=Array(qe);for(var Et=0;Et<qe;Et++)Ue[Et]=arguments[Et+2];Ce.children=Ue}return{$$typeof:n,type:j.type,key:De,ref:Ne,props:Ce,_owner:$e}},Oe.createContext=function(j){return j={$$typeof:l,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:a,_context:j},j.Consumer=j},Oe.createElement=C,Oe.createFactory=function(j){var Y=C.bind(null,j);return Y.type=j,Y},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(j){return{$$typeof:c,render:j}},Oe.isValidElement=M,Oe.lazy=function(j){return{$$typeof:g,_payload:{_status:-1,_result:j},_init:Se}},Oe.memo=function(j,Y){return{$$typeof:p,type:j,compare:Y===void 0?null:Y}},Oe.startTransition=function(j){var Y=re.transition;re.transition={};try{j()}finally{re.transition=Y}},Oe.unstable_act=le,Oe.useCallback=function(j,Y){return ke.current.useCallback(j,Y)},Oe.useContext=function(j){return ke.current.useContext(j)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(j){return ke.current.useDeferredValue(j)},Oe.useEffect=function(j,Y){return ke.current.useEffect(j,Y)},Oe.useId=function(){return ke.current.useId()},Oe.useImperativeHandle=function(j,Y,pe){return ke.current.useImperativeHandle(j,Y,pe)},Oe.useInsertionEffect=function(j,Y){return ke.current.useInsertionEffect(j,Y)},Oe.useLayoutEffect=function(j,Y){return ke.current.useLayoutEffect(j,Y)},Oe.useMemo=function(j,Y){return ke.current.useMemo(j,Y)},Oe.useReducer=function(j,Y,pe){return ke.current.useReducer(j,Y,pe)},Oe.useRef=function(j){return ke.current.useRef(j)},Oe.useState=function(j){return ke.current.useState(j)},Oe.useSyncExternalStore=function(j,Y,pe){return ke.current.useSyncExternalStore(j,Y,pe)},Oe.useTransition=function(){return ke.current.useTransition()},Oe.version="18.3.1",Oe}var hw;function Pd(){return hw||(hw=1,Dp.exports=_x()),Dp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dw;function wx(){if(dw)return Yl;dw=1;var n=Pd(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,p){var g,y={},w=null,I=null;p!==void 0&&(w=""+p),d.key!==void 0&&(w=""+d.key),d.ref!==void 0&&(I=d.ref);for(g in d)r.call(d,g)&&!a.hasOwnProperty(g)&&(y[g]=d[g]);if(c&&c.defaultProps)for(g in d=c.defaultProps,d)y[g]===void 0&&(y[g]=d[g]);return{$$typeof:e,type:c,key:w,ref:I,props:y,_owner:s.current}}return Yl.Fragment=t,Yl.jsx=l,Yl.jsxs=l,Yl}var fw;function Tx(){return fw||(fw=1,Np.exports=wx()),Np.exports}var b=Tx(),P=Pd();const lt=wo(P),OE=vx({__proto__:null,default:lt},[P]);var mh={},Vp={exports:{}},yn={},Op={exports:{}},Mp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pw;function Ex(){return pw||(pw=1,(function(n){function e(re,ue){var le=re.length;re.push(ue);e:for(;0<le;){var j=le-1>>>1,Y=re[j];if(0<s(Y,ue))re[j]=ue,re[le]=Y,le=j;else break e}}function t(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var ue=re[0],le=re.pop();if(le!==ue){re[0]=le;e:for(var j=0,Y=re.length,pe=Y>>>1;j<pe;){var Ce=2*(j+1)-1,De=re[Ce],Ne=Ce+1,$e=re[Ne];if(0>s(De,le))Ne<Y&&0>s($e,De)?(re[j]=$e,re[Ne]=le,j=Ne):(re[j]=De,re[Ce]=le,j=Ce);else if(Ne<Y&&0>s($e,le))re[j]=$e,re[Ne]=le,j=Ne;else break e}}return ue}function s(re,ue){var le=re.sortIndex-ue.sortIndex;return le!==0?le:re.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var d=[],p=[],g=1,y=null,w=3,I=!1,k=!1,x=!1,A=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(re){for(var ue=t(p);ue!==null;){if(ue.callback===null)r(p);else if(ue.startTime<=re)r(p),ue.sortIndex=ue.expirationTime,e(d,ue);else break;ue=t(p)}}function Q(re){if(x=!1,B(re),!k)if(t(d)!==null)k=!0,Se(te);else{var ue=t(p);ue!==null&&ke(Q,ue.startTime-re)}}function te(re,ue){k=!1,x&&(x=!1,$(C),C=-1),I=!0;var le=w;try{for(B(ue),y=t(d);y!==null&&(!(y.expirationTime>ue)||re&&!O());){var j=y.callback;if(typeof j=="function"){y.callback=null,w=y.priorityLevel;var Y=j(y.expirationTime<=ue);ue=n.unstable_now(),typeof Y=="function"?y.callback=Y:y===t(d)&&r(d),B(ue)}else r(d);y=t(d)}if(y!==null)var pe=!0;else{var Ce=t(p);Ce!==null&&ke(Q,Ce.startTime-ue),pe=!1}return pe}finally{y=null,w=le,I=!1}}var se=!1,N=null,C=-1,R=5,M=-1;function O(){return!(n.unstable_now()-M<R)}function L(){if(N!==null){var re=n.unstable_now();M=re;var ue=!0;try{ue=N(!0,re)}finally{ue?D():(se=!1,N=null)}}else se=!1}var D;if(typeof U=="function")D=function(){U(L)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,Ve=ae.port2;ae.port1.onmessage=L,D=function(){Ve.postMessage(null)}}else D=function(){A(L,0)};function Se(re){N=re,se||(se=!0,D())}function ke(re,ue){C=A(function(){re(n.unstable_now())},ue)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(re){re.callback=null},n.unstable_continueExecution=function(){k||I||(k=!0,Se(te))},n.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<re?Math.floor(1e3/re):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(re){switch(w){case 1:case 2:case 3:var ue=3;break;default:ue=w}var le=w;w=ue;try{return re()}finally{w=le}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(re,ue){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var le=w;w=re;try{return ue()}finally{w=le}},n.unstable_scheduleCallback=function(re,ue,le){var j=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?j+le:j):le=j,re){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=le+Y,re={id:g++,callback:ue,priorityLevel:re,startTime:le,expirationTime:Y,sortIndex:-1},le>j?(re.sortIndex=le,e(p,re),t(d)===null&&re===t(p)&&(x?($(C),C=-1):x=!0,ke(Q,le-j))):(re.sortIndex=Y,e(d,re),k||I||(k=!0,Se(te))),re},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(re){var ue=w;return function(){var le=w;w=ue;try{return re.apply(this,arguments)}finally{w=le}}}})(Mp)),Mp}var mw;function Ix(){return mw||(mw=1,Op.exports=Ex()),Op.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gw;function Sx(){if(gw)return yn;gw=1;var n=Pd(),e=Ix();function t(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){l(i,o),l(i+"Capture",o)}function l(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function w(i){return d.call(y,i)?!0:d.call(g,i)?!1:p.test(i)?y[i]=!0:(g[i]=!0,!1)}function I(i,o,u,f){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return f?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function k(i,o,u,f){if(o===null||typeof o>"u"||I(i,o,u,f))return!0;if(f)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function x(i,o,u,f,m,v,E){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=f,this.attributeNamespace=m,this.mustUseProperty=u,this.propertyName=i,this.type=o,this.sanitizeURL=v,this.removeEmptyString=E}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){A[i]=new x(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];A[o]=new x(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){A[i]=new x(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){A[i]=new x(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){A[i]=new x(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){A[i]=new x(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){A[i]=new x(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){A[i]=new x(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){A[i]=new x(i,5,!1,i.toLowerCase(),null,!1,!1)});var $=/[\-:]([a-z])/g;function U(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace($,U);A[o]=new x(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace($,U);A[o]=new x(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace($,U);A[o]=new x(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){A[i]=new x(i,1,!1,i.toLowerCase(),null,!1,!1)}),A.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){A[i]=new x(i,1,!1,i.toLowerCase(),null,!0,!0)});function B(i,o,u,f){var m=A.hasOwnProperty(o)?A[o]:null;(m!==null?m.type!==0:f||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(k(o,u,m,f)&&(u=null),f||m===null?w(o)&&(u===null?i.removeAttribute(o):i.setAttribute(o,""+u)):m.mustUseProperty?i[m.propertyName]=u===null?m.type===3?!1:"":u:(o=m.attributeName,f=m.attributeNamespace,u===null?i.removeAttribute(o):(m=m.type,u=m===3||m===4&&u===!0?"":""+u,f?i.setAttributeNS(f,o,u):i.setAttribute(o,u))))}var Q=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,te=Symbol.for("react.element"),se=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),O=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),Ve=Symbol.for("react.memo"),Se=Symbol.for("react.lazy"),ke=Symbol.for("react.offscreen"),re=Symbol.iterator;function ue(i){return i===null||typeof i!="object"?null:(i=re&&i[re]||i["@@iterator"],typeof i=="function"?i:null)}var le=Object.assign,j;function Y(i){if(j===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);j=o&&o[1]||""}return`
`+j+i}var pe=!1;function Ce(i,o){if(!i||pe)return"";pe=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(G){var f=G}Reflect.construct(i,[],o)}else{try{o.call()}catch(G){f=G}i.call(o.prototype)}else{try{throw Error()}catch(G){f=G}i()}}catch(G){if(G&&f&&typeof G.stack=="string"){for(var m=G.stack.split(`
`),v=f.stack.split(`
`),E=m.length-1,V=v.length-1;1<=E&&0<=V&&m[E]!==v[V];)V--;for(;1<=E&&0<=V;E--,V--)if(m[E]!==v[V]){if(E!==1||V!==1)do if(E--,V--,0>V||m[E]!==v[V]){var F=`
`+m[E].replace(" at new "," at ");return i.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",i.displayName)),F}while(1<=E&&0<=V);break}}}finally{pe=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?Y(i):""}function De(i){switch(i.tag){case 5:return Y(i.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return i=Ce(i.type,!1),i;case 11:return i=Ce(i.type.render,!1),i;case 1:return i=Ce(i.type,!0),i;default:return""}}function Ne(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case N:return"Fragment";case se:return"Portal";case R:return"Profiler";case C:return"StrictMode";case D:return"Suspense";case ae:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case O:return(i.displayName||"Context")+".Consumer";case M:return(i._context.displayName||"Context")+".Provider";case L:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Ve:return o=i.displayName||null,o!==null?o:Ne(i.type)||"Memo";case Se:o=i._payload,i=i._init;try{return Ne(i(o))}catch{}}return null}function $e(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ne(o);case 8:return o===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Ue(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function qe(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Et(i){var o=qe(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),f=""+i[o];if(!i.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,v=u.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return m.call(this)},set:function(E){f=""+E,v.call(this,E)}}),Object.defineProperty(i,o,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(E){f=""+E},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function hn(i){i._valueTracker||(i._valueTracker=Et(i))}function ko(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),f="";return i&&(f=qe(i)?i.checked?"true":"false":i.value),i=f,i!==u?(o.setValue(i),!0):!1}function _i(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function No(i,o){var u=o.checked;return le({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function ec(i,o){var u=o.defaultValue==null?"":o.defaultValue,f=o.checked!=null?o.checked:o.defaultChecked;u=Ue(o.value!=null?o.value:u),i._wrapperState={initialChecked:f,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Do(i,o){o=o.checked,o!=null&&B(i,"checked",o,!1)}function Ps(i,o){Do(i,o);var u=Ue(o.value),f=o.type;if(u!=null)f==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(f==="submit"||f==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?It(i,o.type,u):o.hasOwnProperty("defaultValue")&&It(i,o.type,Ue(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function rl(i,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var f=o.type;if(!(f!=="submit"&&f!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,u||o===i.value||(i.value=o),i.defaultValue=o}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function It(i,o,u){(o!=="number"||_i(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var gt=Array.isArray;function Kn(i,o,u,f){if(i=i.options,o){o={};for(var m=0;m<u.length;m++)o["$"+u[m]]=!0;for(u=0;u<i.length;u++)m=o.hasOwnProperty("$"+i[u].value),i[u].selected!==m&&(i[u].selected=m),m&&f&&(i[u].defaultSelected=!0)}else{for(u=""+Ue(u),o=null,m=0;m<i.length;m++){if(i[m].value===u){i[m].selected=!0,f&&(i[m].defaultSelected=!0);return}o!==null||i[m].disabled||(o=i[m])}o!==null&&(o.selected=!0)}}function il(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return le({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function sl(i,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(t(92));if(gt(u)){if(1<u.length)throw Error(t(93));u=u[0]}o=u}o==null&&(o=""),u=o}i._wrapperState={initialValue:Ue(u)}}function tc(i,o){var u=Ue(o.value),f=Ue(o.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),o.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),f!=null&&(i.defaultValue=""+f)}function wi(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function ol(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vo(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?ol(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Ti,nc=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,f,m){MSApp.execUnsafeLocalFunction(function(){return i(o,u,f,m)})}:i})(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(Ti=Ti||document.createElement("div"),Ti.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Ti.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function xs(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var Ei={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rc=["Webkit","ms","Moz","O"];Object.keys(Ei).forEach(function(i){rc.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),Ei[o]=Ei[i]})});function Ii(i,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||Ei.hasOwnProperty(i)&&Ei[i]?(""+o).trim():o+"px"}function Oo(i,o){i=i.style;for(var u in o)if(o.hasOwnProperty(u)){var f=u.indexOf("--")===0,m=Ii(u,o[u],f);u==="float"&&(u="cssFloat"),f?i.setProperty(u,m):i[u]=m}}var al=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qn(i,o){if(o){if(al[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function Mo(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Si=null;function Lo(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var zr=null,$r=null,pt=null;function ll(i){if(i=Ol(i)){if(typeof zr!="function")throw Error(t(280));var o=i.stateNode;o&&(o=bc(o),zr(i.stateNode,i.type,o))}}function Ci(i){$r?pt?pt.push(i):pt=[i]:$r=i}function Ai(){if($r){var i=$r,o=pt;if(pt=$r=null,ll(i),o)for(i=0;i<o.length;i++)ll(o[i])}}function ic(i,o){return i(o)}function sc(){}var dr=!1;function oc(i,o,u){if(dr)return i(o,u);dr=!0;try{return ic(i,o,u)}finally{dr=!1,($r!==null||pt!==null)&&(sc(),Ai())}}function Rs(i,o){var u=i.stateNode;if(u===null)return null;var f=bc(u);if(f===null)return null;u=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(t(231,o,typeof u));return u}var Pi=!1;if(c)try{var xi={};Object.defineProperty(xi,"passive",{get:function(){Pi=!0}}),window.addEventListener("test",xi,xi),window.removeEventListener("test",xi,xi)}catch{Pi=!1}function ac(i,o,u,f,m,v,E,V,F){var G=Array.prototype.slice.call(arguments,3);try{o.apply(u,G)}catch(ee){this.onError(ee)}}var Wr=!1,fr=null,Fo=!1,Dn=null,lc={onError:function(i){Wr=!0,fr=i}};function uc(i,o,u,f,m,v,E,V,F){Wr=!1,fr=null,ac.apply(lc,arguments)}function ul(i,o,u,f,m,v,E,V,F){if(uc.apply(this,arguments),Wr){if(Wr){var G=fr;Wr=!1,fr=null}else throw Error(t(198));Fo||(Fo=!0,Dn=G)}}function Yn(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function cl(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function cc(i){if(Yn(i)!==i)throw Error(t(188))}function hc(i){var o=i.alternate;if(!o){if(o=Yn(i),o===null)throw Error(t(188));return o!==i?null:i}for(var u=i,f=o;;){var m=u.return;if(m===null)break;var v=m.alternate;if(v===null){if(f=m.return,f!==null){u=f;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===u)return cc(m),i;if(v===f)return cc(m),o;v=v.sibling}throw Error(t(188))}if(u.return!==f.return)u=m,f=v;else{for(var E=!1,V=m.child;V;){if(V===u){E=!0,u=m,f=v;break}if(V===f){E=!0,f=m,u=v;break}V=V.sibling}if(!E){for(V=v.child;V;){if(V===u){E=!0,u=v,f=m;break}if(V===f){E=!0,f=v,u=m;break}V=V.sibling}if(!E)throw Error(t(189))}}if(u.alternate!==f)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?i:o}function dc(i){return i=hc(i),i!==null?bs(i):null}function bs(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=bs(i);if(o!==null)return o;i=i.sibling}return null}var hl=e.unstable_scheduleCallback,jo=e.unstable_cancelCallback,ks=e.unstable_shouldYield,Hr=e.unstable_requestPaint,et=e.unstable_now,uf=e.unstable_getCurrentPriorityLevel,Uo=e.unstable_ImmediatePriority,dl=e.unstable_UserBlockingPriority,Ns=e.unstable_NormalPriority,fl=e.unstable_LowPriority,Bo=e.unstable_IdlePriority,Ds=null,En=null;function fc(i){if(En&&typeof En.onCommitFiberRoot=="function")try{En.onCommitFiberRoot(Ds,i,void 0,(i.current.flags&128)===128)}catch{}}var In=Math.clz32?Math.clz32:Vs,pr=Math.log,Vn=Math.LN2;function Vs(i){return i>>>=0,i===0?32:31-(pr(i)/Vn|0)|0}var mr=64,Ri=4194304;function Ge(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function qr(i,o){var u=i.pendingLanes;if(u===0)return 0;var f=0,m=i.suspendedLanes,v=i.pingedLanes,E=u&268435455;if(E!==0){var V=E&~m;V!==0?f=Ge(V):(v&=E,v!==0&&(f=Ge(v)))}else E=u&~m,E!==0?f=Ge(E):v!==0&&(f=Ge(v));if(f===0)return 0;if(o!==0&&o!==f&&(o&m)===0&&(m=f&-f,v=o&-o,m>=v||m===16&&(v&4194240)!==0))return o;if((f&4)!==0&&(f|=u&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=f;0<o;)u=31-In(o),m=1<<u,f|=i[u],o&=~m;return f}function Os(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ms(i,o){for(var u=i.suspendedLanes,f=i.pingedLanes,m=i.expirationTimes,v=i.pendingLanes;0<v;){var E=31-In(v),V=1<<E,F=m[E];F===-1?((V&u)===0||(V&f)!==0)&&(m[E]=Os(V,o)):F<=o&&(i.expiredLanes|=V),v&=~V}}function pl(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function ml(){var i=mr;return mr<<=1,(mr&4194240)===0&&(mr=64),i}function gl(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function Ls(i,o,u){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-In(o),i[o]=u}function cf(i,o){var u=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var f=i.eventTimes;for(i=i.expirationTimes;0<u;){var m=31-In(u),v=1<<m;o[m]=0,f[m]=-1,i[m]=-1,u&=~v}}function yl(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var f=31-In(u),m=1<<f;m&o|i[f]&o&&(i[f]|=o),u&=~m}}var Be=0;function gr(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var vl,zo,_l,wl,Tl,yr=!1,$o=[],vr=null,_r=null,jt=null,Fs=new Map,Gr=new Map,Sn=[],pc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bi(i,o){switch(i){case"focusin":case"focusout":vr=null;break;case"dragenter":case"dragleave":_r=null;break;case"mouseover":case"mouseout":jt=null;break;case"pointerover":case"pointerout":Fs.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gr.delete(o.pointerId)}}function Xn(i,o,u,f,m,v){return i===null||i.nativeEvent!==v?(i={blockedOn:o,domEventName:u,eventSystemFlags:f,nativeEvent:v,targetContainers:[m]},o!==null&&(o=Ol(o),o!==null&&zo(o)),i):(i.eventSystemFlags|=f,o=i.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),i)}function mc(i,o,u,f,m){switch(o){case"focusin":return vr=Xn(vr,i,o,u,f,m),!0;case"dragenter":return _r=Xn(_r,i,o,u,f,m),!0;case"mouseover":return jt=Xn(jt,i,o,u,f,m),!0;case"pointerover":var v=m.pointerId;return Fs.set(v,Xn(Fs.get(v)||null,i,o,u,f,m)),!0;case"gotpointercapture":return v=m.pointerId,Gr.set(v,Xn(Gr.get(v)||null,i,o,u,f,m)),!0}return!1}function Wo(i){var o=zs(i.target);if(o!==null){var u=Yn(o);if(u!==null){if(o=u.tag,o===13){if(o=cl(u),o!==null){i.blockedOn=o,Tl(i.priority,function(){_l(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Ye(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=Ho(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var f=new u.constructor(u.type,u);Si=f,u.target.dispatchEvent(f),Si=null}else return o=Ol(u),o!==null&&zo(o),i.blockedOn=u,!1;o.shift()}return!0}function gc(i,o,u){Ye(i)&&u.delete(o)}function hf(){yr=!1,vr!==null&&Ye(vr)&&(vr=null),_r!==null&&Ye(_r)&&(_r=null),jt!==null&&Ye(jt)&&(jt=null),Fs.forEach(gc),Gr.forEach(gc)}function ki(i,o){i.blockedOn===o&&(i.blockedOn=null,yr||(yr=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,hf)))}function Ni(i){function o(m){return ki(m,i)}if(0<$o.length){ki($o[0],i);for(var u=1;u<$o.length;u++){var f=$o[u];f.blockedOn===i&&(f.blockedOn=null)}}for(vr!==null&&ki(vr,i),_r!==null&&ki(_r,i),jt!==null&&ki(jt,i),Fs.forEach(o),Gr.forEach(o),u=0;u<Sn.length;u++)f=Sn[u],f.blockedOn===i&&(f.blockedOn=null);for(;0<Sn.length&&(u=Sn[0],u.blockedOn===null);)Wo(u),u.blockedOn===null&&Sn.shift()}var Kr=Q.ReactCurrentBatchConfig,Qr=!0;function wr(i,o,u,f){var m=Be,v=Kr.transition;Kr.transition=null;try{Be=1,El(i,o,u,f)}finally{Be=m,Kr.transition=v}}function yc(i,o,u,f){var m=Be,v=Kr.transition;Kr.transition=null;try{Be=4,El(i,o,u,f)}finally{Be=m,Kr.transition=v}}function El(i,o,u,f){if(Qr){var m=Ho(i,o,u,f);if(m===null)Ef(i,o,f,Tr,u),bi(i,f);else if(mc(m,i,o,u,f))f.stopPropagation();else if(bi(i,f),o&4&&-1<pc.indexOf(i)){for(;m!==null;){var v=Ol(m);if(v!==null&&vl(v),v=Ho(i,o,u,f),v===null&&Ef(i,o,f,Tr,u),v===m)break;m=v}m!==null&&f.stopPropagation()}else Ef(i,o,f,null,u)}}var Tr=null;function Ho(i,o,u,f){if(Tr=null,i=Lo(f),i=zs(i),i!==null)if(o=Yn(i),o===null)i=null;else if(u=o.tag,u===13){if(i=cl(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return Tr=i,null}function qo(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uf()){case Uo:return 1;case dl:return 4;case Ns:case fl:return 16;case Bo:return 536870912;default:return 16}default:return 16}}var Cn=null,Go=null,Yr=null;function vc(){if(Yr)return Yr;var i,o=Go,u=o.length,f,m="value"in Cn?Cn.value:Cn.textContent,v=m.length;for(i=0;i<u&&o[i]===m[i];i++);var E=u-i;for(f=1;f<=E&&o[u-f]===m[v-f];f++);return Yr=m.slice(i,1<f?1-f:void 0)}function js(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Er(){return!0}function Il(){return!1}function Kt(i){function o(u,f,m,v,E){this._reactName=u,this._targetInst=m,this.type=f,this.nativeEvent=v,this.target=E,this.currentTarget=null;for(var V in i)i.hasOwnProperty(V)&&(u=i[V],this[V]=u?u(v):v[V]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Er:Il,this.isPropagationStopped=Il,this}return le(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Er)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Er)},persist:function(){},isPersistent:Er}),o}var Ir={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Us=Kt(Ir),Di=le({},Ir,{view:0,detail:0}),Ko=Kt(Di),Qo,Yo,An,Bs=le({},Di,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xe,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==An&&(An&&i.type==="mousemove"?(Qo=i.screenX-An.screenX,Yo=i.screenY-An.screenY):Yo=Qo=0,An=i),Qo)},movementY:function(i){return"movementY"in i?i.movementY:Yo}}),Sl=Kt(Bs),_c=le({},Bs,{dataTransfer:0}),wc=Kt(_c),Xo=le({},Di,{relatedTarget:0}),Ut=Kt(Xo),Tc=le({},Ir,{animationName:0,elapsedTime:0,pseudoElement:0}),Ec=Kt(Tc),Vi=le({},Ir,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),h=Kt(Vi),_=le({},Ir,{data:0}),T=Kt(_),S={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},H={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},K={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oe(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=K[i])?!!o[i]:!1}function xe(){return oe}var yt=le({},Di,{key:function(i){if(i.key){var o=S[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=js(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?H[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xe,charCode:function(i){return i.type==="keypress"?js(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?js(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Qe=Kt(yt),St=le({},Bs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pn=Kt(St),Xr=le({},Di,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xe}),Sr=Kt(Xr),Cr=le({},Ir,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jo=Kt(Cr),Cl=le({},Bs,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),dP=Kt(Cl),fP=[9,13,27,32],df=c&&"CompositionEvent"in window,Al=null;c&&"documentMode"in document&&(Al=document.documentMode);var pP=c&&"TextEvent"in window&&!Al,nv=c&&(!df||Al&&8<Al&&11>=Al),rv=" ",iv=!1;function sv(i,o){switch(i){case"keyup":return fP.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ov(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Zo=!1;function mP(i,o){switch(i){case"compositionend":return ov(o);case"keypress":return o.which!==32?null:(iv=!0,rv);case"textInput":return i=o.data,i===rv&&iv?null:i;default:return null}}function gP(i,o){if(Zo)return i==="compositionend"||!df&&sv(i,o)?(i=vc(),Yr=Go=Cn=null,Zo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return nv&&o.locale!=="ko"?null:o.data;default:return null}}var yP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function av(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!yP[i.type]:o==="textarea"}function lv(i,o,u,f){Ci(f),o=Pc(o,"onChange"),0<o.length&&(u=new Us("onChange","change",null,u,f),i.push({event:u,listeners:o}))}var Pl=null,xl=null;function vP(i){Av(i,0)}function Ic(i){var o=ia(i);if(ko(o))return i}function _P(i,o){if(i==="change")return o}var uv=!1;if(c){var ff;if(c){var pf="oninput"in document;if(!pf){var cv=document.createElement("div");cv.setAttribute("oninput","return;"),pf=typeof cv.oninput=="function"}ff=pf}else ff=!1;uv=ff&&(!document.documentMode||9<document.documentMode)}function hv(){Pl&&(Pl.detachEvent("onpropertychange",dv),xl=Pl=null)}function dv(i){if(i.propertyName==="value"&&Ic(xl)){var o=[];lv(o,xl,i,Lo(i)),oc(vP,o)}}function wP(i,o,u){i==="focusin"?(hv(),Pl=o,xl=u,Pl.attachEvent("onpropertychange",dv)):i==="focusout"&&hv()}function TP(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ic(xl)}function EP(i,o){if(i==="click")return Ic(o)}function IP(i,o){if(i==="input"||i==="change")return Ic(o)}function SP(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Jn=typeof Object.is=="function"?Object.is:SP;function Rl(i,o){if(Jn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),f=Object.keys(o);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var m=u[f];if(!d.call(o,m)||!Jn(i[m],o[m]))return!1}return!0}function fv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function pv(i,o){var u=fv(i);i=0;for(var f;u;){if(u.nodeType===3){if(f=i+u.textContent.length,i<=o&&f>=o)return{node:u,offset:o-i};i=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=fv(u)}}function mv(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?mv(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function gv(){for(var i=window,o=_i();o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=_i(i.document)}return o}function mf(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function CP(i){var o=gv(),u=i.focusedElem,f=i.selectionRange;if(o!==u&&u&&u.ownerDocument&&mv(u.ownerDocument.documentElement,u)){if(f!==null&&mf(u)){if(o=f.start,i=f.end,i===void 0&&(i=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(i,u.value.length);else if(i=(o=u.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var m=u.textContent.length,v=Math.min(f.start,m);f=f.end===void 0?v:Math.min(f.end,m),!i.extend&&v>f&&(m=f,f=v,v=m),m=pv(u,v);var E=pv(u,f);m&&E&&(i.rangeCount!==1||i.anchorNode!==m.node||i.anchorOffset!==m.offset||i.focusNode!==E.node||i.focusOffset!==E.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),i.removeAllRanges(),v>f?(i.addRange(o),i.extend(E.node,E.offset)):(o.setEnd(E.node,E.offset),i.addRange(o)))}}for(o=[],i=u;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)i=o[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var AP=c&&"documentMode"in document&&11>=document.documentMode,ea=null,gf=null,bl=null,yf=!1;function yv(i,o,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;yf||ea==null||ea!==_i(f)||(f=ea,"selectionStart"in f&&mf(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),bl&&Rl(bl,f)||(bl=f,f=Pc(gf,"onSelect"),0<f.length&&(o=new Us("onSelect","select",null,o,u),i.push({event:o,listeners:f}),o.target=ea)))}function Sc(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var ta={animationend:Sc("Animation","AnimationEnd"),animationiteration:Sc("Animation","AnimationIteration"),animationstart:Sc("Animation","AnimationStart"),transitionend:Sc("Transition","TransitionEnd")},vf={},vv={};c&&(vv=document.createElement("div").style,"AnimationEvent"in window||(delete ta.animationend.animation,delete ta.animationiteration.animation,delete ta.animationstart.animation),"TransitionEvent"in window||delete ta.transitionend.transition);function Cc(i){if(vf[i])return vf[i];if(!ta[i])return i;var o=ta[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in vv)return vf[i]=o[u];return i}var _v=Cc("animationend"),wv=Cc("animationiteration"),Tv=Cc("animationstart"),Ev=Cc("transitionend"),Iv=new Map,Sv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Oi(i,o){Iv.set(i,o),a(o,[i])}for(var _f=0;_f<Sv.length;_f++){var wf=Sv[_f],PP=wf.toLowerCase(),xP=wf[0].toUpperCase()+wf.slice(1);Oi(PP,"on"+xP)}Oi(_v,"onAnimationEnd"),Oi(wv,"onAnimationIteration"),Oi(Tv,"onAnimationStart"),Oi("dblclick","onDoubleClick"),Oi("focusin","onFocus"),Oi("focusout","onBlur"),Oi(Ev,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RP=new Set("cancel close invalid load scroll toggle".split(" ").concat(kl));function Cv(i,o,u){var f=i.type||"unknown-event";i.currentTarget=u,ul(f,o,void 0,i),i.currentTarget=null}function Av(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var f=i[u],m=f.event;f=f.listeners;e:{var v=void 0;if(o)for(var E=f.length-1;0<=E;E--){var V=f[E],F=V.instance,G=V.currentTarget;if(V=V.listener,F!==v&&m.isPropagationStopped())break e;Cv(m,V,G),v=F}else for(E=0;E<f.length;E++){if(V=f[E],F=V.instance,G=V.currentTarget,V=V.listener,F!==v&&m.isPropagationStopped())break e;Cv(m,V,G),v=F}}}if(Fo)throw i=Dn,Fo=!1,Dn=null,i}function tt(i,o){var u=o[xf];u===void 0&&(u=o[xf]=new Set);var f=i+"__bubble";u.has(f)||(Pv(o,i,2,!1),u.add(f))}function Tf(i,o,u){var f=0;o&&(f|=4),Pv(u,i,f,o)}var Ac="_reactListening"+Math.random().toString(36).slice(2);function Nl(i){if(!i[Ac]){i[Ac]=!0,r.forEach(function(u){u!=="selectionchange"&&(RP.has(u)||Tf(u,!1,i),Tf(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Ac]||(o[Ac]=!0,Tf("selectionchange",!1,o))}}function Pv(i,o,u,f){switch(qo(o)){case 1:var m=wr;break;case 4:m=yc;break;default:m=El}u=m.bind(null,o,u,i),m=void 0,!Pi||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),f?m!==void 0?i.addEventListener(o,u,{capture:!0,passive:m}):i.addEventListener(o,u,!0):m!==void 0?i.addEventListener(o,u,{passive:m}):i.addEventListener(o,u,!1)}function Ef(i,o,u,f,m){var v=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var E=f.tag;if(E===3||E===4){var V=f.stateNode.containerInfo;if(V===m||V.nodeType===8&&V.parentNode===m)break;if(E===4)for(E=f.return;E!==null;){var F=E.tag;if((F===3||F===4)&&(F=E.stateNode.containerInfo,F===m||F.nodeType===8&&F.parentNode===m))return;E=E.return}for(;V!==null;){if(E=zs(V),E===null)return;if(F=E.tag,F===5||F===6){f=v=E;continue e}V=V.parentNode}}f=f.return}oc(function(){var G=v,ee=Lo(u),ne=[];e:{var Z=Iv.get(i);if(Z!==void 0){var ce=Us,me=i;switch(i){case"keypress":if(js(u)===0)break e;case"keydown":case"keyup":ce=Qe;break;case"focusin":me="focus",ce=Ut;break;case"focusout":me="blur",ce=Ut;break;case"beforeblur":case"afterblur":ce=Ut;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=Sl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=wc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=Sr;break;case _v:case wv:case Tv:ce=Ec;break;case Ev:ce=Jo;break;case"scroll":ce=Ko;break;case"wheel":ce=dP;break;case"copy":case"cut":case"paste":ce=h;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=Pn}var ge=(o&4)!==0,vt=!ge&&i==="scroll",W=ge?Z!==null?Z+"Capture":null:Z;ge=[];for(var z=G,q;z!==null;){q=z;var ie=q.stateNode;if(q.tag===5&&ie!==null&&(q=ie,W!==null&&(ie=Rs(z,W),ie!=null&&ge.push(Dl(z,ie,q)))),vt)break;z=z.return}0<ge.length&&(Z=new ce(Z,me,null,u,ee),ne.push({event:Z,listeners:ge}))}}if((o&7)===0){e:{if(Z=i==="mouseover"||i==="pointerover",ce=i==="mouseout"||i==="pointerout",Z&&u!==Si&&(me=u.relatedTarget||u.fromElement)&&(zs(me)||me[Jr]))break e;if((ce||Z)&&(Z=ee.window===ee?ee:(Z=ee.ownerDocument)?Z.defaultView||Z.parentWindow:window,ce?(me=u.relatedTarget||u.toElement,ce=G,me=me?zs(me):null,me!==null&&(vt=Yn(me),me!==vt||me.tag!==5&&me.tag!==6)&&(me=null)):(ce=null,me=G),ce!==me)){if(ge=Sl,ie="onMouseLeave",W="onMouseEnter",z="mouse",(i==="pointerout"||i==="pointerover")&&(ge=Pn,ie="onPointerLeave",W="onPointerEnter",z="pointer"),vt=ce==null?Z:ia(ce),q=me==null?Z:ia(me),Z=new ge(ie,z+"leave",ce,u,ee),Z.target=vt,Z.relatedTarget=q,ie=null,zs(ee)===G&&(ge=new ge(W,z+"enter",me,u,ee),ge.target=q,ge.relatedTarget=vt,ie=ge),vt=ie,ce&&me)t:{for(ge=ce,W=me,z=0,q=ge;q;q=na(q))z++;for(q=0,ie=W;ie;ie=na(ie))q++;for(;0<z-q;)ge=na(ge),z--;for(;0<q-z;)W=na(W),q--;for(;z--;){if(ge===W||W!==null&&ge===W.alternate)break t;ge=na(ge),W=na(W)}ge=null}else ge=null;ce!==null&&xv(ne,Z,ce,ge,!1),me!==null&&vt!==null&&xv(ne,vt,me,ge,!0)}}e:{if(Z=G?ia(G):window,ce=Z.nodeName&&Z.nodeName.toLowerCase(),ce==="select"||ce==="input"&&Z.type==="file")var ye=_P;else if(av(Z))if(uv)ye=IP;else{ye=TP;var _e=wP}else(ce=Z.nodeName)&&ce.toLowerCase()==="input"&&(Z.type==="checkbox"||Z.type==="radio")&&(ye=EP);if(ye&&(ye=ye(i,G))){lv(ne,ye,u,ee);break e}_e&&_e(i,Z,G),i==="focusout"&&(_e=Z._wrapperState)&&_e.controlled&&Z.type==="number"&&It(Z,"number",Z.value)}switch(_e=G?ia(G):window,i){case"focusin":(av(_e)||_e.contentEditable==="true")&&(ea=_e,gf=G,bl=null);break;case"focusout":bl=gf=ea=null;break;case"mousedown":yf=!0;break;case"contextmenu":case"mouseup":case"dragend":yf=!1,yv(ne,u,ee);break;case"selectionchange":if(AP)break;case"keydown":case"keyup":yv(ne,u,ee)}var we;if(df)e:{switch(i){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else Zo?sv(i,u)&&(Ae="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Ae="onCompositionStart");Ae&&(nv&&u.locale!=="ko"&&(Zo||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&Zo&&(we=vc()):(Cn=ee,Go="value"in Cn?Cn.value:Cn.textContent,Zo=!0)),_e=Pc(G,Ae),0<_e.length&&(Ae=new T(Ae,i,null,u,ee),ne.push({event:Ae,listeners:_e}),we?Ae.data=we:(we=ov(u),we!==null&&(Ae.data=we)))),(we=pP?mP(i,u):gP(i,u))&&(G=Pc(G,"onBeforeInput"),0<G.length&&(ee=new T("onBeforeInput","beforeinput",null,u,ee),ne.push({event:ee,listeners:G}),ee.data=we))}Av(ne,o)})}function Dl(i,o,u){return{instance:i,listener:o,currentTarget:u}}function Pc(i,o){for(var u=o+"Capture",f=[];i!==null;){var m=i,v=m.stateNode;m.tag===5&&v!==null&&(m=v,v=Rs(i,u),v!=null&&f.unshift(Dl(i,v,m)),v=Rs(i,o),v!=null&&f.push(Dl(i,v,m))),i=i.return}return f}function na(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function xv(i,o,u,f,m){for(var v=o._reactName,E=[];u!==null&&u!==f;){var V=u,F=V.alternate,G=V.stateNode;if(F!==null&&F===f)break;V.tag===5&&G!==null&&(V=G,m?(F=Rs(u,v),F!=null&&E.unshift(Dl(u,F,V))):m||(F=Rs(u,v),F!=null&&E.push(Dl(u,F,V)))),u=u.return}E.length!==0&&i.push({event:o,listeners:E})}var bP=/\r\n?/g,kP=/\u0000|\uFFFD/g;function Rv(i){return(typeof i=="string"?i:""+i).replace(bP,`
`).replace(kP,"")}function xc(i,o,u){if(o=Rv(o),Rv(i)!==o&&u)throw Error(t(425))}function Rc(){}var If=null,Sf=null;function Cf(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Af=typeof setTimeout=="function"?setTimeout:void 0,NP=typeof clearTimeout=="function"?clearTimeout:void 0,bv=typeof Promise=="function"?Promise:void 0,DP=typeof queueMicrotask=="function"?queueMicrotask:typeof bv<"u"?function(i){return bv.resolve(null).then(i).catch(VP)}:Af;function VP(i){setTimeout(function(){throw i})}function Pf(i,o){var u=o,f=0;do{var m=u.nextSibling;if(i.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(f===0){i.removeChild(m),Ni(o);return}f--}else u!=="$"&&u!=="$?"&&u!=="$!"||f++;u=m}while(u);Ni(o)}function Mi(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function kv(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return i;o--}else u==="/$"&&o++}i=i.previousSibling}return null}var ra=Math.random().toString(36).slice(2),Ar="__reactFiber$"+ra,Vl="__reactProps$"+ra,Jr="__reactContainer$"+ra,xf="__reactEvents$"+ra,OP="__reactListeners$"+ra,MP="__reactHandles$"+ra;function zs(i){var o=i[Ar];if(o)return o;for(var u=i.parentNode;u;){if(o=u[Jr]||u[Ar]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=kv(i);i!==null;){if(u=i[Ar])return u;i=kv(i)}return o}i=u,u=i.parentNode}return null}function Ol(i){return i=i[Ar]||i[Jr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function ia(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function bc(i){return i[Vl]||null}var Rf=[],sa=-1;function Li(i){return{current:i}}function nt(i){0>sa||(i.current=Rf[sa],Rf[sa]=null,sa--)}function Xe(i,o){sa++,Rf[sa]=i.current,i.current=o}var Fi={},Qt=Li(Fi),dn=Li(!1),$s=Fi;function oa(i,o){var u=i.type.contextTypes;if(!u)return Fi;var f=i.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===o)return f.__reactInternalMemoizedMaskedChildContext;var m={},v;for(v in u)m[v]=o[v];return f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=m),m}function fn(i){return i=i.childContextTypes,i!=null}function kc(){nt(dn),nt(Qt)}function Nv(i,o,u){if(Qt.current!==Fi)throw Error(t(168));Xe(Qt,o),Xe(dn,u)}function Dv(i,o,u){var f=i.stateNode;if(o=o.childContextTypes,typeof f.getChildContext!="function")return u;f=f.getChildContext();for(var m in f)if(!(m in o))throw Error(t(108,$e(i)||"Unknown",m));return le({},u,f)}function Nc(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Fi,$s=Qt.current,Xe(Qt,i),Xe(dn,dn.current),!0}function Vv(i,o,u){var f=i.stateNode;if(!f)throw Error(t(169));u?(i=Dv(i,o,$s),f.__reactInternalMemoizedMergedChildContext=i,nt(dn),nt(Qt),Xe(Qt,i)):nt(dn),Xe(dn,u)}var Zr=null,Dc=!1,bf=!1;function Ov(i){Zr===null?Zr=[i]:Zr.push(i)}function LP(i){Dc=!0,Ov(i)}function ji(){if(!bf&&Zr!==null){bf=!0;var i=0,o=Be;try{var u=Zr;for(Be=1;i<u.length;i++){var f=u[i];do f=f(!0);while(f!==null)}Zr=null,Dc=!1}catch(m){throw Zr!==null&&(Zr=Zr.slice(i+1)),hl(Uo,ji),m}finally{Be=o,bf=!1}}return null}var aa=[],la=0,Vc=null,Oc=0,On=[],Mn=0,Ws=null,ei=1,ti="";function Hs(i,o){aa[la++]=Oc,aa[la++]=Vc,Vc=i,Oc=o}function Mv(i,o,u){On[Mn++]=ei,On[Mn++]=ti,On[Mn++]=Ws,Ws=i;var f=ei;i=ti;var m=32-In(f)-1;f&=~(1<<m),u+=1;var v=32-In(o)+m;if(30<v){var E=m-m%5;v=(f&(1<<E)-1).toString(32),f>>=E,m-=E,ei=1<<32-In(o)+m|u<<m|f,ti=v+i}else ei=1<<v|u<<m|f,ti=i}function kf(i){i.return!==null&&(Hs(i,1),Mv(i,1,0))}function Nf(i){for(;i===Vc;)Vc=aa[--la],aa[la]=null,Oc=aa[--la],aa[la]=null;for(;i===Ws;)Ws=On[--Mn],On[Mn]=null,ti=On[--Mn],On[Mn]=null,ei=On[--Mn],On[Mn]=null}var xn=null,Rn=null,st=!1,Zn=null;function Lv(i,o){var u=Un(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=i,o=i.deletions,o===null?(i.deletions=[u],i.flags|=16):o.push(u)}function Fv(i,o){switch(i.tag){case 5:var u=i.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,xn=i,Rn=Mi(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,xn=i,Rn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=Ws!==null?{id:ei,overflow:ti}:null,i.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=Un(18,null,null,0),u.stateNode=o,u.return=i,i.child=u,xn=i,Rn=null,!0):!1;default:return!1}}function Df(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Vf(i){if(st){var o=Rn;if(o){var u=o;if(!Fv(i,o)){if(Df(i))throw Error(t(418));o=Mi(u.nextSibling);var f=xn;o&&Fv(i,o)?Lv(f,u):(i.flags=i.flags&-4097|2,st=!1,xn=i)}}else{if(Df(i))throw Error(t(418));i.flags=i.flags&-4097|2,st=!1,xn=i}}}function jv(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;xn=i}function Mc(i){if(i!==xn)return!1;if(!st)return jv(i),st=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!Cf(i.type,i.memoizedProps)),o&&(o=Rn)){if(Df(i))throw Uv(),Error(t(418));for(;o;)Lv(i,o),o=Mi(o.nextSibling)}if(jv(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(o===0){Rn=Mi(i.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}i=i.nextSibling}Rn=null}}else Rn=xn?Mi(i.stateNode.nextSibling):null;return!0}function Uv(){for(var i=Rn;i;)i=Mi(i.nextSibling)}function ua(){Rn=xn=null,st=!1}function Of(i){Zn===null?Zn=[i]:Zn.push(i)}var FP=Q.ReactCurrentBatchConfig;function Ml(i,o,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var f=u.stateNode}if(!f)throw Error(t(147,i));var m=f,v=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===v?o.ref:(o=function(E){var V=m.refs;E===null?delete V[v]:V[v]=E},o._stringRef=v,o)}if(typeof i!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,i))}return i}function Lc(i,o){throw i=Object.prototype.toString.call(o),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function Bv(i){var o=i._init;return o(i._payload)}function zv(i){function o(W,z){if(i){var q=W.deletions;q===null?(W.deletions=[z],W.flags|=16):q.push(z)}}function u(W,z){if(!i)return null;for(;z!==null;)o(W,z),z=z.sibling;return null}function f(W,z){for(W=new Map;z!==null;)z.key!==null?W.set(z.key,z):W.set(z.index,z),z=z.sibling;return W}function m(W,z){return W=Gi(W,z),W.index=0,W.sibling=null,W}function v(W,z,q){return W.index=q,i?(q=W.alternate,q!==null?(q=q.index,q<z?(W.flags|=2,z):q):(W.flags|=2,z)):(W.flags|=1048576,z)}function E(W){return i&&W.alternate===null&&(W.flags|=2),W}function V(W,z,q,ie){return z===null||z.tag!==6?(z=Ap(q,W.mode,ie),z.return=W,z):(z=m(z,q),z.return=W,z)}function F(W,z,q,ie){var ye=q.type;return ye===N?ee(W,z,q.props.children,ie,q.key):z!==null&&(z.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===Se&&Bv(ye)===z.type)?(ie=m(z,q.props),ie.ref=Ml(W,z,q),ie.return=W,ie):(ie=ah(q.type,q.key,q.props,null,W.mode,ie),ie.ref=Ml(W,z,q),ie.return=W,ie)}function G(W,z,q,ie){return z===null||z.tag!==4||z.stateNode.containerInfo!==q.containerInfo||z.stateNode.implementation!==q.implementation?(z=Pp(q,W.mode,ie),z.return=W,z):(z=m(z,q.children||[]),z.return=W,z)}function ee(W,z,q,ie,ye){return z===null||z.tag!==7?(z=Zs(q,W.mode,ie,ye),z.return=W,z):(z=m(z,q),z.return=W,z)}function ne(W,z,q){if(typeof z=="string"&&z!==""||typeof z=="number")return z=Ap(""+z,W.mode,q),z.return=W,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case te:return q=ah(z.type,z.key,z.props,null,W.mode,q),q.ref=Ml(W,null,z),q.return=W,q;case se:return z=Pp(z,W.mode,q),z.return=W,z;case Se:var ie=z._init;return ne(W,ie(z._payload),q)}if(gt(z)||ue(z))return z=Zs(z,W.mode,q,null),z.return=W,z;Lc(W,z)}return null}function Z(W,z,q,ie){var ye=z!==null?z.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return ye!==null?null:V(W,z,""+q,ie);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case te:return q.key===ye?F(W,z,q,ie):null;case se:return q.key===ye?G(W,z,q,ie):null;case Se:return ye=q._init,Z(W,z,ye(q._payload),ie)}if(gt(q)||ue(q))return ye!==null?null:ee(W,z,q,ie,null);Lc(W,q)}return null}function ce(W,z,q,ie,ye){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return W=W.get(q)||null,V(z,W,""+ie,ye);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case te:return W=W.get(ie.key===null?q:ie.key)||null,F(z,W,ie,ye);case se:return W=W.get(ie.key===null?q:ie.key)||null,G(z,W,ie,ye);case Se:var _e=ie._init;return ce(W,z,q,_e(ie._payload),ye)}if(gt(ie)||ue(ie))return W=W.get(q)||null,ee(z,W,ie,ye,null);Lc(z,ie)}return null}function me(W,z,q,ie){for(var ye=null,_e=null,we=z,Ae=z=0,Mt=null;we!==null&&Ae<q.length;Ae++){we.index>Ae?(Mt=we,we=null):Mt=we.sibling;var He=Z(W,we,q[Ae],ie);if(He===null){we===null&&(we=Mt);break}i&&we&&He.alternate===null&&o(W,we),z=v(He,z,Ae),_e===null?ye=He:_e.sibling=He,_e=He,we=Mt}if(Ae===q.length)return u(W,we),st&&Hs(W,Ae),ye;if(we===null){for(;Ae<q.length;Ae++)we=ne(W,q[Ae],ie),we!==null&&(z=v(we,z,Ae),_e===null?ye=we:_e.sibling=we,_e=we);return st&&Hs(W,Ae),ye}for(we=f(W,we);Ae<q.length;Ae++)Mt=ce(we,W,Ae,q[Ae],ie),Mt!==null&&(i&&Mt.alternate!==null&&we.delete(Mt.key===null?Ae:Mt.key),z=v(Mt,z,Ae),_e===null?ye=Mt:_e.sibling=Mt,_e=Mt);return i&&we.forEach(function(Ki){return o(W,Ki)}),st&&Hs(W,Ae),ye}function ge(W,z,q,ie){var ye=ue(q);if(typeof ye!="function")throw Error(t(150));if(q=ye.call(q),q==null)throw Error(t(151));for(var _e=ye=null,we=z,Ae=z=0,Mt=null,He=q.next();we!==null&&!He.done;Ae++,He=q.next()){we.index>Ae?(Mt=we,we=null):Mt=we.sibling;var Ki=Z(W,we,He.value,ie);if(Ki===null){we===null&&(we=Mt);break}i&&we&&Ki.alternate===null&&o(W,we),z=v(Ki,z,Ae),_e===null?ye=Ki:_e.sibling=Ki,_e=Ki,we=Mt}if(He.done)return u(W,we),st&&Hs(W,Ae),ye;if(we===null){for(;!He.done;Ae++,He=q.next())He=ne(W,He.value,ie),He!==null&&(z=v(He,z,Ae),_e===null?ye=He:_e.sibling=He,_e=He);return st&&Hs(W,Ae),ye}for(we=f(W,we);!He.done;Ae++,He=q.next())He=ce(we,W,Ae,He.value,ie),He!==null&&(i&&He.alternate!==null&&we.delete(He.key===null?Ae:He.key),z=v(He,z,Ae),_e===null?ye=He:_e.sibling=He,_e=He);return i&&we.forEach(function(yx){return o(W,yx)}),st&&Hs(W,Ae),ye}function vt(W,z,q,ie){if(typeof q=="object"&&q!==null&&q.type===N&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case te:e:{for(var ye=q.key,_e=z;_e!==null;){if(_e.key===ye){if(ye=q.type,ye===N){if(_e.tag===7){u(W,_e.sibling),z=m(_e,q.props.children),z.return=W,W=z;break e}}else if(_e.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===Se&&Bv(ye)===_e.type){u(W,_e.sibling),z=m(_e,q.props),z.ref=Ml(W,_e,q),z.return=W,W=z;break e}u(W,_e);break}else o(W,_e);_e=_e.sibling}q.type===N?(z=Zs(q.props.children,W.mode,ie,q.key),z.return=W,W=z):(ie=ah(q.type,q.key,q.props,null,W.mode,ie),ie.ref=Ml(W,z,q),ie.return=W,W=ie)}return E(W);case se:e:{for(_e=q.key;z!==null;){if(z.key===_e)if(z.tag===4&&z.stateNode.containerInfo===q.containerInfo&&z.stateNode.implementation===q.implementation){u(W,z.sibling),z=m(z,q.children||[]),z.return=W,W=z;break e}else{u(W,z);break}else o(W,z);z=z.sibling}z=Pp(q,W.mode,ie),z.return=W,W=z}return E(W);case Se:return _e=q._init,vt(W,z,_e(q._payload),ie)}if(gt(q))return me(W,z,q,ie);if(ue(q))return ge(W,z,q,ie);Lc(W,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,z!==null&&z.tag===6?(u(W,z.sibling),z=m(z,q),z.return=W,W=z):(u(W,z),z=Ap(q,W.mode,ie),z.return=W,W=z),E(W)):u(W,z)}return vt}var ca=zv(!0),$v=zv(!1),Fc=Li(null),jc=null,ha=null,Mf=null;function Lf(){Mf=ha=jc=null}function Ff(i){var o=Fc.current;nt(Fc),i._currentValue=o}function jf(i,o,u){for(;i!==null;){var f=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),i===u)break;i=i.return}}function da(i,o){jc=i,Mf=ha=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(pn=!0),i.firstContext=null)}function Ln(i){var o=i._currentValue;if(Mf!==i)if(i={context:i,memoizedValue:o,next:null},ha===null){if(jc===null)throw Error(t(308));ha=i,jc.dependencies={lanes:0,firstContext:i}}else ha=ha.next=i;return o}var qs=null;function Uf(i){qs===null?qs=[i]:qs.push(i)}function Wv(i,o,u,f){var m=o.interleaved;return m===null?(u.next=u,Uf(o)):(u.next=m.next,m.next=u),o.interleaved=u,ni(i,f)}function ni(i,o){i.lanes|=o;var u=i.alternate;for(u!==null&&(u.lanes|=o),u=i,i=i.return;i!==null;)i.childLanes|=o,u=i.alternate,u!==null&&(u.childLanes|=o),u=i,i=i.return;return u.tag===3?u.stateNode:null}var Ui=!1;function Bf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hv(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function ri(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function Bi(i,o,u){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(We&2)!==0){var m=f.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),f.pending=o,ni(i,u)}return m=f.interleaved,m===null?(o.next=o,Uf(f)):(o.next=m.next,m.next=o),f.interleaved=o,ni(i,u)}function Uc(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var f=o.lanes;f&=i.pendingLanes,u|=f,o.lanes=u,yl(i,u)}}function qv(i,o){var u=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var m=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var E={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};v===null?m=v=E:v=v.next=E,u=u.next}while(u!==null);v===null?m=v=o:v=v.next=o}else m=v=o;u={baseState:f.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:f.shared,effects:f.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}function Bc(i,o,u,f){var m=i.updateQueue;Ui=!1;var v=m.firstBaseUpdate,E=m.lastBaseUpdate,V=m.shared.pending;if(V!==null){m.shared.pending=null;var F=V,G=F.next;F.next=null,E===null?v=G:E.next=G,E=F;var ee=i.alternate;ee!==null&&(ee=ee.updateQueue,V=ee.lastBaseUpdate,V!==E&&(V===null?ee.firstBaseUpdate=G:V.next=G,ee.lastBaseUpdate=F))}if(v!==null){var ne=m.baseState;E=0,ee=G=F=null,V=v;do{var Z=V.lane,ce=V.eventTime;if((f&Z)===Z){ee!==null&&(ee=ee.next={eventTime:ce,lane:0,tag:V.tag,payload:V.payload,callback:V.callback,next:null});e:{var me=i,ge=V;switch(Z=o,ce=u,ge.tag){case 1:if(me=ge.payload,typeof me=="function"){ne=me.call(ce,ne,Z);break e}ne=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=ge.payload,Z=typeof me=="function"?me.call(ce,ne,Z):me,Z==null)break e;ne=le({},ne,Z);break e;case 2:Ui=!0}}V.callback!==null&&V.lane!==0&&(i.flags|=64,Z=m.effects,Z===null?m.effects=[V]:Z.push(V))}else ce={eventTime:ce,lane:Z,tag:V.tag,payload:V.payload,callback:V.callback,next:null},ee===null?(G=ee=ce,F=ne):ee=ee.next=ce,E|=Z;if(V=V.next,V===null){if(V=m.shared.pending,V===null)break;Z=V,V=Z.next,Z.next=null,m.lastBaseUpdate=Z,m.shared.pending=null}}while(!0);if(ee===null&&(F=ne),m.baseState=F,m.firstBaseUpdate=G,m.lastBaseUpdate=ee,o=m.shared.interleaved,o!==null){m=o;do E|=m.lane,m=m.next;while(m!==o)}else v===null&&(m.shared.lanes=0);Qs|=E,i.lanes=E,i.memoizedState=ne}}function Gv(i,o,u){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var f=i[o],m=f.callback;if(m!==null){if(f.callback=null,f=u,typeof m!="function")throw Error(t(191,m));m.call(f)}}}var Ll={},Pr=Li(Ll),Fl=Li(Ll),jl=Li(Ll);function Gs(i){if(i===Ll)throw Error(t(174));return i}function zf(i,o){switch(Xe(jl,o),Xe(Fl,i),Xe(Pr,Ll),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Vo(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=Vo(o,i)}nt(Pr),Xe(Pr,o)}function fa(){nt(Pr),nt(Fl),nt(jl)}function Kv(i){Gs(jl.current);var o=Gs(Pr.current),u=Vo(o,i.type);o!==u&&(Xe(Fl,i),Xe(Pr,u))}function $f(i){Fl.current===i&&(nt(Pr),nt(Fl))}var ut=Li(0);function zc(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Wf=[];function Hf(){for(var i=0;i<Wf.length;i++)Wf[i]._workInProgressVersionPrimary=null;Wf.length=0}var $c=Q.ReactCurrentDispatcher,qf=Q.ReactCurrentBatchConfig,Ks=0,ct=null,bt=null,Vt=null,Wc=!1,Ul=!1,Bl=0,jP=0;function Yt(){throw Error(t(321))}function Gf(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!Jn(i[u],o[u]))return!1;return!0}function Kf(i,o,u,f,m,v){if(Ks=v,ct=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,$c.current=i===null||i.memoizedState===null?$P:WP,i=u(f,m),Ul){v=0;do{if(Ul=!1,Bl=0,25<=v)throw Error(t(301));v+=1,Vt=bt=null,o.updateQueue=null,$c.current=HP,i=u(f,m)}while(Ul)}if($c.current=Gc,o=bt!==null&&bt.next!==null,Ks=0,Vt=bt=ct=null,Wc=!1,o)throw Error(t(300));return i}function Qf(){var i=Bl!==0;return Bl=0,i}function xr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?ct.memoizedState=Vt=i:Vt=Vt.next=i,Vt}function Fn(){if(bt===null){var i=ct.alternate;i=i!==null?i.memoizedState:null}else i=bt.next;var o=Vt===null?ct.memoizedState:Vt.next;if(o!==null)Vt=o,bt=i;else{if(i===null)throw Error(t(310));bt=i,i={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},Vt===null?ct.memoizedState=Vt=i:Vt=Vt.next=i}return Vt}function zl(i,o){return typeof o=="function"?o(i):o}function Yf(i){var o=Fn(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var f=bt,m=f.baseQueue,v=u.pending;if(v!==null){if(m!==null){var E=m.next;m.next=v.next,v.next=E}f.baseQueue=m=v,u.pending=null}if(m!==null){v=m.next,f=f.baseState;var V=E=null,F=null,G=v;do{var ee=G.lane;if((Ks&ee)===ee)F!==null&&(F=F.next={lane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),f=G.hasEagerState?G.eagerState:i(f,G.action);else{var ne={lane:ee,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null};F===null?(V=F=ne,E=f):F=F.next=ne,ct.lanes|=ee,Qs|=ee}G=G.next}while(G!==null&&G!==v);F===null?E=f:F.next=V,Jn(f,o.memoizedState)||(pn=!0),o.memoizedState=f,o.baseState=E,o.baseQueue=F,u.lastRenderedState=f}if(i=u.interleaved,i!==null){m=i;do v=m.lane,ct.lanes|=v,Qs|=v,m=m.next;while(m!==i)}else m===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function Xf(i){var o=Fn(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var f=u.dispatch,m=u.pending,v=o.memoizedState;if(m!==null){u.pending=null;var E=m=m.next;do v=i(v,E.action),E=E.next;while(E!==m);Jn(v,o.memoizedState)||(pn=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),u.lastRenderedState=v}return[v,f]}function Qv(){}function Yv(i,o){var u=ct,f=Fn(),m=o(),v=!Jn(f.memoizedState,m);if(v&&(f.memoizedState=m,pn=!0),f=f.queue,Jf(Zv.bind(null,u,f,i),[i]),f.getSnapshot!==o||v||Vt!==null&&Vt.memoizedState.tag&1){if(u.flags|=2048,$l(9,Jv.bind(null,u,f,m,o),void 0,null),Ot===null)throw Error(t(349));(Ks&30)!==0||Xv(u,o,m)}return m}function Xv(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=ct.updateQueue,o===null?(o={lastEffect:null,stores:null},ct.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function Jv(i,o,u,f){o.value=u,o.getSnapshot=f,e_(o)&&t_(i)}function Zv(i,o,u){return u(function(){e_(o)&&t_(i)})}function e_(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!Jn(i,u)}catch{return!0}}function t_(i){var o=ni(i,1);o!==null&&rr(o,i,1,-1)}function n_(i){var o=xr();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zl,lastRenderedState:i},o.queue=i,i=i.dispatch=zP.bind(null,ct,i),[o.memoizedState,i]}function $l(i,o,u,f){return i={tag:i,create:o,destroy:u,deps:f,next:null},o=ct.updateQueue,o===null?(o={lastEffect:null,stores:null},ct.updateQueue=o,o.lastEffect=i.next=i):(u=o.lastEffect,u===null?o.lastEffect=i.next=i:(f=u.next,u.next=i,i.next=f,o.lastEffect=i)),i}function r_(){return Fn().memoizedState}function Hc(i,o,u,f){var m=xr();ct.flags|=i,m.memoizedState=$l(1|o,u,void 0,f===void 0?null:f)}function qc(i,o,u,f){var m=Fn();f=f===void 0?null:f;var v=void 0;if(bt!==null){var E=bt.memoizedState;if(v=E.destroy,f!==null&&Gf(f,E.deps)){m.memoizedState=$l(o,u,v,f);return}}ct.flags|=i,m.memoizedState=$l(1|o,u,v,f)}function i_(i,o){return Hc(8390656,8,i,o)}function Jf(i,o){return qc(2048,8,i,o)}function s_(i,o){return qc(4,2,i,o)}function o_(i,o){return qc(4,4,i,o)}function a_(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function l_(i,o,u){return u=u!=null?u.concat([i]):null,qc(4,4,a_.bind(null,o,i),u)}function Zf(){}function u_(i,o){var u=Fn();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&Gf(o,f[1])?f[0]:(u.memoizedState=[i,o],i)}function c_(i,o){var u=Fn();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&Gf(o,f[1])?f[0]:(i=i(),u.memoizedState=[i,o],i)}function h_(i,o,u){return(Ks&21)===0?(i.baseState&&(i.baseState=!1,pn=!0),i.memoizedState=u):(Jn(u,o)||(u=ml(),ct.lanes|=u,Qs|=u,i.baseState=!0),o)}function UP(i,o){var u=Be;Be=u!==0&&4>u?u:4,i(!0);var f=qf.transition;qf.transition={};try{i(!1),o()}finally{Be=u,qf.transition=f}}function d_(){return Fn().memoizedState}function BP(i,o,u){var f=Hi(i);if(u={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null},f_(i))p_(o,u);else if(u=Wv(i,o,u,f),u!==null){var m=on();rr(u,i,f,m),m_(u,o,f)}}function zP(i,o,u){var f=Hi(i),m={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null};if(f_(i))p_(o,m);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var E=o.lastRenderedState,V=v(E,u);if(m.hasEagerState=!0,m.eagerState=V,Jn(V,E)){var F=o.interleaved;F===null?(m.next=m,Uf(o)):(m.next=F.next,F.next=m),o.interleaved=m;return}}catch{}finally{}u=Wv(i,o,m,f),u!==null&&(m=on(),rr(u,i,f,m),m_(u,o,f))}}function f_(i){var o=i.alternate;return i===ct||o!==null&&o===ct}function p_(i,o){Ul=Wc=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function m_(i,o,u){if((u&4194240)!==0){var f=o.lanes;f&=i.pendingLanes,u|=f,o.lanes=u,yl(i,u)}}var Gc={readContext:Ln,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useInsertionEffect:Yt,useLayoutEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useMutableSource:Yt,useSyncExternalStore:Yt,useId:Yt,unstable_isNewReconciler:!1},$P={readContext:Ln,useCallback:function(i,o){return xr().memoizedState=[i,o===void 0?null:o],i},useContext:Ln,useEffect:i_,useImperativeHandle:function(i,o,u){return u=u!=null?u.concat([i]):null,Hc(4194308,4,a_.bind(null,o,i),u)},useLayoutEffect:function(i,o){return Hc(4194308,4,i,o)},useInsertionEffect:function(i,o){return Hc(4,2,i,o)},useMemo:function(i,o){var u=xr();return o=o===void 0?null:o,i=i(),u.memoizedState=[i,o],i},useReducer:function(i,o,u){var f=xr();return o=u!==void 0?u(o):o,f.memoizedState=f.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},f.queue=i,i=i.dispatch=BP.bind(null,ct,i),[f.memoizedState,i]},useRef:function(i){var o=xr();return i={current:i},o.memoizedState=i},useState:n_,useDebugValue:Zf,useDeferredValue:function(i){return xr().memoizedState=i},useTransition:function(){var i=n_(!1),o=i[0];return i=UP.bind(null,i[1]),xr().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,u){var f=ct,m=xr();if(st){if(u===void 0)throw Error(t(407));u=u()}else{if(u=o(),Ot===null)throw Error(t(349));(Ks&30)!==0||Xv(f,o,u)}m.memoizedState=u;var v={value:u,getSnapshot:o};return m.queue=v,i_(Zv.bind(null,f,v,i),[i]),f.flags|=2048,$l(9,Jv.bind(null,f,v,u,o),void 0,null),u},useId:function(){var i=xr(),o=Ot.identifierPrefix;if(st){var u=ti,f=ei;u=(f&~(1<<32-In(f)-1)).toString(32)+u,o=":"+o+"R"+u,u=Bl++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=jP++,o=":"+o+"r"+u.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},WP={readContext:Ln,useCallback:u_,useContext:Ln,useEffect:Jf,useImperativeHandle:l_,useInsertionEffect:s_,useLayoutEffect:o_,useMemo:c_,useReducer:Yf,useRef:r_,useState:function(){return Yf(zl)},useDebugValue:Zf,useDeferredValue:function(i){var o=Fn();return h_(o,bt.memoizedState,i)},useTransition:function(){var i=Yf(zl)[0],o=Fn().memoizedState;return[i,o]},useMutableSource:Qv,useSyncExternalStore:Yv,useId:d_,unstable_isNewReconciler:!1},HP={readContext:Ln,useCallback:u_,useContext:Ln,useEffect:Jf,useImperativeHandle:l_,useInsertionEffect:s_,useLayoutEffect:o_,useMemo:c_,useReducer:Xf,useRef:r_,useState:function(){return Xf(zl)},useDebugValue:Zf,useDeferredValue:function(i){var o=Fn();return bt===null?o.memoizedState=i:h_(o,bt.memoizedState,i)},useTransition:function(){var i=Xf(zl)[0],o=Fn().memoizedState;return[i,o]},useMutableSource:Qv,useSyncExternalStore:Yv,useId:d_,unstable_isNewReconciler:!1};function er(i,o){if(i&&i.defaultProps){o=le({},o),i=i.defaultProps;for(var u in i)o[u]===void 0&&(o[u]=i[u]);return o}return o}function ep(i,o,u,f){o=i.memoizedState,u=u(f,o),u=u==null?o:le({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Kc={isMounted:function(i){return(i=i._reactInternals)?Yn(i)===i:!1},enqueueSetState:function(i,o,u){i=i._reactInternals;var f=on(),m=Hi(i),v=ri(f,m);v.payload=o,u!=null&&(v.callback=u),o=Bi(i,v,m),o!==null&&(rr(o,i,m,f),Uc(o,i,m))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var f=on(),m=Hi(i),v=ri(f,m);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=Bi(i,v,m),o!==null&&(rr(o,i,m,f),Uc(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=on(),f=Hi(i),m=ri(u,f);m.tag=2,o!=null&&(m.callback=o),o=Bi(i,m,f),o!==null&&(rr(o,i,f,u),Uc(o,i,f))}};function g_(i,o,u,f,m,v,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,v,E):o.prototype&&o.prototype.isPureReactComponent?!Rl(u,f)||!Rl(m,v):!0}function y_(i,o,u){var f=!1,m=Fi,v=o.contextType;return typeof v=="object"&&v!==null?v=Ln(v):(m=fn(o)?$s:Qt.current,f=o.contextTypes,v=(f=f!=null)?oa(i,m):Fi),o=new o(u,v),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Kc,i.stateNode=o,o._reactInternals=i,f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=m,i.__reactInternalMemoizedMaskedChildContext=v),o}function v_(i,o,u,f){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,f),o.state!==i&&Kc.enqueueReplaceState(o,o.state,null)}function tp(i,o,u,f){var m=i.stateNode;m.props=u,m.state=i.memoizedState,m.refs={},Bf(i);var v=o.contextType;typeof v=="object"&&v!==null?m.context=Ln(v):(v=fn(o)?$s:Qt.current,m.context=oa(i,v)),m.state=i.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(ep(i,o,v,u),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&Kc.enqueueReplaceState(m,m.state,null),Bc(i,u,m,f),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308)}function pa(i,o){try{var u="",f=o;do u+=De(f),f=f.return;while(f);var m=u}catch(v){m=`
Error generating stack: `+v.message+`
`+v.stack}return{value:i,source:o,stack:m,digest:null}}function np(i,o,u){return{value:i,source:null,stack:u??null,digest:o??null}}function rp(i,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var qP=typeof WeakMap=="function"?WeakMap:Map;function __(i,o,u){u=ri(-1,u),u.tag=3,u.payload={element:null};var f=o.value;return u.callback=function(){th||(th=!0,vp=f),rp(i,o)},u}function w_(i,o,u){u=ri(-1,u),u.tag=3;var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var m=o.value;u.payload=function(){return f(m)},u.callback=function(){rp(i,o)}}var v=i.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(u.callback=function(){rp(i,o),typeof f!="function"&&($i===null?$i=new Set([this]):$i.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})}),u}function T_(i,o,u){var f=i.pingCache;if(f===null){f=i.pingCache=new qP;var m=new Set;f.set(o,m)}else m=f.get(o),m===void 0&&(m=new Set,f.set(o,m));m.has(u)||(m.add(u),i=ox.bind(null,i,o,u),o.then(i,i))}function E_(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function I_(i,o,u,f,m){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=ri(-1,1),o.tag=2,Bi(u,o,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=m,i)}var GP=Q.ReactCurrentOwner,pn=!1;function sn(i,o,u,f){o.child=i===null?$v(o,null,u,f):ca(o,i.child,u,f)}function S_(i,o,u,f,m){u=u.render;var v=o.ref;return da(o,m),f=Kf(i,o,u,f,v,m),u=Qf(),i!==null&&!pn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,ii(i,o,m)):(st&&u&&kf(o),o.flags|=1,sn(i,o,f,m),o.child)}function C_(i,o,u,f,m){if(i===null){var v=u.type;return typeof v=="function"&&!Cp(v)&&v.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=v,A_(i,o,v,f,m)):(i=ah(u.type,null,f,o,o.mode,m),i.ref=o.ref,i.return=o,o.child=i)}if(v=i.child,(i.lanes&m)===0){var E=v.memoizedProps;if(u=u.compare,u=u!==null?u:Rl,u(E,f)&&i.ref===o.ref)return ii(i,o,m)}return o.flags|=1,i=Gi(v,f),i.ref=o.ref,i.return=o,o.child=i}function A_(i,o,u,f,m){if(i!==null){var v=i.memoizedProps;if(Rl(v,f)&&i.ref===o.ref)if(pn=!1,o.pendingProps=f=v,(i.lanes&m)!==0)(i.flags&131072)!==0&&(pn=!0);else return o.lanes=i.lanes,ii(i,o,m)}return ip(i,o,u,f,m)}function P_(i,o,u){var f=o.pendingProps,m=f.children,v=i!==null?i.memoizedState:null;if(f.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xe(ga,bn),bn|=u;else{if((u&1073741824)===0)return i=v!==null?v.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,Xe(ga,bn),bn|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=v!==null?v.baseLanes:u,Xe(ga,bn),bn|=f}else v!==null?(f=v.baseLanes|u,o.memoizedState=null):f=u,Xe(ga,bn),bn|=f;return sn(i,o,m,u),o.child}function x_(i,o){var u=o.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function ip(i,o,u,f,m){var v=fn(u)?$s:Qt.current;return v=oa(o,v),da(o,m),u=Kf(i,o,u,f,v,m),f=Qf(),i!==null&&!pn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,ii(i,o,m)):(st&&f&&kf(o),o.flags|=1,sn(i,o,u,m),o.child)}function R_(i,o,u,f,m){if(fn(u)){var v=!0;Nc(o)}else v=!1;if(da(o,m),o.stateNode===null)Yc(i,o),y_(o,u,f),tp(o,u,f,m),f=!0;else if(i===null){var E=o.stateNode,V=o.memoizedProps;E.props=V;var F=E.context,G=u.contextType;typeof G=="object"&&G!==null?G=Ln(G):(G=fn(u)?$s:Qt.current,G=oa(o,G));var ee=u.getDerivedStateFromProps,ne=typeof ee=="function"||typeof E.getSnapshotBeforeUpdate=="function";ne||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(V!==f||F!==G)&&v_(o,E,f,G),Ui=!1;var Z=o.memoizedState;E.state=Z,Bc(o,f,E,m),F=o.memoizedState,V!==f||Z!==F||dn.current||Ui?(typeof ee=="function"&&(ep(o,u,ee,f),F=o.memoizedState),(V=Ui||g_(o,u,V,f,Z,F,G))?(ne||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(o.flags|=4194308)):(typeof E.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=F),E.props=f,E.state=F,E.context=G,f=V):(typeof E.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{E=o.stateNode,Hv(i,o),V=o.memoizedProps,G=o.type===o.elementType?V:er(o.type,V),E.props=G,ne=o.pendingProps,Z=E.context,F=u.contextType,typeof F=="object"&&F!==null?F=Ln(F):(F=fn(u)?$s:Qt.current,F=oa(o,F));var ce=u.getDerivedStateFromProps;(ee=typeof ce=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(V!==ne||Z!==F)&&v_(o,E,f,F),Ui=!1,Z=o.memoizedState,E.state=Z,Bc(o,f,E,m);var me=o.memoizedState;V!==ne||Z!==me||dn.current||Ui?(typeof ce=="function"&&(ep(o,u,ce,f),me=o.memoizedState),(G=Ui||g_(o,u,G,f,Z,me,F)||!1)?(ee||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(f,me,F),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(f,me,F)),typeof E.componentDidUpdate=="function"&&(o.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof E.componentDidUpdate!="function"||V===i.memoizedProps&&Z===i.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||V===i.memoizedProps&&Z===i.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=me),E.props=f,E.state=me,E.context=F,f=G):(typeof E.componentDidUpdate!="function"||V===i.memoizedProps&&Z===i.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||V===i.memoizedProps&&Z===i.memoizedState||(o.flags|=1024),f=!1)}return sp(i,o,u,f,v,m)}function sp(i,o,u,f,m,v){x_(i,o);var E=(o.flags&128)!==0;if(!f&&!E)return m&&Vv(o,u,!1),ii(i,o,v);f=o.stateNode,GP.current=o;var V=E&&typeof u.getDerivedStateFromError!="function"?null:f.render();return o.flags|=1,i!==null&&E?(o.child=ca(o,i.child,null,v),o.child=ca(o,null,V,v)):sn(i,o,V,v),o.memoizedState=f.state,m&&Vv(o,u,!0),o.child}function b_(i){var o=i.stateNode;o.pendingContext?Nv(i,o.pendingContext,o.pendingContext!==o.context):o.context&&Nv(i,o.context,!1),zf(i,o.containerInfo)}function k_(i,o,u,f,m){return ua(),Of(m),o.flags|=256,sn(i,o,u,f),o.child}var op={dehydrated:null,treeContext:null,retryLane:0};function ap(i){return{baseLanes:i,cachePool:null,transitions:null}}function N_(i,o,u){var f=o.pendingProps,m=ut.current,v=!1,E=(o.flags&128)!==0,V;if((V=E)||(V=i!==null&&i.memoizedState===null?!1:(m&2)!==0),V?(v=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(m|=1),Xe(ut,m&1),i===null)return Vf(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(E=f.children,i=f.fallback,v?(f=o.mode,v=o.child,E={mode:"hidden",children:E},(f&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=E):v=lh(E,f,0,null),i=Zs(i,f,u,null),v.return=o,i.return=o,v.sibling=i,o.child=v,o.child.memoizedState=ap(u),o.memoizedState=op,i):lp(o,E));if(m=i.memoizedState,m!==null&&(V=m.dehydrated,V!==null))return KP(i,o,E,f,V,m,u);if(v){v=f.fallback,E=o.mode,m=i.child,V=m.sibling;var F={mode:"hidden",children:f.children};return(E&1)===0&&o.child!==m?(f=o.child,f.childLanes=0,f.pendingProps=F,o.deletions=null):(f=Gi(m,F),f.subtreeFlags=m.subtreeFlags&14680064),V!==null?v=Gi(V,v):(v=Zs(v,E,u,null),v.flags|=2),v.return=o,f.return=o,f.sibling=v,o.child=f,f=v,v=o.child,E=i.child.memoizedState,E=E===null?ap(u):{baseLanes:E.baseLanes|u,cachePool:null,transitions:E.transitions},v.memoizedState=E,v.childLanes=i.childLanes&~u,o.memoizedState=op,f}return v=i.child,i=v.sibling,f=Gi(v,{mode:"visible",children:f.children}),(o.mode&1)===0&&(f.lanes=u),f.return=o,f.sibling=null,i!==null&&(u=o.deletions,u===null?(o.deletions=[i],o.flags|=16):u.push(i)),o.child=f,o.memoizedState=null,f}function lp(i,o){return o=lh({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function Qc(i,o,u,f){return f!==null&&Of(f),ca(o,i.child,null,u),i=lp(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function KP(i,o,u,f,m,v,E){if(u)return o.flags&256?(o.flags&=-257,f=np(Error(t(422))),Qc(i,o,E,f)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(v=f.fallback,m=o.mode,f=lh({mode:"visible",children:f.children},m,0,null),v=Zs(v,m,E,null),v.flags|=2,f.return=o,v.return=o,f.sibling=v,o.child=f,(o.mode&1)!==0&&ca(o,i.child,null,E),o.child.memoizedState=ap(E),o.memoizedState=op,v);if((o.mode&1)===0)return Qc(i,o,E,null);if(m.data==="$!"){if(f=m.nextSibling&&m.nextSibling.dataset,f)var V=f.dgst;return f=V,v=Error(t(419)),f=np(v,f,void 0),Qc(i,o,E,f)}if(V=(E&i.childLanes)!==0,pn||V){if(f=Ot,f!==null){switch(E&-E){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(f.suspendedLanes|E))!==0?0:m,m!==0&&m!==v.retryLane&&(v.retryLane=m,ni(i,m),rr(f,i,m,-1))}return Sp(),f=np(Error(t(421))),Qc(i,o,E,f)}return m.data==="$?"?(o.flags|=128,o.child=i.child,o=ax.bind(null,i),m._reactRetry=o,null):(i=v.treeContext,Rn=Mi(m.nextSibling),xn=o,st=!0,Zn=null,i!==null&&(On[Mn++]=ei,On[Mn++]=ti,On[Mn++]=Ws,ei=i.id,ti=i.overflow,Ws=o),o=lp(o,f.children),o.flags|=4096,o)}function D_(i,o,u){i.lanes|=o;var f=i.alternate;f!==null&&(f.lanes|=o),jf(i.return,o,u)}function up(i,o,u,f,m){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:m}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=f,v.tail=u,v.tailMode=m)}function V_(i,o,u){var f=o.pendingProps,m=f.revealOrder,v=f.tail;if(sn(i,o,f.children,u),f=ut.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&D_(i,u,o);else if(i.tag===19)D_(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}if(Xe(ut,f),(o.mode&1)===0)o.memoizedState=null;else switch(m){case"forwards":for(u=o.child,m=null;u!==null;)i=u.alternate,i!==null&&zc(i)===null&&(m=u),u=u.sibling;u=m,u===null?(m=o.child,o.child=null):(m=u.sibling,u.sibling=null),up(o,!1,m,u,v);break;case"backwards":for(u=null,m=o.child,o.child=null;m!==null;){if(i=m.alternate,i!==null&&zc(i)===null){o.child=m;break}i=m.sibling,m.sibling=u,u=m,m=i}up(o,!0,u,null,v);break;case"together":up(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Yc(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function ii(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),Qs|=o.lanes,(u&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(t(153));if(o.child!==null){for(i=o.child,u=Gi(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=Gi(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function QP(i,o,u){switch(o.tag){case 3:b_(o),ua();break;case 5:Kv(o);break;case 1:fn(o.type)&&Nc(o);break;case 4:zf(o,o.stateNode.containerInfo);break;case 10:var f=o.type._context,m=o.memoizedProps.value;Xe(Fc,f._currentValue),f._currentValue=m;break;case 13:if(f=o.memoizedState,f!==null)return f.dehydrated!==null?(Xe(ut,ut.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?N_(i,o,u):(Xe(ut,ut.current&1),i=ii(i,o,u),i!==null?i.sibling:null);Xe(ut,ut.current&1);break;case 19:if(f=(u&o.childLanes)!==0,(i.flags&128)!==0){if(f)return V_(i,o,u);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Xe(ut,ut.current),f)break;return null;case 22:case 23:return o.lanes=0,P_(i,o,u)}return ii(i,o,u)}var O_,cp,M_,L_;O_=function(i,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},cp=function(){},M_=function(i,o,u,f){var m=i.memoizedProps;if(m!==f){i=o.stateNode,Gs(Pr.current);var v=null;switch(u){case"input":m=No(i,m),f=No(i,f),v=[];break;case"select":m=le({},m,{value:void 0}),f=le({},f,{value:void 0}),v=[];break;case"textarea":m=il(i,m),f=il(i,f),v=[];break;default:typeof m.onClick!="function"&&typeof f.onClick=="function"&&(i.onclick=Rc)}Qn(u,f);var E;u=null;for(G in m)if(!f.hasOwnProperty(G)&&m.hasOwnProperty(G)&&m[G]!=null)if(G==="style"){var V=m[G];for(E in V)V.hasOwnProperty(E)&&(u||(u={}),u[E]="")}else G!=="dangerouslySetInnerHTML"&&G!=="children"&&G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(s.hasOwnProperty(G)?v||(v=[]):(v=v||[]).push(G,null));for(G in f){var F=f[G];if(V=m?.[G],f.hasOwnProperty(G)&&F!==V&&(F!=null||V!=null))if(G==="style")if(V){for(E in V)!V.hasOwnProperty(E)||F&&F.hasOwnProperty(E)||(u||(u={}),u[E]="");for(E in F)F.hasOwnProperty(E)&&V[E]!==F[E]&&(u||(u={}),u[E]=F[E])}else u||(v||(v=[]),v.push(G,u)),u=F;else G==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,V=V?V.__html:void 0,F!=null&&V!==F&&(v=v||[]).push(G,F)):G==="children"?typeof F!="string"&&typeof F!="number"||(v=v||[]).push(G,""+F):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&(s.hasOwnProperty(G)?(F!=null&&G==="onScroll"&&tt("scroll",i),v||V===F||(v=[])):(v=v||[]).push(G,F))}u&&(v=v||[]).push("style",u);var G=v;(o.updateQueue=G)&&(o.flags|=4)}},L_=function(i,o,u,f){u!==f&&(o.flags|=4)};function Wl(i,o){if(!st)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function Xt(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,f=0;if(o)for(var m=i.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags&14680064,f|=m.flags&14680064,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags,f|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=f,i.childLanes=u,o}function YP(i,o,u){var f=o.pendingProps;switch(Nf(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(o),null;case 1:return fn(o.type)&&kc(),Xt(o),null;case 3:return f=o.stateNode,fa(),nt(dn),nt(Qt),Hf(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(i===null||i.child===null)&&(Mc(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Zn!==null&&(Tp(Zn),Zn=null))),cp(i,o),Xt(o),null;case 5:$f(o);var m=Gs(jl.current);if(u=o.type,i!==null&&o.stateNode!=null)M_(i,o,u,f,m),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!f){if(o.stateNode===null)throw Error(t(166));return Xt(o),null}if(i=Gs(Pr.current),Mc(o)){f=o.stateNode,u=o.type;var v=o.memoizedProps;switch(f[Ar]=o,f[Vl]=v,i=(o.mode&1)!==0,u){case"dialog":tt("cancel",f),tt("close",f);break;case"iframe":case"object":case"embed":tt("load",f);break;case"video":case"audio":for(m=0;m<kl.length;m++)tt(kl[m],f);break;case"source":tt("error",f);break;case"img":case"image":case"link":tt("error",f),tt("load",f);break;case"details":tt("toggle",f);break;case"input":ec(f,v),tt("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!v.multiple},tt("invalid",f);break;case"textarea":sl(f,v),tt("invalid",f)}Qn(u,v),m=null;for(var E in v)if(v.hasOwnProperty(E)){var V=v[E];E==="children"?typeof V=="string"?f.textContent!==V&&(v.suppressHydrationWarning!==!0&&xc(f.textContent,V,i),m=["children",V]):typeof V=="number"&&f.textContent!==""+V&&(v.suppressHydrationWarning!==!0&&xc(f.textContent,V,i),m=["children",""+V]):s.hasOwnProperty(E)&&V!=null&&E==="onScroll"&&tt("scroll",f)}switch(u){case"input":hn(f),rl(f,v,!0);break;case"textarea":hn(f),wi(f);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(f.onclick=Rc)}f=m,o.updateQueue=f,f!==null&&(o.flags|=4)}else{E=m.nodeType===9?m:m.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=ol(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=E.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof f.is=="string"?i=E.createElement(u,{is:f.is}):(i=E.createElement(u),u==="select"&&(E=i,f.multiple?E.multiple=!0:f.size&&(E.size=f.size))):i=E.createElementNS(i,u),i[Ar]=o,i[Vl]=f,O_(i,o,!1,!1),o.stateNode=i;e:{switch(E=Mo(u,f),u){case"dialog":tt("cancel",i),tt("close",i),m=f;break;case"iframe":case"object":case"embed":tt("load",i),m=f;break;case"video":case"audio":for(m=0;m<kl.length;m++)tt(kl[m],i);m=f;break;case"source":tt("error",i),m=f;break;case"img":case"image":case"link":tt("error",i),tt("load",i),m=f;break;case"details":tt("toggle",i),m=f;break;case"input":ec(i,f),m=No(i,f),tt("invalid",i);break;case"option":m=f;break;case"select":i._wrapperState={wasMultiple:!!f.multiple},m=le({},f,{value:void 0}),tt("invalid",i);break;case"textarea":sl(i,f),m=il(i,f),tt("invalid",i);break;default:m=f}Qn(u,m),V=m;for(v in V)if(V.hasOwnProperty(v)){var F=V[v];v==="style"?Oo(i,F):v==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,F!=null&&nc(i,F)):v==="children"?typeof F=="string"?(u!=="textarea"||F!=="")&&xs(i,F):typeof F=="number"&&xs(i,""+F):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(s.hasOwnProperty(v)?F!=null&&v==="onScroll"&&tt("scroll",i):F!=null&&B(i,v,F,E))}switch(u){case"input":hn(i),rl(i,f,!1);break;case"textarea":hn(i),wi(i);break;case"option":f.value!=null&&i.setAttribute("value",""+Ue(f.value));break;case"select":i.multiple=!!f.multiple,v=f.value,v!=null?Kn(i,!!f.multiple,v,!1):f.defaultValue!=null&&Kn(i,!!f.multiple,f.defaultValue,!0);break;default:typeof m.onClick=="function"&&(i.onclick=Rc)}switch(u){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Xt(o),null;case 6:if(i&&o.stateNode!=null)L_(i,o,i.memoizedProps,f);else{if(typeof f!="string"&&o.stateNode===null)throw Error(t(166));if(u=Gs(jl.current),Gs(Pr.current),Mc(o)){if(f=o.stateNode,u=o.memoizedProps,f[Ar]=o,(v=f.nodeValue!==u)&&(i=xn,i!==null))switch(i.tag){case 3:xc(f.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&xc(f.nodeValue,u,(i.mode&1)!==0)}v&&(o.flags|=4)}else f=(u.nodeType===9?u:u.ownerDocument).createTextNode(f),f[Ar]=o,o.stateNode=f}return Xt(o),null;case 13:if(nt(ut),f=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(st&&Rn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Uv(),ua(),o.flags|=98560,v=!1;else if(v=Mc(o),f!==null&&f.dehydrated!==null){if(i===null){if(!v)throw Error(t(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(t(317));v[Ar]=o}else ua(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Xt(o),v=!1}else Zn!==null&&(Tp(Zn),Zn=null),v=!0;if(!v)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(f=f!==null,f!==(i!==null&&i.memoizedState!==null)&&f&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(ut.current&1)!==0?kt===0&&(kt=3):Sp())),o.updateQueue!==null&&(o.flags|=4),Xt(o),null);case 4:return fa(),cp(i,o),i===null&&Nl(o.stateNode.containerInfo),Xt(o),null;case 10:return Ff(o.type._context),Xt(o),null;case 17:return fn(o.type)&&kc(),Xt(o),null;case 19:if(nt(ut),v=o.memoizedState,v===null)return Xt(o),null;if(f=(o.flags&128)!==0,E=v.rendering,E===null)if(f)Wl(v,!1);else{if(kt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(E=zc(i),E!==null){for(o.flags|=128,Wl(v,!1),f=E.updateQueue,f!==null&&(o.updateQueue=f,o.flags|=4),o.subtreeFlags=0,f=u,u=o.child;u!==null;)v=u,i=f,v.flags&=14680066,E=v.alternate,E===null?(v.childLanes=0,v.lanes=i,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=E.childLanes,v.lanes=E.lanes,v.child=E.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=E.memoizedProps,v.memoizedState=E.memoizedState,v.updateQueue=E.updateQueue,v.type=E.type,i=E.dependencies,v.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return Xe(ut,ut.current&1|2),o.child}i=i.sibling}v.tail!==null&&et()>ya&&(o.flags|=128,f=!0,Wl(v,!1),o.lanes=4194304)}else{if(!f)if(i=zc(E),i!==null){if(o.flags|=128,f=!0,u=i.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),Wl(v,!0),v.tail===null&&v.tailMode==="hidden"&&!E.alternate&&!st)return Xt(o),null}else 2*et()-v.renderingStartTime>ya&&u!==1073741824&&(o.flags|=128,f=!0,Wl(v,!1),o.lanes=4194304);v.isBackwards?(E.sibling=o.child,o.child=E):(u=v.last,u!==null?u.sibling=E:o.child=E,v.last=E)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=et(),o.sibling=null,u=ut.current,Xe(ut,f?u&1|2:u&1),o):(Xt(o),null);case 22:case 23:return Ip(),f=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==f&&(o.flags|=8192),f&&(o.mode&1)!==0?(bn&1073741824)!==0&&(Xt(o),o.subtreeFlags&6&&(o.flags|=8192)):Xt(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function XP(i,o){switch(Nf(o),o.tag){case 1:return fn(o.type)&&kc(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return fa(),nt(dn),nt(Qt),Hf(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return $f(o),null;case 13:if(nt(ut),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(t(340));ua()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return nt(ut),null;case 4:return fa(),null;case 10:return Ff(o.type._context),null;case 22:case 23:return Ip(),null;case 24:return null;default:return null}}var Xc=!1,Jt=!1,JP=typeof WeakSet=="function"?WeakSet:Set,fe=null;function ma(i,o){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(f){mt(i,o,f)}else u.current=null}function hp(i,o,u){try{u()}catch(f){mt(i,o,f)}}var F_=!1;function ZP(i,o){if(If=Qr,i=gv(),mf(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var m=f.anchorOffset,v=f.focusNode;f=f.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break e}var E=0,V=-1,F=-1,G=0,ee=0,ne=i,Z=null;t:for(;;){for(var ce;ne!==u||m!==0&&ne.nodeType!==3||(V=E+m),ne!==v||f!==0&&ne.nodeType!==3||(F=E+f),ne.nodeType===3&&(E+=ne.nodeValue.length),(ce=ne.firstChild)!==null;)Z=ne,ne=ce;for(;;){if(ne===i)break t;if(Z===u&&++G===m&&(V=E),Z===v&&++ee===f&&(F=E),(ce=ne.nextSibling)!==null)break;ne=Z,Z=ne.parentNode}ne=ce}u=V===-1||F===-1?null:{start:V,end:F}}else u=null}u=u||{start:0,end:0}}else u=null;for(Sf={focusedElem:i,selectionRange:u},Qr=!1,fe=o;fe!==null;)if(o=fe,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,fe=i;else for(;fe!==null;){o=fe;try{var me=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(me!==null){var ge=me.memoizedProps,vt=me.memoizedState,W=o.stateNode,z=W.getSnapshotBeforeUpdate(o.elementType===o.type?ge:er(o.type,ge),vt);W.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var q=o.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ie){mt(o,o.return,ie)}if(i=o.sibling,i!==null){i.return=o.return,fe=i;break}fe=o.return}return me=F_,F_=!1,me}function Hl(i,o,u){var f=o.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var m=f=f.next;do{if((m.tag&i)===i){var v=m.destroy;m.destroy=void 0,v!==void 0&&hp(o,u,v)}m=m.next}while(m!==f)}}function Jc(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&i)===i){var f=u.create;u.destroy=f()}u=u.next}while(u!==o)}}function dp(i){var o=i.ref;if(o!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof o=="function"?o(i):o.current=i}}function j_(i){var o=i.alternate;o!==null&&(i.alternate=null,j_(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[Ar],delete o[Vl],delete o[xf],delete o[OP],delete o[MP])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function U_(i){return i.tag===5||i.tag===3||i.tag===4}function B_(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||U_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function fp(i,o,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(i,o):u.insertBefore(i,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(i,u)):(o=u,o.appendChild(i)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Rc));else if(f!==4&&(i=i.child,i!==null))for(fp(i,o,u),i=i.sibling;i!==null;)fp(i,o,u),i=i.sibling}function pp(i,o,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(f!==4&&(i=i.child,i!==null))for(pp(i,o,u),i=i.sibling;i!==null;)pp(i,o,u),i=i.sibling}var Bt=null,tr=!1;function zi(i,o,u){for(u=u.child;u!==null;)z_(i,o,u),u=u.sibling}function z_(i,o,u){if(En&&typeof En.onCommitFiberUnmount=="function")try{En.onCommitFiberUnmount(Ds,u)}catch{}switch(u.tag){case 5:Jt||ma(u,o);case 6:var f=Bt,m=tr;Bt=null,zi(i,o,u),Bt=f,tr=m,Bt!==null&&(tr?(i=Bt,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):Bt.removeChild(u.stateNode));break;case 18:Bt!==null&&(tr?(i=Bt,u=u.stateNode,i.nodeType===8?Pf(i.parentNode,u):i.nodeType===1&&Pf(i,u),Ni(i)):Pf(Bt,u.stateNode));break;case 4:f=Bt,m=tr,Bt=u.stateNode.containerInfo,tr=!0,zi(i,o,u),Bt=f,tr=m;break;case 0:case 11:case 14:case 15:if(!Jt&&(f=u.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){m=f=f.next;do{var v=m,E=v.destroy;v=v.tag,E!==void 0&&((v&2)!==0||(v&4)!==0)&&hp(u,o,E),m=m.next}while(m!==f)}zi(i,o,u);break;case 1:if(!Jt&&(ma(u,o),f=u.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=u.memoizedProps,f.state=u.memoizedState,f.componentWillUnmount()}catch(V){mt(u,o,V)}zi(i,o,u);break;case 21:zi(i,o,u);break;case 22:u.mode&1?(Jt=(f=Jt)||u.memoizedState!==null,zi(i,o,u),Jt=f):zi(i,o,u);break;default:zi(i,o,u)}}function $_(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new JP),o.forEach(function(f){var m=lx.bind(null,i,f);u.has(f)||(u.add(f),f.then(m,m))})}}function nr(i,o){var u=o.deletions;if(u!==null)for(var f=0;f<u.length;f++){var m=u[f];try{var v=i,E=o,V=E;e:for(;V!==null;){switch(V.tag){case 5:Bt=V.stateNode,tr=!1;break e;case 3:Bt=V.stateNode.containerInfo,tr=!0;break e;case 4:Bt=V.stateNode.containerInfo,tr=!0;break e}V=V.return}if(Bt===null)throw Error(t(160));z_(v,E,m),Bt=null,tr=!1;var F=m.alternate;F!==null&&(F.return=null),m.return=null}catch(G){mt(m,o,G)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)W_(o,i),o=o.sibling}function W_(i,o){var u=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(nr(o,i),Rr(i),f&4){try{Hl(3,i,i.return),Jc(3,i)}catch(ge){mt(i,i.return,ge)}try{Hl(5,i,i.return)}catch(ge){mt(i,i.return,ge)}}break;case 1:nr(o,i),Rr(i),f&512&&u!==null&&ma(u,u.return);break;case 5:if(nr(o,i),Rr(i),f&512&&u!==null&&ma(u,u.return),i.flags&32){var m=i.stateNode;try{xs(m,"")}catch(ge){mt(i,i.return,ge)}}if(f&4&&(m=i.stateNode,m!=null)){var v=i.memoizedProps,E=u!==null?u.memoizedProps:v,V=i.type,F=i.updateQueue;if(i.updateQueue=null,F!==null)try{V==="input"&&v.type==="radio"&&v.name!=null&&Do(m,v),Mo(V,E);var G=Mo(V,v);for(E=0;E<F.length;E+=2){var ee=F[E],ne=F[E+1];ee==="style"?Oo(m,ne):ee==="dangerouslySetInnerHTML"?nc(m,ne):ee==="children"?xs(m,ne):B(m,ee,ne,G)}switch(V){case"input":Ps(m,v);break;case"textarea":tc(m,v);break;case"select":var Z=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!v.multiple;var ce=v.value;ce!=null?Kn(m,!!v.multiple,ce,!1):Z!==!!v.multiple&&(v.defaultValue!=null?Kn(m,!!v.multiple,v.defaultValue,!0):Kn(m,!!v.multiple,v.multiple?[]:"",!1))}m[Vl]=v}catch(ge){mt(i,i.return,ge)}}break;case 6:if(nr(o,i),Rr(i),f&4){if(i.stateNode===null)throw Error(t(162));m=i.stateNode,v=i.memoizedProps;try{m.nodeValue=v}catch(ge){mt(i,i.return,ge)}}break;case 3:if(nr(o,i),Rr(i),f&4&&u!==null&&u.memoizedState.isDehydrated)try{Ni(o.containerInfo)}catch(ge){mt(i,i.return,ge)}break;case 4:nr(o,i),Rr(i);break;case 13:nr(o,i),Rr(i),m=i.child,m.flags&8192&&(v=m.memoizedState!==null,m.stateNode.isHidden=v,!v||m.alternate!==null&&m.alternate.memoizedState!==null||(yp=et())),f&4&&$_(i);break;case 22:if(ee=u!==null&&u.memoizedState!==null,i.mode&1?(Jt=(G=Jt)||ee,nr(o,i),Jt=G):nr(o,i),Rr(i),f&8192){if(G=i.memoizedState!==null,(i.stateNode.isHidden=G)&&!ee&&(i.mode&1)!==0)for(fe=i,ee=i.child;ee!==null;){for(ne=fe=ee;fe!==null;){switch(Z=fe,ce=Z.child,Z.tag){case 0:case 11:case 14:case 15:Hl(4,Z,Z.return);break;case 1:ma(Z,Z.return);var me=Z.stateNode;if(typeof me.componentWillUnmount=="function"){f=Z,u=Z.return;try{o=f,me.props=o.memoizedProps,me.state=o.memoizedState,me.componentWillUnmount()}catch(ge){mt(f,u,ge)}}break;case 5:ma(Z,Z.return);break;case 22:if(Z.memoizedState!==null){G_(ne);continue}}ce!==null?(ce.return=Z,fe=ce):G_(ne)}ee=ee.sibling}e:for(ee=null,ne=i;;){if(ne.tag===5){if(ee===null){ee=ne;try{m=ne.stateNode,G?(v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(V=ne.stateNode,F=ne.memoizedProps.style,E=F!=null&&F.hasOwnProperty("display")?F.display:null,V.style.display=Ii("display",E))}catch(ge){mt(i,i.return,ge)}}}else if(ne.tag===6){if(ee===null)try{ne.stateNode.nodeValue=G?"":ne.memoizedProps}catch(ge){mt(i,i.return,ge)}}else if((ne.tag!==22&&ne.tag!==23||ne.memoizedState===null||ne===i)&&ne.child!==null){ne.child.return=ne,ne=ne.child;continue}if(ne===i)break e;for(;ne.sibling===null;){if(ne.return===null||ne.return===i)break e;ee===ne&&(ee=null),ne=ne.return}ee===ne&&(ee=null),ne.sibling.return=ne.return,ne=ne.sibling}}break;case 19:nr(o,i),Rr(i),f&4&&$_(i);break;case 21:break;default:nr(o,i),Rr(i)}}function Rr(i){var o=i.flags;if(o&2){try{e:{for(var u=i.return;u!==null;){if(U_(u)){var f=u;break e}u=u.return}throw Error(t(160))}switch(f.tag){case 5:var m=f.stateNode;f.flags&32&&(xs(m,""),f.flags&=-33);var v=B_(i);pp(i,v,m);break;case 3:case 4:var E=f.stateNode.containerInfo,V=B_(i);fp(i,V,E);break;default:throw Error(t(161))}}catch(F){mt(i,i.return,F)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function ex(i,o,u){fe=i,H_(i)}function H_(i,o,u){for(var f=(i.mode&1)!==0;fe!==null;){var m=fe,v=m.child;if(m.tag===22&&f){var E=m.memoizedState!==null||Xc;if(!E){var V=m.alternate,F=V!==null&&V.memoizedState!==null||Jt;V=Xc;var G=Jt;if(Xc=E,(Jt=F)&&!G)for(fe=m;fe!==null;)E=fe,F=E.child,E.tag===22&&E.memoizedState!==null?K_(m):F!==null?(F.return=E,fe=F):K_(m);for(;v!==null;)fe=v,H_(v),v=v.sibling;fe=m,Xc=V,Jt=G}q_(i)}else(m.subtreeFlags&8772)!==0&&v!==null?(v.return=m,fe=v):q_(i)}}function q_(i){for(;fe!==null;){var o=fe;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Jt||Jc(5,o);break;case 1:var f=o.stateNode;if(o.flags&4&&!Jt)if(u===null)f.componentDidMount();else{var m=o.elementType===o.type?u.memoizedProps:er(o.type,u.memoizedProps);f.componentDidUpdate(m,u.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var v=o.updateQueue;v!==null&&Gv(o,v,f);break;case 3:var E=o.updateQueue;if(E!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}Gv(o,E,u)}break;case 5:var V=o.stateNode;if(u===null&&o.flags&4){u=V;var F=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":F.autoFocus&&u.focus();break;case"img":F.src&&(u.src=F.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var G=o.alternate;if(G!==null){var ee=G.memoizedState;if(ee!==null){var ne=ee.dehydrated;ne!==null&&Ni(ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Jt||o.flags&512&&dp(o)}catch(Z){mt(o,o.return,Z)}}if(o===i){fe=null;break}if(u=o.sibling,u!==null){u.return=o.return,fe=u;break}fe=o.return}}function G_(i){for(;fe!==null;){var o=fe;if(o===i){fe=null;break}var u=o.sibling;if(u!==null){u.return=o.return,fe=u;break}fe=o.return}}function K_(i){for(;fe!==null;){var o=fe;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{Jc(4,o)}catch(F){mt(o,u,F)}break;case 1:var f=o.stateNode;if(typeof f.componentDidMount=="function"){var m=o.return;try{f.componentDidMount()}catch(F){mt(o,m,F)}}var v=o.return;try{dp(o)}catch(F){mt(o,v,F)}break;case 5:var E=o.return;try{dp(o)}catch(F){mt(o,E,F)}}}catch(F){mt(o,o.return,F)}if(o===i){fe=null;break}var V=o.sibling;if(V!==null){V.return=o.return,fe=V;break}fe=o.return}}var tx=Math.ceil,Zc=Q.ReactCurrentDispatcher,mp=Q.ReactCurrentOwner,jn=Q.ReactCurrentBatchConfig,We=0,Ot=null,Ct=null,zt=0,bn=0,ga=Li(0),kt=0,ql=null,Qs=0,eh=0,gp=0,Gl=null,mn=null,yp=0,ya=1/0,si=null,th=!1,vp=null,$i=null,nh=!1,Wi=null,rh=0,Kl=0,_p=null,ih=-1,sh=0;function on(){return(We&6)!==0?et():ih!==-1?ih:ih=et()}function Hi(i){return(i.mode&1)===0?1:(We&2)!==0&&zt!==0?zt&-zt:FP.transition!==null?(sh===0&&(sh=ml()),sh):(i=Be,i!==0||(i=window.event,i=i===void 0?16:qo(i.type)),i)}function rr(i,o,u,f){if(50<Kl)throw Kl=0,_p=null,Error(t(185));Ls(i,u,f),((We&2)===0||i!==Ot)&&(i===Ot&&((We&2)===0&&(eh|=u),kt===4&&qi(i,zt)),gn(i,f),u===1&&We===0&&(o.mode&1)===0&&(ya=et()+500,Dc&&ji()))}function gn(i,o){var u=i.callbackNode;Ms(i,o);var f=qr(i,i===Ot?zt:0);if(f===0)u!==null&&jo(u),i.callbackNode=null,i.callbackPriority=0;else if(o=f&-f,i.callbackPriority!==o){if(u!=null&&jo(u),o===1)i.tag===0?LP(Y_.bind(null,i)):Ov(Y_.bind(null,i)),DP(function(){(We&6)===0&&ji()}),u=null;else{switch(gr(f)){case 1:u=Uo;break;case 4:u=dl;break;case 16:u=Ns;break;case 536870912:u=Bo;break;default:u=Ns}u=iw(u,Q_.bind(null,i))}i.callbackPriority=o,i.callbackNode=u}}function Q_(i,o){if(ih=-1,sh=0,(We&6)!==0)throw Error(t(327));var u=i.callbackNode;if(va()&&i.callbackNode!==u)return null;var f=qr(i,i===Ot?zt:0);if(f===0)return null;if((f&30)!==0||(f&i.expiredLanes)!==0||o)o=oh(i,f);else{o=f;var m=We;We|=2;var v=J_();(Ot!==i||zt!==o)&&(si=null,ya=et()+500,Xs(i,o));do try{ix();break}catch(V){X_(i,V)}while(!0);Lf(),Zc.current=v,We=m,Ct!==null?o=0:(Ot=null,zt=0,o=kt)}if(o!==0){if(o===2&&(m=pl(i),m!==0&&(f=m,o=wp(i,m))),o===1)throw u=ql,Xs(i,0),qi(i,f),gn(i,et()),u;if(o===6)qi(i,f);else{if(m=i.current.alternate,(f&30)===0&&!nx(m)&&(o=oh(i,f),o===2&&(v=pl(i),v!==0&&(f=v,o=wp(i,v))),o===1))throw u=ql,Xs(i,0),qi(i,f),gn(i,et()),u;switch(i.finishedWork=m,i.finishedLanes=f,o){case 0:case 1:throw Error(t(345));case 2:Js(i,mn,si);break;case 3:if(qi(i,f),(f&130023424)===f&&(o=yp+500-et(),10<o)){if(qr(i,0)!==0)break;if(m=i.suspendedLanes,(m&f)!==f){on(),i.pingedLanes|=i.suspendedLanes&m;break}i.timeoutHandle=Af(Js.bind(null,i,mn,si),o);break}Js(i,mn,si);break;case 4:if(qi(i,f),(f&4194240)===f)break;for(o=i.eventTimes,m=-1;0<f;){var E=31-In(f);v=1<<E,E=o[E],E>m&&(m=E),f&=~v}if(f=m,f=et()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*tx(f/1960))-f,10<f){i.timeoutHandle=Af(Js.bind(null,i,mn,si),f);break}Js(i,mn,si);break;case 5:Js(i,mn,si);break;default:throw Error(t(329))}}}return gn(i,et()),i.callbackNode===u?Q_.bind(null,i):null}function wp(i,o){var u=Gl;return i.current.memoizedState.isDehydrated&&(Xs(i,o).flags|=256),i=oh(i,o),i!==2&&(o=mn,mn=u,o!==null&&Tp(o)),i}function Tp(i){mn===null?mn=i:mn.push.apply(mn,i)}function nx(i){for(var o=i;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var f=0;f<u.length;f++){var m=u[f],v=m.getSnapshot;m=m.value;try{if(!Jn(v(),m))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function qi(i,o){for(o&=~gp,o&=~eh,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var u=31-In(o),f=1<<u;i[u]=-1,o&=~f}}function Y_(i){if((We&6)!==0)throw Error(t(327));va();var o=qr(i,0);if((o&1)===0)return gn(i,et()),null;var u=oh(i,o);if(i.tag!==0&&u===2){var f=pl(i);f!==0&&(o=f,u=wp(i,f))}if(u===1)throw u=ql,Xs(i,0),qi(i,o),gn(i,et()),u;if(u===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,Js(i,mn,si),gn(i,et()),null}function Ep(i,o){var u=We;We|=1;try{return i(o)}finally{We=u,We===0&&(ya=et()+500,Dc&&ji())}}function Ys(i){Wi!==null&&Wi.tag===0&&(We&6)===0&&va();var o=We;We|=1;var u=jn.transition,f=Be;try{if(jn.transition=null,Be=1,i)return i()}finally{Be=f,jn.transition=u,We=o,(We&6)===0&&ji()}}function Ip(){bn=ga.current,nt(ga)}function Xs(i,o){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,NP(u)),Ct!==null)for(u=Ct.return;u!==null;){var f=u;switch(Nf(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&kc();break;case 3:fa(),nt(dn),nt(Qt),Hf();break;case 5:$f(f);break;case 4:fa();break;case 13:nt(ut);break;case 19:nt(ut);break;case 10:Ff(f.type._context);break;case 22:case 23:Ip()}u=u.return}if(Ot=i,Ct=i=Gi(i.current,null),zt=bn=o,kt=0,ql=null,gp=eh=Qs=0,mn=Gl=null,qs!==null){for(o=0;o<qs.length;o++)if(u=qs[o],f=u.interleaved,f!==null){u.interleaved=null;var m=f.next,v=u.pending;if(v!==null){var E=v.next;v.next=m,f.next=E}u.pending=f}qs=null}return i}function X_(i,o){do{var u=Ct;try{if(Lf(),$c.current=Gc,Wc){for(var f=ct.memoizedState;f!==null;){var m=f.queue;m!==null&&(m.pending=null),f=f.next}Wc=!1}if(Ks=0,Vt=bt=ct=null,Ul=!1,Bl=0,mp.current=null,u===null||u.return===null){kt=1,ql=o,Ct=null;break}e:{var v=i,E=u.return,V=u,F=o;if(o=zt,V.flags|=32768,F!==null&&typeof F=="object"&&typeof F.then=="function"){var G=F,ee=V,ne=ee.tag;if((ee.mode&1)===0&&(ne===0||ne===11||ne===15)){var Z=ee.alternate;Z?(ee.updateQueue=Z.updateQueue,ee.memoizedState=Z.memoizedState,ee.lanes=Z.lanes):(ee.updateQueue=null,ee.memoizedState=null)}var ce=E_(E);if(ce!==null){ce.flags&=-257,I_(ce,E,V,v,o),ce.mode&1&&T_(v,G,o),o=ce,F=G;var me=o.updateQueue;if(me===null){var ge=new Set;ge.add(F),o.updateQueue=ge}else me.add(F);break e}else{if((o&1)===0){T_(v,G,o),Sp();break e}F=Error(t(426))}}else if(st&&V.mode&1){var vt=E_(E);if(vt!==null){(vt.flags&65536)===0&&(vt.flags|=256),I_(vt,E,V,v,o),Of(pa(F,V));break e}}v=F=pa(F,V),kt!==4&&(kt=2),Gl===null?Gl=[v]:Gl.push(v),v=E;do{switch(v.tag){case 3:v.flags|=65536,o&=-o,v.lanes|=o;var W=__(v,F,o);qv(v,W);break e;case 1:V=F;var z=v.type,q=v.stateNode;if((v.flags&128)===0&&(typeof z.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&($i===null||!$i.has(q)))){v.flags|=65536,o&=-o,v.lanes|=o;var ie=w_(v,V,o);qv(v,ie);break e}}v=v.return}while(v!==null)}ew(u)}catch(ye){o=ye,Ct===u&&u!==null&&(Ct=u=u.return);continue}break}while(!0)}function J_(){var i=Zc.current;return Zc.current=Gc,i===null?Gc:i}function Sp(){(kt===0||kt===3||kt===2)&&(kt=4),Ot===null||(Qs&268435455)===0&&(eh&268435455)===0||qi(Ot,zt)}function oh(i,o){var u=We;We|=2;var f=J_();(Ot!==i||zt!==o)&&(si=null,Xs(i,o));do try{rx();break}catch(m){X_(i,m)}while(!0);if(Lf(),We=u,Zc.current=f,Ct!==null)throw Error(t(261));return Ot=null,zt=0,kt}function rx(){for(;Ct!==null;)Z_(Ct)}function ix(){for(;Ct!==null&&!ks();)Z_(Ct)}function Z_(i){var o=rw(i.alternate,i,bn);i.memoizedProps=i.pendingProps,o===null?ew(i):Ct=o,mp.current=null}function ew(i){var o=i;do{var u=o.alternate;if(i=o.return,(o.flags&32768)===0){if(u=YP(u,o,bn),u!==null){Ct=u;return}}else{if(u=XP(u,o),u!==null){u.flags&=32767,Ct=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{kt=6,Ct=null;return}}if(o=o.sibling,o!==null){Ct=o;return}Ct=o=i}while(o!==null);kt===0&&(kt=5)}function Js(i,o,u){var f=Be,m=jn.transition;try{jn.transition=null,Be=1,sx(i,o,u,f)}finally{jn.transition=m,Be=f}return null}function sx(i,o,u,f){do va();while(Wi!==null);if((We&6)!==0)throw Error(t(327));u=i.finishedWork;var m=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var v=u.lanes|u.childLanes;if(cf(i,v),i===Ot&&(Ct=Ot=null,zt=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||nh||(nh=!0,iw(Ns,function(){return va(),null})),v=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||v){v=jn.transition,jn.transition=null;var E=Be;Be=1;var V=We;We|=4,mp.current=null,ZP(i,u),W_(u,i),CP(Sf),Qr=!!If,Sf=If=null,i.current=u,ex(u),Hr(),We=V,Be=E,jn.transition=v}else i.current=u;if(nh&&(nh=!1,Wi=i,rh=m),v=i.pendingLanes,v===0&&($i=null),fc(u.stateNode),gn(i,et()),o!==null)for(f=i.onRecoverableError,u=0;u<o.length;u++)m=o[u],f(m.value,{componentStack:m.stack,digest:m.digest});if(th)throw th=!1,i=vp,vp=null,i;return(rh&1)!==0&&i.tag!==0&&va(),v=i.pendingLanes,(v&1)!==0?i===_p?Kl++:(Kl=0,_p=i):Kl=0,ji(),null}function va(){if(Wi!==null){var i=gr(rh),o=jn.transition,u=Be;try{if(jn.transition=null,Be=16>i?16:i,Wi===null)var f=!1;else{if(i=Wi,Wi=null,rh=0,(We&6)!==0)throw Error(t(331));var m=We;for(We|=4,fe=i.current;fe!==null;){var v=fe,E=v.child;if((fe.flags&16)!==0){var V=v.deletions;if(V!==null){for(var F=0;F<V.length;F++){var G=V[F];for(fe=G;fe!==null;){var ee=fe;switch(ee.tag){case 0:case 11:case 15:Hl(8,ee,v)}var ne=ee.child;if(ne!==null)ne.return=ee,fe=ne;else for(;fe!==null;){ee=fe;var Z=ee.sibling,ce=ee.return;if(j_(ee),ee===G){fe=null;break}if(Z!==null){Z.return=ce,fe=Z;break}fe=ce}}}var me=v.alternate;if(me!==null){var ge=me.child;if(ge!==null){me.child=null;do{var vt=ge.sibling;ge.sibling=null,ge=vt}while(ge!==null)}}fe=v}}if((v.subtreeFlags&2064)!==0&&E!==null)E.return=v,fe=E;else e:for(;fe!==null;){if(v=fe,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:Hl(9,v,v.return)}var W=v.sibling;if(W!==null){W.return=v.return,fe=W;break e}fe=v.return}}var z=i.current;for(fe=z;fe!==null;){E=fe;var q=E.child;if((E.subtreeFlags&2064)!==0&&q!==null)q.return=E,fe=q;else e:for(E=z;fe!==null;){if(V=fe,(V.flags&2048)!==0)try{switch(V.tag){case 0:case 11:case 15:Jc(9,V)}}catch(ye){mt(V,V.return,ye)}if(V===E){fe=null;break e}var ie=V.sibling;if(ie!==null){ie.return=V.return,fe=ie;break e}fe=V.return}}if(We=m,ji(),En&&typeof En.onPostCommitFiberRoot=="function")try{En.onPostCommitFiberRoot(Ds,i)}catch{}f=!0}return f}finally{Be=u,jn.transition=o}}return!1}function tw(i,o,u){o=pa(u,o),o=__(i,o,1),i=Bi(i,o,1),o=on(),i!==null&&(Ls(i,1,o),gn(i,o))}function mt(i,o,u){if(i.tag===3)tw(i,i,u);else for(;o!==null;){if(o.tag===3){tw(o,i,u);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&($i===null||!$i.has(f))){i=pa(u,i),i=w_(o,i,1),o=Bi(o,i,1),i=on(),o!==null&&(Ls(o,1,i),gn(o,i));break}}o=o.return}}function ox(i,o,u){var f=i.pingCache;f!==null&&f.delete(o),o=on(),i.pingedLanes|=i.suspendedLanes&u,Ot===i&&(zt&u)===u&&(kt===4||kt===3&&(zt&130023424)===zt&&500>et()-yp?Xs(i,0):gp|=u),gn(i,o)}function nw(i,o){o===0&&((i.mode&1)===0?o=1:(o=Ri,Ri<<=1,(Ri&130023424)===0&&(Ri=4194304)));var u=on();i=ni(i,o),i!==null&&(Ls(i,o,u),gn(i,u))}function ax(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),nw(i,u)}function lx(i,o){var u=0;switch(i.tag){case 13:var f=i.stateNode,m=i.memoizedState;m!==null&&(u=m.retryLane);break;case 19:f=i.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(o),nw(i,u)}var rw;rw=function(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps||dn.current)pn=!0;else{if((i.lanes&u)===0&&(o.flags&128)===0)return pn=!1,QP(i,o,u);pn=(i.flags&131072)!==0}else pn=!1,st&&(o.flags&1048576)!==0&&Mv(o,Oc,o.index);switch(o.lanes=0,o.tag){case 2:var f=o.type;Yc(i,o),i=o.pendingProps;var m=oa(o,Qt.current);da(o,u),m=Kf(null,o,f,i,m,u);var v=Qf();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,fn(f)?(v=!0,Nc(o)):v=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Bf(o),m.updater=Kc,o.stateNode=m,m._reactInternals=o,tp(o,f,i,u),o=sp(null,o,f,!0,v,u)):(o.tag=0,st&&v&&kf(o),sn(null,o,m,u),o=o.child),o;case 16:f=o.elementType;e:{switch(Yc(i,o),i=o.pendingProps,m=f._init,f=m(f._payload),o.type=f,m=o.tag=cx(f),i=er(f,i),m){case 0:o=ip(null,o,f,i,u);break e;case 1:o=R_(null,o,f,i,u);break e;case 11:o=S_(null,o,f,i,u);break e;case 14:o=C_(null,o,f,er(f.type,i),u);break e}throw Error(t(306,f,""))}return o;case 0:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:er(f,m),ip(i,o,f,m,u);case 1:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:er(f,m),R_(i,o,f,m,u);case 3:e:{if(b_(o),i===null)throw Error(t(387));f=o.pendingProps,v=o.memoizedState,m=v.element,Hv(i,o),Bc(o,f,null,u);var E=o.memoizedState;if(f=E.element,v.isDehydrated)if(v={element:f,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){m=pa(Error(t(423)),o),o=k_(i,o,f,u,m);break e}else if(f!==m){m=pa(Error(t(424)),o),o=k_(i,o,f,u,m);break e}else for(Rn=Mi(o.stateNode.containerInfo.firstChild),xn=o,st=!0,Zn=null,u=$v(o,null,f,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(ua(),f===m){o=ii(i,o,u);break e}sn(i,o,f,u)}o=o.child}return o;case 5:return Kv(o),i===null&&Vf(o),f=o.type,m=o.pendingProps,v=i!==null?i.memoizedProps:null,E=m.children,Cf(f,m)?E=null:v!==null&&Cf(f,v)&&(o.flags|=32),x_(i,o),sn(i,o,E,u),o.child;case 6:return i===null&&Vf(o),null;case 13:return N_(i,o,u);case 4:return zf(o,o.stateNode.containerInfo),f=o.pendingProps,i===null?o.child=ca(o,null,f,u):sn(i,o,f,u),o.child;case 11:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:er(f,m),S_(i,o,f,m,u);case 7:return sn(i,o,o.pendingProps,u),o.child;case 8:return sn(i,o,o.pendingProps.children,u),o.child;case 12:return sn(i,o,o.pendingProps.children,u),o.child;case 10:e:{if(f=o.type._context,m=o.pendingProps,v=o.memoizedProps,E=m.value,Xe(Fc,f._currentValue),f._currentValue=E,v!==null)if(Jn(v.value,E)){if(v.children===m.children&&!dn.current){o=ii(i,o,u);break e}}else for(v=o.child,v!==null&&(v.return=o);v!==null;){var V=v.dependencies;if(V!==null){E=v.child;for(var F=V.firstContext;F!==null;){if(F.context===f){if(v.tag===1){F=ri(-1,u&-u),F.tag=2;var G=v.updateQueue;if(G!==null){G=G.shared;var ee=G.pending;ee===null?F.next=F:(F.next=ee.next,ee.next=F),G.pending=F}}v.lanes|=u,F=v.alternate,F!==null&&(F.lanes|=u),jf(v.return,u,o),V.lanes|=u;break}F=F.next}}else if(v.tag===10)E=v.type===o.type?null:v.child;else if(v.tag===18){if(E=v.return,E===null)throw Error(t(341));E.lanes|=u,V=E.alternate,V!==null&&(V.lanes|=u),jf(E,u,o),E=v.sibling}else E=v.child;if(E!==null)E.return=v;else for(E=v;E!==null;){if(E===o){E=null;break}if(v=E.sibling,v!==null){v.return=E.return,E=v;break}E=E.return}v=E}sn(i,o,m.children,u),o=o.child}return o;case 9:return m=o.type,f=o.pendingProps.children,da(o,u),m=Ln(m),f=f(m),o.flags|=1,sn(i,o,f,u),o.child;case 14:return f=o.type,m=er(f,o.pendingProps),m=er(f.type,m),C_(i,o,f,m,u);case 15:return A_(i,o,o.type,o.pendingProps,u);case 17:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:er(f,m),Yc(i,o),o.tag=1,fn(f)?(i=!0,Nc(o)):i=!1,da(o,u),y_(o,f,m),tp(o,f,m,u),sp(null,o,f,!0,i,u);case 19:return V_(i,o,u);case 22:return P_(i,o,u)}throw Error(t(156,o.tag))};function iw(i,o){return hl(i,o)}function ux(i,o,u,f){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(i,o,u,f){return new ux(i,o,u,f)}function Cp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function cx(i){if(typeof i=="function")return Cp(i)?1:0;if(i!=null){if(i=i.$$typeof,i===L)return 11;if(i===Ve)return 14}return 2}function Gi(i,o){var u=i.alternate;return u===null?(u=Un(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function ah(i,o,u,f,m,v){var E=2;if(f=i,typeof i=="function")Cp(i)&&(E=1);else if(typeof i=="string")E=5;else e:switch(i){case N:return Zs(u.children,m,v,o);case C:E=8,m|=8;break;case R:return i=Un(12,u,o,m|2),i.elementType=R,i.lanes=v,i;case D:return i=Un(13,u,o,m),i.elementType=D,i.lanes=v,i;case ae:return i=Un(19,u,o,m),i.elementType=ae,i.lanes=v,i;case ke:return lh(u,m,v,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case M:E=10;break e;case O:E=9;break e;case L:E=11;break e;case Ve:E=14;break e;case Se:E=16,f=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return o=Un(E,u,o,m),o.elementType=i,o.type=f,o.lanes=v,o}function Zs(i,o,u,f){return i=Un(7,i,f,o),i.lanes=u,i}function lh(i,o,u,f){return i=Un(22,i,f,o),i.elementType=ke,i.lanes=u,i.stateNode={isHidden:!1},i}function Ap(i,o,u){return i=Un(6,i,null,o),i.lanes=u,i}function Pp(i,o,u){return o=Un(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function hx(i,o,u,f,m){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gl(0),this.expirationTimes=gl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gl(0),this.identifierPrefix=f,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function xp(i,o,u,f,m,v,E,V,F){return i=new hx(i,o,u,V,F),o===1?(o=1,v===!0&&(o|=8)):o=0,v=Un(3,null,null,o),i.current=v,v.stateNode=i,v.memoizedState={element:f,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bf(v),i}function dx(i,o,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:se,key:f==null?null:""+f,children:i,containerInfo:o,implementation:u}}function sw(i){if(!i)return Fi;i=i._reactInternals;e:{if(Yn(i)!==i||i.tag!==1)throw Error(t(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(fn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(i.tag===1){var u=i.type;if(fn(u))return Dv(i,u,o)}return o}function ow(i,o,u,f,m,v,E,V,F){return i=xp(u,f,!0,i,m,v,E,V,F),i.context=sw(null),u=i.current,f=on(),m=Hi(u),v=ri(f,m),v.callback=o??null,Bi(u,v,m),i.current.lanes=m,Ls(i,m,f),gn(i,f),i}function uh(i,o,u,f){var m=o.current,v=on(),E=Hi(m);return u=sw(u),o.context===null?o.context=u:o.pendingContext=u,o=ri(v,E),o.payload={element:i},f=f===void 0?null:f,f!==null&&(o.callback=f),i=Bi(m,o,E),i!==null&&(rr(i,m,E,v),Uc(i,m,E)),E}function ch(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function aw(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function Rp(i,o){aw(i,o),(i=i.alternate)&&aw(i,o)}function fx(){return null}var lw=typeof reportError=="function"?reportError:function(i){console.error(i)};function bp(i){this._internalRoot=i}hh.prototype.render=bp.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(t(409));uh(i,o,null,null)},hh.prototype.unmount=bp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Ys(function(){uh(null,i,null,null)}),o[Jr]=null}};function hh(i){this._internalRoot=i}hh.prototype.unstable_scheduleHydration=function(i){if(i){var o=wl();i={blockedOn:null,target:i,priority:o};for(var u=0;u<Sn.length&&o!==0&&o<Sn[u].priority;u++);Sn.splice(u,0,i),u===0&&Wo(i)}};function kp(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function dh(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function uw(){}function px(i,o,u,f,m){if(m){if(typeof f=="function"){var v=f;f=function(){var G=ch(E);v.call(G)}}var E=ow(o,f,i,0,null,!1,!1,"",uw);return i._reactRootContainer=E,i[Jr]=E.current,Nl(i.nodeType===8?i.parentNode:i),Ys(),E}for(;m=i.lastChild;)i.removeChild(m);if(typeof f=="function"){var V=f;f=function(){var G=ch(F);V.call(G)}}var F=xp(i,0,!1,null,null,!1,!1,"",uw);return i._reactRootContainer=F,i[Jr]=F.current,Nl(i.nodeType===8?i.parentNode:i),Ys(function(){uh(o,F,u,f)}),F}function fh(i,o,u,f,m){var v=u._reactRootContainer;if(v){var E=v;if(typeof m=="function"){var V=m;m=function(){var F=ch(E);V.call(F)}}uh(o,E,i,m)}else E=px(u,o,i,m,f);return ch(E)}vl=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var u=Ge(o.pendingLanes);u!==0&&(yl(o,u|1),gn(o,et()),(We&6)===0&&(ya=et()+500,ji()))}break;case 13:Ys(function(){var f=ni(i,1);if(f!==null){var m=on();rr(f,i,1,m)}}),Rp(i,1)}},zo=function(i){if(i.tag===13){var o=ni(i,134217728);if(o!==null){var u=on();rr(o,i,134217728,u)}Rp(i,134217728)}},_l=function(i){if(i.tag===13){var o=Hi(i),u=ni(i,o);if(u!==null){var f=on();rr(u,i,o,f)}Rp(i,o)}},wl=function(){return Be},Tl=function(i,o){var u=Be;try{return Be=i,o()}finally{Be=u}},zr=function(i,o,u){switch(o){case"input":if(Ps(i,u),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var f=u[o];if(f!==i&&f.form===i.form){var m=bc(f);if(!m)throw Error(t(90));ko(f),Ps(f,m)}}}break;case"textarea":tc(i,u);break;case"select":o=u.value,o!=null&&Kn(i,!!u.multiple,o,!1)}},ic=Ep,sc=Ys;var mx={usingClientEntryPoint:!1,Events:[Ol,ia,bc,Ci,Ai,Ep]},Ql={findFiberByHostInstance:zs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gx={bundleType:Ql.bundleType,version:Ql.version,rendererPackageName:Ql.rendererPackageName,rendererConfig:Ql.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Q.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=dc(i),i===null?null:i.stateNode},findFiberByHostInstance:Ql.findFiberByHostInstance||fx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ph=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ph.isDisabled&&ph.supportsFiber)try{Ds=ph.inject(gx),En=ph}catch{}}return yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mx,yn.createPortal=function(i,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kp(o))throw Error(t(200));return dx(i,o,null,u)},yn.createRoot=function(i,o){if(!kp(i))throw Error(t(299));var u=!1,f="",m=lw;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=xp(i,1,!1,null,null,u,!1,f,m),i[Jr]=o.current,Nl(i.nodeType===8?i.parentNode:i),new bp(o)},yn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=dc(o),i=i===null?null:i.stateNode,i},yn.flushSync=function(i){return Ys(i)},yn.hydrate=function(i,o,u){if(!dh(o))throw Error(t(200));return fh(null,i,o,!0,u)},yn.hydrateRoot=function(i,o,u){if(!kp(i))throw Error(t(405));var f=u!=null&&u.hydratedSources||null,m=!1,v="",E=lw;if(u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onRecoverableError!==void 0&&(E=u.onRecoverableError)),o=ow(o,null,i,1,u??null,m,!1,v,E),i[Jr]=o.current,Nl(i),f)for(i=0;i<f.length;i++)u=f[i],m=u._getVersion,m=m(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,m]:o.mutableSourceEagerHydrationData.push(u,m);return new hh(o)},yn.render=function(i,o,u){if(!dh(o))throw Error(t(200));return fh(null,i,o,!1,u)},yn.unmountComponentAtNode=function(i){if(!dh(i))throw Error(t(40));return i._reactRootContainer?(Ys(function(){fh(null,null,i,!1,function(){i._reactRootContainer=null,i[Jr]=null})}),!0):!1},yn.unstable_batchedUpdates=Ep,yn.unstable_renderSubtreeIntoContainer=function(i,o,u,f){if(!dh(u))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return fh(i,o,u,!1,f)},yn.version="18.3.1-next-f1338f8080-20240426",yn}var yw;function ME(){if(yw)return Vp.exports;yw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Vp.exports=Sx(),Vp.exports}var vw;function Cx(){if(vw)return mh;vw=1;var n=ME();return mh.createRoot=n.createRoot,mh.hydrateRoot=n.hydrateRoot,mh}var Ax=Cx();const Px=wo(Ax);var Sg=ME();const xx=wo(Sg);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _u(){return _u=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_u.apply(this,arguments)}var rs;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(rs||(rs={}));const _w="popstate";function Rx(n){n===void 0&&(n={});function e(r,s){let{pathname:a,search:l,hash:c}=r.location;return Em("",{pathname:a,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:Wh(s)}return kx(e,t,null,n)}function Tt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function LE(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bx(){return Math.random().toString(36).substr(2,8)}function ww(n,e){return{usr:n.state,key:n.key,idx:e}}function Em(n,e,t,r){return t===void 0&&(t=null),_u({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Ga(e):e,{state:t,key:e&&e.key||r||bx()})}function Wh(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ga(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function kx(n,e,t,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,l=s.history,c=rs.Pop,d=null,p=g();p==null&&(p=0,l.replaceState(_u({},l.state,{idx:p}),""));function g(){return(l.state||{idx:null}).idx}function y(){c=rs.Pop;let A=g(),$=A==null?null:A-p;p=A,d&&d({action:c,location:x.location,delta:$})}function w(A,$){c=rs.Push;let U=Em(x.location,A,$);p=g()+1;let B=ww(U,p),Q=x.createHref(U);try{l.pushState(B,"",Q)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;s.location.assign(Q)}a&&d&&d({action:c,location:x.location,delta:1})}function I(A,$){c=rs.Replace;let U=Em(x.location,A,$);p=g();let B=ww(U,p),Q=x.createHref(U);l.replaceState(B,"",Q),a&&d&&d({action:c,location:x.location,delta:0})}function k(A){let $=s.location.origin!=="null"?s.location.origin:s.location.href,U=typeof A=="string"?A:Wh(A);return U=U.replace(/ $/,"%20"),Tt($,"No window.location.(origin|href) available to create URL for href: "+U),new URL(U,$)}let x={get action(){return c},get location(){return n(s,l)},listen(A){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(_w,y),d=A,()=>{s.removeEventListener(_w,y),d=null}},createHref(A){return e(s,A)},createURL:k,encodeLocation(A){let $=k(A);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:w,replace:I,go(A){return l.go(A)}};return x}var Tw;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Tw||(Tw={}));function Nx(n,e,t){return t===void 0&&(t="/"),Dx(n,e,t)}function Dx(n,e,t,r){let s=typeof e=="string"?Ga(e):e,a=Cg(s.pathname||"/",t);if(a==null)return null;let l=FE(n);Vx(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let p=qx(a);c=$x(l[d],p)}return c}function FE(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let s=(a,l,c)=>{let d={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};d.relativePath.startsWith("/")&&(Tt(d.relativePath.startsWith(r),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(r.length));let p=ss([r,d.relativePath]),g=t.concat(d);a.children&&a.children.length>0&&(Tt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),FE(a.children,e,g,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:Bx(p,a.index),routesMeta:g})};return n.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))s(a,l);else for(let d of jE(a.path))s(a,l,d)}),e}function jE(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let l=jE(r.join("/")),c=[];return c.push(...l.map(d=>d===""?a:[a,d].join("/"))),s&&c.push(...l),c.map(d=>n.startsWith("/")&&d===""?"/":d)}function Vx(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:zx(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const Ox=/^:[\w-]+$/,Mx=3,Lx=2,Fx=1,jx=10,Ux=-2,Ew=n=>n==="*";function Bx(n,e){let t=n.split("/"),r=t.length;return t.some(Ew)&&(r+=Ux),e&&(r+=Lx),t.filter(s=>!Ew(s)).reduce((s,a)=>s+(Ox.test(a)?Mx:a===""?Fx:jx),r)}function zx(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function $x(n,e,t){let{routesMeta:r}=n,s={},a="/",l=[];for(let c=0;c<r.length;++c){let d=r[c],p=c===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",y=Wx({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},g),w=d.route;if(!y)return null;Object.assign(s,y.params),l.push({params:s,pathname:ss([a,y.pathname]),pathnameBase:Yx(ss([a,y.pathnameBase])),route:w}),y.pathnameBase!=="/"&&(a=ss([a,y.pathnameBase]))}return l}function Wx(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=Hx(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((p,g,y)=>{let{paramName:w,isOptional:I}=g;if(w==="*"){let x=c[y]||"";l=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const k=c[y];return I&&!k?p[w]=void 0:p[w]=(k||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:n}}function Hx(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),LE(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function qx(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return LE(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function Cg(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function Gx(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?Ga(n):n;return{pathname:t?t.startsWith("/")?t:Kx(t,e):e,search:Xx(r),hash:Jx(s)}}function Kx(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Lp(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Qx(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Ag(n,e){let t=Qx(n);return e?t.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function Pg(n,e,t,r){r===void 0&&(r=!1);let s;typeof n=="string"?s=Ga(n):(s=_u({},n),Tt(!s.pathname||!s.pathname.includes("?"),Lp("?","pathname","search",s)),Tt(!s.pathname||!s.pathname.includes("#"),Lp("#","pathname","hash",s)),Tt(!s.search||!s.search.includes("#"),Lp("#","search","hash",s)));let a=n===""||s.pathname==="",l=a?"/":s.pathname,c;if(l==null)c=t;else{let y=e.length-1;if(!r&&l.startsWith("..")){let w=l.split("/");for(;w[0]==="..";)w.shift(),y-=1;s.pathname=w.join("/")}c=y>=0?e[y]:"/"}let d=Gx(s,c),p=l&&l!=="/"&&l.endsWith("/"),g=(a||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(p||g)&&(d.pathname+="/"),d}const ss=n=>n.join("/").replace(/\/\/+/g,"/"),Yx=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Xx=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Jx=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Zx(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const UE=["post","put","patch","delete"];new Set(UE);const eR=["get",...UE];new Set(eR);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wu(){return wu=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},wu.apply(this,arguments)}const xg=P.createContext(null),tR=P.createContext(null),Es=P.createContext(null),xd=P.createContext(null),Is=P.createContext({outlet:null,matches:[],isDataRoute:!1}),BE=P.createContext(null);function nR(n,e){let{relative:t}=e===void 0?{}:e;Ka()||Tt(!1);let{basename:r,navigator:s}=P.useContext(Es),{hash:a,pathname:l,search:c}=$E(n,{relative:t}),d=l;return r!=="/"&&(d=l==="/"?r:ss([r,l])),s.createHref({pathname:d,search:c,hash:a})}function Ka(){return P.useContext(xd)!=null}function Mu(){return Ka()||Tt(!1),P.useContext(xd).location}function zE(n){P.useContext(Es).static||P.useLayoutEffect(n)}function Lu(){let{isDataRoute:n}=P.useContext(Is);return n?mR():rR()}function rR(){Ka()||Tt(!1);let n=P.useContext(xg),{basename:e,future:t,navigator:r}=P.useContext(Es),{matches:s}=P.useContext(Is),{pathname:a}=Mu(),l=JSON.stringify(Ag(s,t.v7_relativeSplatPath)),c=P.useRef(!1);return zE(()=>{c.current=!0}),P.useCallback(function(p,g){if(g===void 0&&(g={}),!c.current)return;if(typeof p=="number"){r.go(p);return}let y=Pg(p,JSON.parse(l),a,g.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:ss([e,y.pathname])),(g.replace?r.replace:r.push)(y,g.state,g)},[e,r,l,a,n])}function $E(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=P.useContext(Es),{matches:s}=P.useContext(Is),{pathname:a}=Mu(),l=JSON.stringify(Ag(s,r.v7_relativeSplatPath));return P.useMemo(()=>Pg(n,JSON.parse(l),a,t==="path"),[n,l,a,t])}function iR(n,e){return sR(n,e)}function sR(n,e,t,r){Ka()||Tt(!1);let{navigator:s}=P.useContext(Es),{matches:a}=P.useContext(Is),l=a[a.length-1],c=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let p=Mu(),g;if(e){var y;let A=typeof e=="string"?Ga(e):e;d==="/"||(y=A.pathname)!=null&&y.startsWith(d)||Tt(!1),g=A}else g=p;let w=g.pathname||"/",I=w;if(d!=="/"){let A=d.replace(/^\//,"").split("/");I="/"+w.replace(/^\//,"").split("/").slice(A.length).join("/")}let k=Nx(n,{pathname:I}),x=cR(k&&k.map(A=>Object.assign({},A,{params:Object.assign({},c,A.params),pathname:ss([d,s.encodeLocation?s.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?d:ss([d,s.encodeLocation?s.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),a,t,r);return e&&x?P.createElement(xd.Provider,{value:{location:wu({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:rs.Pop}},x):x}function oR(){let n=pR(),e=Zx(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),t?P.createElement("pre",{style:s},t):null,null)}const aR=P.createElement(oR,null);class lR extends P.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?P.createElement(Is.Provider,{value:this.props.routeContext},P.createElement(BE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function uR(n){let{routeContext:e,match:t,children:r}=n,s=P.useContext(xg);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),P.createElement(Is.Provider,{value:e},r)}function cR(n,e,t,r){var s;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var a;if(!t)return null;if(t.errors)n=t.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,c=(s=t)==null?void 0:s.errors;if(c!=null){let g=l.findIndex(y=>y.route.id&&c?.[y.route.id]!==void 0);g>=0||Tt(!1),l=l.slice(0,Math.min(l.length,g+1))}let d=!1,p=-1;if(t&&r&&r.v7_partialHydration)for(let g=0;g<l.length;g++){let y=l[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(p=g),y.route.id){let{loaderData:w,errors:I}=t,k=y.route.loader&&w[y.route.id]===void 0&&(!I||I[y.route.id]===void 0);if(y.route.lazy||k){d=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((g,y,w)=>{let I,k=!1,x=null,A=null;t&&(I=c&&y.route.id?c[y.route.id]:void 0,x=y.route.errorElement||aR,d&&(p<0&&w===0?(gR("route-fallback"),k=!0,A=null):p===w&&(k=!0,A=y.route.hydrateFallbackElement||null)));let $=e.concat(l.slice(0,w+1)),U=()=>{let B;return I?B=x:k?B=A:y.route.Component?B=P.createElement(y.route.Component,null):y.route.element?B=y.route.element:B=g,P.createElement(uR,{match:y,routeContext:{outlet:g,matches:$,isDataRoute:t!=null},children:B})};return t&&(y.route.ErrorBoundary||y.route.errorElement||w===0)?P.createElement(lR,{location:t.location,revalidation:t.revalidation,component:x,error:I,children:U(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):U()},null)}var WE=(function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n})(WE||{}),HE=(function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n})(HE||{});function hR(n){let e=P.useContext(xg);return e||Tt(!1),e}function dR(n){let e=P.useContext(tR);return e||Tt(!1),e}function fR(n){let e=P.useContext(Is);return e||Tt(!1),e}function qE(n){let e=fR(),t=e.matches[e.matches.length-1];return t.route.id||Tt(!1),t.route.id}function pR(){var n;let e=P.useContext(BE),t=dR(),r=qE();return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function mR(){let{router:n}=hR(WE.UseNavigateStable),e=qE(HE.UseNavigateStable),t=P.useRef(!1);return zE(()=>{t.current=!0}),P.useCallback(function(s,a){a===void 0&&(a={}),t.current&&(typeof s=="number"?n.navigate(s):n.navigate(s,wu({fromRouteId:e},a)))},[n,e])}const Iw={};function gR(n,e,t){Iw[n]||(Iw[n]=!0)}function yR(n,e){n?.v7_startTransition,n?.v7_relativeSplatPath}function Im(n){let{to:e,replace:t,state:r,relative:s}=n;Ka()||Tt(!1);let{future:a,static:l}=P.useContext(Es),{matches:c}=P.useContext(Is),{pathname:d}=Mu(),p=Lu(),g=Pg(e,Ag(c,a.v7_relativeSplatPath),d,s==="path"),y=JSON.stringify(g);return P.useEffect(()=>p(JSON.parse(y),{replace:t,state:r,relative:s}),[p,y,s,t,r]),null}function to(n){Tt(!1)}function vR(n){let{basename:e="/",children:t=null,location:r,navigationType:s=rs.Pop,navigator:a,static:l=!1,future:c}=n;Ka()&&Tt(!1);let d=e.replace(/^\/*/,"/"),p=P.useMemo(()=>({basename:d,navigator:a,static:l,future:wu({v7_relativeSplatPath:!1},c)}),[d,c,a,l]);typeof r=="string"&&(r=Ga(r));let{pathname:g="/",search:y="",hash:w="",state:I=null,key:k="default"}=r,x=P.useMemo(()=>{let A=Cg(g,d);return A==null?null:{location:{pathname:A,search:y,hash:w,state:I,key:k},navigationType:s}},[d,g,y,w,I,k,s]);return x==null?null:P.createElement(Es.Provider,{value:p},P.createElement(xd.Provider,{children:t,value:x}))}function _R(n){let{children:e,location:t}=n;return iR(Sm(e),t)}new Promise(()=>{});function Sm(n,e){e===void 0&&(e=[]);let t=[];return P.Children.forEach(n,(r,s)=>{if(!P.isValidElement(r))return;let a=[...e,s];if(r.type===P.Fragment){t.push.apply(t,Sm(r.props.children,a));return}r.type!==to&&Tt(!1),!r.props.index||!r.props.children||Tt(!1);let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Sm(r.props.children,a)),t.push(l)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cm(){return Cm=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Cm.apply(this,arguments)}function wR(n,e){if(n==null)return{};var t={},r=Object.keys(n),s,a;for(a=0;a<r.length;a++)s=r[a],!(e.indexOf(s)>=0)&&(t[s]=n[s]);return t}function TR(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function ER(n,e){return n.button===0&&(!e||e==="_self")&&!TR(n)}const IR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],SR="6";try{window.__reactRouterVersion=SR}catch{}const CR="startTransition",Sw=OE[CR];function AR(n){let{basename:e,children:t,future:r,window:s}=n,a=P.useRef();a.current==null&&(a.current=Rx({window:s,v5Compat:!0}));let l=a.current,[c,d]=P.useState({action:l.action,location:l.location}),{v7_startTransition:p}=r||{},g=P.useCallback(y=>{p&&Sw?Sw(()=>d(y)):d(y)},[d,p]);return P.useLayoutEffect(()=>l.listen(g),[l,g]),P.useEffect(()=>yR(r),[r]),P.createElement(vR,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:l,future:r})}const PR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,RR=P.forwardRef(function(e,t){let{onClick:r,relative:s,reloadDocument:a,replace:l,state:c,target:d,to:p,preventScrollReset:g,viewTransition:y}=e,w=wR(e,IR),{basename:I}=P.useContext(Es),k,x=!1;if(typeof p=="string"&&xR.test(p)&&(k=p,PR))try{let B=new URL(window.location.href),Q=p.startsWith("//")?new URL(B.protocol+p):new URL(p),te=Cg(Q.pathname,I);Q.origin===B.origin&&te!=null?p=te+Q.search+Q.hash:x=!0}catch{}let A=nR(p,{relative:s}),$=bR(p,{replace:l,state:c,target:d,preventScrollReset:g,relative:s,viewTransition:y});function U(B){r&&r(B),B.defaultPrevented||$(B)}return P.createElement("a",Cm({},w,{href:k||A,onClick:x||a?r:U,ref:t,target:d}))});var Cw;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(Cw||(Cw={}));var Aw;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(Aw||(Aw={}));function bR(n,e){let{target:t,replace:r,state:s,preventScrollReset:a,relative:l,viewTransition:c}=e===void 0?{}:e,d=Lu(),p=Mu(),g=$E(n,{relative:l});return P.useCallback(y=>{if(ER(y,t)){y.preventDefault();let w=r!==void 0?r:Wh(p)===Wh(g);d(n,{replace:w,state:s,preventScrollReset:a,relative:l,viewTransition:c})}},[p,d,g,r,s,t,n,a,l,c])}var Fp={exports:{}},jp,Pw;function kR(){if(Pw)return jp;Pw=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return jp=n,jp}var Up,xw;function NR(){if(xw)return Up;xw=1;var n=kR();function e(){}function t(){}return t.resetWarningCache=e,Up=function(){function r(l,c,d,p,g,y){if(y!==n){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}r.isRequired=r;function s(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},Up}var Rw;function DR(){return Rw||(Rw=1,Fp.exports=NR()()),Fp.exports}var VR=DR();const ot=wo(VR);var Bp,bw;function OR(){if(bw)return Bp;bw=1;function n(c){return c&&typeof c=="object"&&"default"in c?c.default:c}var e=Pd(),t=n(e);function r(c,d,p){return d in c?Object.defineProperty(c,d,{value:p,enumerable:!0,configurable:!0,writable:!0}):c[d]=p,c}function s(c,d){c.prototype=Object.create(d.prototype),c.prototype.constructor=c,c.__proto__=d}var a=!!(typeof window<"u"&&window.document&&window.document.createElement);function l(c,d,p){if(typeof c!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof d!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof p<"u"&&typeof p!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function g(y){return y.displayName||y.name||"Component"}return function(w){if(typeof w!="function")throw new Error("Expected WrappedComponent to be a React component.");var I=[],k;function x(){k=c(I.map(function($){return $.props})),A.canUseDOM?d(k):p&&(k=p(k))}var A=(function($){s(U,$);function U(){return $.apply(this,arguments)||this}U.peek=function(){return k},U.rewind=function(){if(U.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var te=k;return k=void 0,I=[],te};var B=U.prototype;return B.UNSAFE_componentWillMount=function(){I.push(this),x()},B.componentDidUpdate=function(){x()},B.componentWillUnmount=function(){var te=I.indexOf(this);I.splice(te,1),x()},B.render=function(){return t.createElement(w,this.props)},U})(e.PureComponent);return r(A,"displayName","SideEffect("+g(w)+")"),r(A,"canUseDOM",a),A}}return Bp=l,Bp}var MR=OR();const LR=wo(MR);var zp,kw;function FR(){if(kw)return zp;kw=1;var n=typeof Element<"u",e=typeof Map=="function",t=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function s(a,l){if(a===l)return!0;if(a&&l&&typeof a=="object"&&typeof l=="object"){if(a.constructor!==l.constructor)return!1;var c,d,p;if(Array.isArray(a)){if(c=a.length,c!=l.length)return!1;for(d=c;d--!==0;)if(!s(a[d],l[d]))return!1;return!0}var g;if(e&&a instanceof Map&&l instanceof Map){if(a.size!==l.size)return!1;for(g=a.entries();!(d=g.next()).done;)if(!l.has(d.value[0]))return!1;for(g=a.entries();!(d=g.next()).done;)if(!s(d.value[1],l.get(d.value[0])))return!1;return!0}if(t&&a instanceof Set&&l instanceof Set){if(a.size!==l.size)return!1;for(g=a.entries();!(d=g.next()).done;)if(!l.has(d.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(a)&&ArrayBuffer.isView(l)){if(c=a.length,c!=l.length)return!1;for(d=c;d--!==0;)if(a[d]!==l[d])return!1;return!0}if(a.constructor===RegExp)return a.source===l.source&&a.flags===l.flags;if(a.valueOf!==Object.prototype.valueOf&&typeof a.valueOf=="function"&&typeof l.valueOf=="function")return a.valueOf()===l.valueOf();if(a.toString!==Object.prototype.toString&&typeof a.toString=="function"&&typeof l.toString=="function")return a.toString()===l.toString();if(p=Object.keys(a),c=p.length,c!==Object.keys(l).length)return!1;for(d=c;d--!==0;)if(!Object.prototype.hasOwnProperty.call(l,p[d]))return!1;if(n&&a instanceof Element)return!1;for(d=c;d--!==0;)if(!((p[d]==="_owner"||p[d]==="__v"||p[d]==="__o")&&a.$$typeof)&&!s(a[p[d]],l[p[d]]))return!1;return!0}return a!==a&&l!==l}return zp=function(l,c){try{return s(l,c)}catch(d){if((d.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw d}},zp}var jR=FR();const UR=wo(jR);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var $p,Nw;function BR(){if(Nw)return $p;Nw=1;var n=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable;function r(a){if(a==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(a)}function s(){try{if(!Object.assign)return!1;var a=new String("abc");if(a[5]="de",Object.getOwnPropertyNames(a)[0]==="5")return!1;for(var l={},c=0;c<10;c++)l["_"+String.fromCharCode(c)]=c;var d=Object.getOwnPropertyNames(l).map(function(g){return l[g]});if(d.join("")!=="0123456789")return!1;var p={};return"abcdefghijklmnopqrst".split("").forEach(function(g){p[g]=g}),Object.keys(Object.assign({},p)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return $p=s()?Object.assign:function(a,l){for(var c,d=r(a),p,g=1;g<arguments.length;g++){c=Object(arguments[g]);for(var y in c)e.call(c,y)&&(d[y]=c[y]);if(n){p=n(c);for(var w=0;w<p.length;w++)t.call(c,p[w])&&(d[p[w]]=c[p[w]])}}return d},$p}var zR=BR();const $R=wo(zR);var co={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},be={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(be).map(function(n){return be[n]});var at={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},Hh={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Tu={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},WR=Object.keys(Hh).reduce(function(n,e){return n[Hh[e]]=e,n},{}),HR=[be.NOSCRIPT,be.SCRIPT,be.STYLE],sr="data-react-helmet",qR=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},GR=function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")},KR=(function(){function n(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}})(),vn=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},QR=function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)},Dw=function(n,e){var t={};for(var r in n)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t},YR=function(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n},Am=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},XR=function(e){var t=Ra(e,be.TITLE),r=Ra(e,Tu.TITLE_TEMPLATE);if(r&&t)return r.replace(/%s/g,function(){return Array.isArray(t)?t.join(""):t});var s=Ra(e,Tu.DEFAULT_TITLE);return t||s||void 0},JR=function(e){return Ra(e,Tu.ON_CHANGE_CLIENT_STATE)||function(){}},Wp=function(e,t){return t.filter(function(r){return typeof r[e]<"u"}).map(function(r){return r[e]}).reduce(function(r,s){return vn({},r,s)},{})},ZR=function(e,t){return t.filter(function(r){return typeof r[be.BASE]<"u"}).map(function(r){return r[be.BASE]}).reverse().reduce(function(r,s){if(!r.length)for(var a=Object.keys(s),l=0;l<a.length;l++){var c=a[l],d=c.toLowerCase();if(e.indexOf(d)!==-1&&s[d])return r.concat(s)}return r},[])},Xl=function(e,t,r){var s={};return r.filter(function(a){return Array.isArray(a[e])?!0:(typeof a[e]<"u"&&rb("Helmet: "+e+' should be of type "Array". Instead found type "'+qR(a[e])+'"'),!1)}).map(function(a){return a[e]}).reverse().reduce(function(a,l){var c={};l.filter(function(w){for(var I=void 0,k=Object.keys(w),x=0;x<k.length;x++){var A=k[x],$=A.toLowerCase();t.indexOf($)!==-1&&!(I===at.REL&&w[I].toLowerCase()==="canonical")&&!($===at.REL&&w[$].toLowerCase()==="stylesheet")&&(I=$),t.indexOf(A)!==-1&&(A===at.INNER_HTML||A===at.CSS_TEXT||A===at.ITEM_PROP)&&(I=A)}if(!I||!w[I])return!1;var U=w[I].toLowerCase();return s[I]||(s[I]={}),c[I]||(c[I]={}),s[I][U]?!1:(c[I][U]=!0,!0)}).reverse().forEach(function(w){return a.push(w)});for(var d=Object.keys(c),p=0;p<d.length;p++){var g=d[p],y=$R({},s[g],c[g]);s[g]=y}return a},[]).reverse()},Ra=function(e,t){for(var r=e.length-1;r>=0;r--){var s=e[r];if(s.hasOwnProperty(t))return s[t]}return null},eb=function(e){return{baseTag:ZR([at.HREF,at.TARGET],e),bodyAttributes:Wp(co.BODY,e),defer:Ra(e,Tu.DEFER),encode:Ra(e,Tu.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Wp(co.HTML,e),linkTags:Xl(be.LINK,[at.REL,at.HREF],e),metaTags:Xl(be.META,[at.NAME,at.CHARSET,at.HTTPEQUIV,at.PROPERTY,at.ITEM_PROP],e),noscriptTags:Xl(be.NOSCRIPT,[at.INNER_HTML],e),onChangeClientState:JR(e),scriptTags:Xl(be.SCRIPT,[at.SRC,at.INNER_HTML],e),styleTags:Xl(be.STYLE,[at.CSS_TEXT],e),title:XR(e),titleAttributes:Wp(co.TITLE,e)}},Pm=(function(){var n=Date.now();return function(e){var t=Date.now();t-n>16?(n=t,e(t)):setTimeout(function(){Pm(e)},0)}})(),Vw=function(e){return clearTimeout(e)},tb=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Pm:global.requestAnimationFrame||Pm,nb=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||Vw:global.cancelAnimationFrame||Vw,rb=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},Jl=null,ib=function(e){Jl&&nb(Jl),e.defer?Jl=tb(function(){Ow(e,function(){Jl=null})}):(Ow(e),Jl=null)},Ow=function(e,t){var r=e.baseTag,s=e.bodyAttributes,a=e.htmlAttributes,l=e.linkTags,c=e.metaTags,d=e.noscriptTags,p=e.onChangeClientState,g=e.scriptTags,y=e.styleTags,w=e.title,I=e.titleAttributes;xm(be.BODY,s),xm(be.HTML,a),sb(w,I);var k={baseTag:_a(be.BASE,r),linkTags:_a(be.LINK,l),metaTags:_a(be.META,c),noscriptTags:_a(be.NOSCRIPT,d),scriptTags:_a(be.SCRIPT,g),styleTags:_a(be.STYLE,y)},x={},A={};Object.keys(k).forEach(function($){var U=k[$],B=U.newTags,Q=U.oldTags;B.length&&(x[$]=B),Q.length&&(A[$]=k[$].oldTags)}),t&&t(),p(e,x,A)},GE=function(e){return Array.isArray(e)?e.join(""):e},sb=function(e,t){typeof e<"u"&&document.title!==e&&(document.title=GE(e)),xm(be.TITLE,t)},xm=function(e,t){var r=document.getElementsByTagName(e)[0];if(r){for(var s=r.getAttribute(sr),a=s?s.split(","):[],l=[].concat(a),c=Object.keys(t),d=0;d<c.length;d++){var p=c[d],g=t[p]||"";r.getAttribute(p)!==g&&r.setAttribute(p,g),a.indexOf(p)===-1&&a.push(p);var y=l.indexOf(p);y!==-1&&l.splice(y,1)}for(var w=l.length-1;w>=0;w--)r.removeAttribute(l[w]);a.length===l.length?r.removeAttribute(sr):r.getAttribute(sr)!==c.join(",")&&r.setAttribute(sr,c.join(","))}},_a=function(e,t){var r=document.head||document.querySelector(be.HEAD),s=r.querySelectorAll(e+"["+sr+"]"),a=Array.prototype.slice.call(s),l=[],c=void 0;return t&&t.length&&t.forEach(function(d){var p=document.createElement(e);for(var g in d)if(d.hasOwnProperty(g))if(g===at.INNER_HTML)p.innerHTML=d.innerHTML;else if(g===at.CSS_TEXT)p.styleSheet?p.styleSheet.cssText=d.cssText:p.appendChild(document.createTextNode(d.cssText));else{var y=typeof d[g]>"u"?"":d[g];p.setAttribute(g,y)}p.setAttribute(sr,"true"),a.some(function(w,I){return c=I,p.isEqualNode(w)})?a.splice(c,1):l.push(p)}),a.forEach(function(d){return d.parentNode.removeChild(d)}),l.forEach(function(d){return r.appendChild(d)}),{oldTags:a,newTags:l}},KE=function(e){return Object.keys(e).reduce(function(t,r){var s=typeof e[r]<"u"?r+'="'+e[r]+'"':""+r;return t?t+" "+s:s},"")},ob=function(e,t,r,s){var a=KE(r),l=GE(t);return a?"<"+e+" "+sr+'="true" '+a+">"+Am(l,s)+"</"+e+">":"<"+e+" "+sr+'="true">'+Am(l,s)+"</"+e+">"},ab=function(e,t,r){return t.reduce(function(s,a){var l=Object.keys(a).filter(function(p){return!(p===at.INNER_HTML||p===at.CSS_TEXT)}).reduce(function(p,g){var y=typeof a[g]>"u"?g:g+'="'+Am(a[g],r)+'"';return p?p+" "+y:y},""),c=a.innerHTML||a.cssText||"",d=HR.indexOf(e)===-1;return s+"<"+e+" "+sr+'="true" '+l+(d?"/>":">"+c+"</"+e+">")},"")},QE=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,s){return r[Hh[s]||s]=e[s],r},t)},lb=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,s){return r[WR[s]||s]=e[s],r},t)},ub=function(e,t,r){var s,a=(s={key:t},s[sr]=!0,s),l=QE(r,a);return[lt.createElement(be.TITLE,l,t)]},cb=function(e,t){return t.map(function(r,s){var a,l=(a={key:s},a[sr]=!0,a);return Object.keys(r).forEach(function(c){var d=Hh[c]||c;if(d===at.INNER_HTML||d===at.CSS_TEXT){var p=r.innerHTML||r.cssText;l.dangerouslySetInnerHTML={__html:p}}else l[d]=r[c]}),lt.createElement(e,l)})},oi=function(e,t,r){switch(e){case be.TITLE:return{toComponent:function(){return ub(e,t.title,t.titleAttributes)},toString:function(){return ob(e,t.title,t.titleAttributes,r)}};case co.BODY:case co.HTML:return{toComponent:function(){return QE(t)},toString:function(){return KE(t)}};default:return{toComponent:function(){return cb(e,t)},toString:function(){return ab(e,t,r)}}}},YE=function(e){var t=e.baseTag,r=e.bodyAttributes,s=e.encode,a=e.htmlAttributes,l=e.linkTags,c=e.metaTags,d=e.noscriptTags,p=e.scriptTags,g=e.styleTags,y=e.title,w=y===void 0?"":y,I=e.titleAttributes;return{base:oi(be.BASE,t,s),bodyAttributes:oi(co.BODY,r,s),htmlAttributes:oi(co.HTML,a,s),link:oi(be.LINK,l,s),meta:oi(be.META,c,s),noscript:oi(be.NOSCRIPT,d,s),script:oi(be.SCRIPT,p,s),style:oi(be.STYLE,g,s),title:oi(be.TITLE,{title:w,titleAttributes:I},s)}},hb=function(e){var t,r;return r=t=(function(s){QR(a,s);function a(){return GR(this,a),YR(this,s.apply(this,arguments))}return a.prototype.shouldComponentUpdate=function(c){return!UR(this.props,c)},a.prototype.mapNestedChildrenToProps=function(c,d){if(!d)return null;switch(c.type){case be.SCRIPT:case be.NOSCRIPT:return{innerHTML:d};case be.STYLE:return{cssText:d}}throw new Error("<"+c.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},a.prototype.flattenArrayTypeChildren=function(c){var d,p=c.child,g=c.arrayTypeChildren,y=c.newChildProps,w=c.nestedChildren;return vn({},g,(d={},d[p.type]=[].concat(g[p.type]||[],[vn({},y,this.mapNestedChildrenToProps(p,w))]),d))},a.prototype.mapObjectTypeChildren=function(c){var d,p,g=c.child,y=c.newProps,w=c.newChildProps,I=c.nestedChildren;switch(g.type){case be.TITLE:return vn({},y,(d={},d[g.type]=I,d.titleAttributes=vn({},w),d));case be.BODY:return vn({},y,{bodyAttributes:vn({},w)});case be.HTML:return vn({},y,{htmlAttributes:vn({},w)})}return vn({},y,(p={},p[g.type]=vn({},w),p))},a.prototype.mapArrayTypeChildrenToProps=function(c,d){var p=vn({},d);return Object.keys(c).forEach(function(g){var y;p=vn({},p,(y={},y[g]=c[g],y))}),p},a.prototype.warnOnInvalidChildren=function(c,d){return!0},a.prototype.mapChildrenToProps=function(c,d){var p=this,g={};return lt.Children.forEach(c,function(y){if(!(!y||!y.props)){var w=y.props,I=w.children,k=Dw(w,["children"]),x=lb(k);switch(p.warnOnInvalidChildren(y,I),y.type){case be.LINK:case be.META:case be.NOSCRIPT:case be.SCRIPT:case be.STYLE:g=p.flattenArrayTypeChildren({child:y,arrayTypeChildren:g,newChildProps:x,nestedChildren:I});break;default:d=p.mapObjectTypeChildren({child:y,newProps:d,newChildProps:x,nestedChildren:I});break}}}),d=this.mapArrayTypeChildrenToProps(g,d),d},a.prototype.render=function(){var c=this.props,d=c.children,p=Dw(c,["children"]),g=vn({},p);return d&&(g=this.mapChildrenToProps(d,g)),lt.createElement(e,g)},KR(a,null,[{key:"canUseDOM",set:function(c){e.canUseDOM=c}}]),a})(lt.Component),t.propTypes={base:ot.object,bodyAttributes:ot.object,children:ot.oneOfType([ot.arrayOf(ot.node),ot.node]),defaultTitle:ot.string,defer:ot.bool,encodeSpecialCharacters:ot.bool,htmlAttributes:ot.object,link:ot.arrayOf(ot.object),meta:ot.arrayOf(ot.object),noscript:ot.arrayOf(ot.object),onChangeClientState:ot.func,script:ot.arrayOf(ot.object),style:ot.arrayOf(ot.object),title:ot.string,titleAttributes:ot.object,titleTemplate:ot.string},t.defaultProps={defer:!0,encodeSpecialCharacters:!0},t.peek=e.peek,t.rewind=function(){var s=e.rewind();return s||(s=YE({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),s},r},db=function(){return null},fb=LR(eb,ib,YE)(db),Rm=hb(fb);Rm.renderStatic=Rm.rewind;const XE=P.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"}),Rd=P.createContext({}),bd=P.createContext(null),kd=typeof document<"u",Rg=kd?P.useLayoutEffect:P.useEffect,JE=P.createContext({strict:!1}),bg=n=>n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),pb="framerAppearId",ZE="data-"+bg(pb);function mb(n,e,t,r){const{visualElement:s}=P.useContext(Rd),a=P.useContext(JE),l=P.useContext(bd),c=P.useContext(XE).reducedMotion,d=P.useRef();r=r||a.renderer,!d.current&&r&&(d.current=r(n,{visualState:e,parent:s,props:t,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const p=d.current;P.useInsertionEffect(()=>{p&&p.update(t,l)});const g=P.useRef(!!(t[ZE]&&!window.HandoffComplete));return Rg(()=>{p&&(p.render(),g.current&&p.animationState&&p.animationState.animateChanges())}),P.useEffect(()=>{p&&(p.updateFeatures(),!g.current&&p.animationState&&p.animationState.animateChanges(),g.current&&(g.current=!1,window.HandoffComplete=!0))}),p}function Sa(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function gb(n,e,t){return P.useCallback(r=>{r&&n.mount&&n.mount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):Sa(t)&&(t.current=r))},[e])}function Eu(n){return typeof n=="string"||Array.isArray(n)}function Nd(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const kg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ng=["initial",...kg];function Dd(n){return Nd(n.animate)||Ng.some(e=>Eu(n[e]))}function eI(n){return!!(Dd(n)||n.variants)}function yb(n,e){if(Dd(n)){const{initial:t,animate:r}=n;return{initial:t===!1||Eu(t)?t:void 0,animate:Eu(r)?r:void 0}}return n.inherit!==!1?e:{}}function vb(n){const{initial:e,animate:t}=yb(n,P.useContext(Rd));return P.useMemo(()=>({initial:e,animate:t}),[Mw(e),Mw(t)])}function Mw(n){return Array.isArray(n)?n.join(" "):n}const Lw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Iu={};for(const n in Lw)Iu[n]={isEnabled:e=>Lw[n].some(t=>!!e[t])};function _b(n){for(const e in n)Iu[e]={...Iu[e],...n[e]}}const Dg=P.createContext({}),tI=P.createContext({}),wb=Symbol.for("motionComponentSymbol");function Tb({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:s}){n&&_b(n);function a(c,d){let p;const g={...P.useContext(XE),...c,layoutId:Eb(c)},{isStatic:y}=g,w=vb(c),I=r(c,y);if(!y&&kd){w.visualElement=mb(s,I,g,e);const k=P.useContext(tI),x=P.useContext(JE).strict;w.visualElement&&(p=w.visualElement.loadFeatures(g,x,n,k))}return P.createElement(Rd.Provider,{value:w},p&&w.visualElement?P.createElement(p,{visualElement:w.visualElement,...g}):null,t(s,c,gb(I,w.visualElement,d),I,y,w.visualElement))}const l=P.forwardRef(a);return l[wb]=s,l}function Eb({layoutId:n}){const e=P.useContext(Dg).id;return e&&n!==void 0?e+"-"+n:n}function Ib(n){function e(r,s={}){return Tb(n(r,s))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(r,s)=>(t.has(s)||t.set(s,e(s)),t.get(s))})}const Sb=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Vg(n){return typeof n!="string"||n.includes("-")?!1:!!(Sb.indexOf(n)>-1||/[A-Z]/.test(n))}const qh={};function Cb(n){Object.assign(qh,n)}const Fu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],To=new Set(Fu);function nI(n,{layout:e,layoutId:t}){return To.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!qh[n]||n==="opacity")}const wn=n=>!!(n&&n.getVelocity),Ab={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Pb=Fu.length;function xb(n,{enableHardwareAcceleration:e=!0,allowTransformNone:t=!0},r,s){let a="";for(let l=0;l<Pb;l++){const c=Fu[l];if(n[c]!==void 0){const d=Ab[c]||c;a+=`${d}(${n[c]}) `}}return e&&!n.z&&(a+="translateZ(0)"),a=a.trim(),s?a=s(n,r?"":a):t&&r&&(a="none"),a}const rI=n=>e=>typeof e=="string"&&e.startsWith(n),iI=rI("--"),bm=rI("var(--"),Rb=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,bb=(n,e)=>e&&typeof n=="number"?e.transform(n):n,fs=(n,e,t)=>Math.min(Math.max(t,n),e),Eo={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},uu={...Eo,transform:n=>fs(0,1,n)},gh={...Eo,default:1},cu=n=>Math.round(n*1e5)/1e5,Vd=/(-)?([\d]*\.?[\d])+/g,sI=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,kb=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function ju(n){return typeof n=="string"}const Uu=n=>({test:e=>ju(e)&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Xi=Uu("deg"),Nr=Uu("%"),Te=Uu("px"),Nb=Uu("vh"),Db=Uu("vw"),Fw={...Nr,parse:n=>Nr.parse(n)/100,transform:n=>Nr.transform(n*100)},jw={...Eo,transform:Math.round},oI={borderWidth:Te,borderTopWidth:Te,borderRightWidth:Te,borderBottomWidth:Te,borderLeftWidth:Te,borderRadius:Te,radius:Te,borderTopLeftRadius:Te,borderTopRightRadius:Te,borderBottomRightRadius:Te,borderBottomLeftRadius:Te,width:Te,maxWidth:Te,height:Te,maxHeight:Te,size:Te,top:Te,right:Te,bottom:Te,left:Te,padding:Te,paddingTop:Te,paddingRight:Te,paddingBottom:Te,paddingLeft:Te,margin:Te,marginTop:Te,marginRight:Te,marginBottom:Te,marginLeft:Te,rotate:Xi,rotateX:Xi,rotateY:Xi,rotateZ:Xi,scale:gh,scaleX:gh,scaleY:gh,scaleZ:gh,skew:Xi,skewX:Xi,skewY:Xi,distance:Te,translateX:Te,translateY:Te,translateZ:Te,x:Te,y:Te,z:Te,perspective:Te,transformPerspective:Te,opacity:uu,originX:Fw,originY:Fw,originZ:Te,zIndex:jw,fillOpacity:uu,strokeOpacity:uu,numOctaves:jw};function Og(n,e,t,r){const{style:s,vars:a,transform:l,transformOrigin:c}=n;let d=!1,p=!1,g=!0;for(const y in e){const w=e[y];if(iI(y)){a[y]=w;continue}const I=oI[y],k=bb(w,I);if(To.has(y)){if(d=!0,l[y]=k,!g)continue;w!==(I.default||0)&&(g=!1)}else y.startsWith("origin")?(p=!0,c[y]=k):s[y]=k}if(e.transform||(d||r?s.transform=xb(n.transform,t,g,r):s.transform&&(s.transform="none")),p){const{originX:y="50%",originY:w="50%",originZ:I=0}=c;s.transformOrigin=`${y} ${w} ${I}`}}const Mg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function aI(n,e,t){for(const r in e)!wn(e[r])&&!nI(r,t)&&(n[r]=e[r])}function Vb({transformTemplate:n},e,t){return P.useMemo(()=>{const r=Mg();return Og(r,e,{enableHardwareAcceleration:!t},n),Object.assign({},r.vars,r.style)},[e])}function Ob(n,e,t){const r=n.style||{},s={};return aI(s,r,n),Object.assign(s,Vb(n,e,t)),n.transformValues?n.transformValues(s):s}function Mb(n,e,t){const r={},s=Ob(n,e,t);return n.drag&&n.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(r.tabIndex=0),r.style=s,r}const Lb=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Gh(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||Lb.has(n)}let lI=n=>!Gh(n);function Fb(n){n&&(lI=e=>e.startsWith("on")?!Gh(e):n(e))}try{Fb(require("@emotion/is-prop-valid").default)}catch{}function jb(n,e,t){const r={};for(const s in n)s==="values"&&typeof n.values=="object"||(lI(s)||t===!0&&Gh(s)||!e&&!Gh(s)||n.draggable&&s.startsWith("onDrag"))&&(r[s]=n[s]);return r}function Uw(n,e,t){return typeof n=="string"?n:Te.transform(e+t*n)}function Ub(n,e,t){const r=Uw(e,n.x,n.width),s=Uw(t,n.y,n.height);return`${r} ${s}`}const Bb={offset:"stroke-dashoffset",array:"stroke-dasharray"},zb={offset:"strokeDashoffset",array:"strokeDasharray"};function $b(n,e,t=1,r=0,s=!0){n.pathLength=1;const a=s?Bb:zb;n[a.offset]=Te.transform(-r);const l=Te.transform(e),c=Te.transform(t);n[a.array]=`${l} ${c}`}function Lg(n,{attrX:e,attrY:t,attrScale:r,originX:s,originY:a,pathLength:l,pathSpacing:c=1,pathOffset:d=0,...p},g,y,w){if(Og(n,p,g,w),y){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:I,style:k,dimensions:x}=n;I.transform&&(x&&(k.transform=I.transform),delete I.transform),x&&(s!==void 0||a!==void 0||k.transform)&&(k.transformOrigin=Ub(x,s!==void 0?s:.5,a!==void 0?a:.5)),e!==void 0&&(I.x=e),t!==void 0&&(I.y=t),r!==void 0&&(I.scale=r),l!==void 0&&$b(I,l,c,d,!1)}const uI=()=>({...Mg(),attrs:{}}),Fg=n=>typeof n=="string"&&n.toLowerCase()==="svg";function Wb(n,e,t,r){const s=P.useMemo(()=>{const a=uI();return Lg(a,e,{enableHardwareAcceleration:!1},Fg(r),n.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(n.style){const a={};aI(a,n.style,n),s.style={...a,...s.style}}return s}function Hb(n=!1){return(t,r,s,{latestValues:a},l)=>{const d=(Vg(t)?Wb:Mb)(r,a,l,t),g={...jb(r,typeof t=="string",n),...d,ref:s},{children:y}=r,w=P.useMemo(()=>wn(y)?y.get():y,[y]);return P.createElement(t,{...g,children:w})}}function cI(n,{style:e,vars:t},r,s){Object.assign(n.style,e,s&&s.getProjectionStyles(r));for(const a in t)n.style.setProperty(a,t[a])}const hI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function dI(n,e,t,r){cI(n,e,void 0,r);for(const s in e.attrs)n.setAttribute(hI.has(s)?s:bg(s),e.attrs[s])}function jg(n,e){const{style:t}=n,r={};for(const s in t)(wn(t[s])||e.style&&wn(e.style[s])||nI(s,n))&&(r[s]=t[s]);return r}function fI(n,e){const t=jg(n,e);for(const r in n)if(wn(n[r])||wn(e[r])){const s=Fu.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;t[s]=n[r]}return t}function Ug(n,e,t,r={},s={}){return typeof e=="function"&&(e=e(t!==void 0?t:n.custom,r,s)),typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"&&(e=e(t!==void 0?t:n.custom,r,s)),e}function pI(n){const e=P.useRef(null);return e.current===null&&(e.current=n()),e.current}const Kh=n=>Array.isArray(n),qb=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),Gb=n=>Kh(n)?n[n.length-1]||0:n;function Nh(n){const e=wn(n)?n.get():n;return qb(e)?e.toValue():e}function Kb({scrapeMotionValuesFromProps:n,createRenderState:e,onMount:t},r,s,a){const l={latestValues:Qb(r,s,a,n),renderState:e()};return t&&(l.mount=c=>t(r,c,l)),l}const mI=n=>(e,t)=>{const r=P.useContext(Rd),s=P.useContext(bd),a=()=>Kb(n,e,r,s);return t?a():pI(a)};function Qb(n,e,t,r){const s={},a=r(n,{});for(const w in a)s[w]=Nh(a[w]);let{initial:l,animate:c}=n;const d=Dd(n),p=eI(n);e&&p&&!d&&n.inherit!==!1&&(l===void 0&&(l=e.initial),c===void 0&&(c=e.animate));let g=t?t.initial===!1:!1;g=g||l===!1;const y=g?c:l;return y&&typeof y!="boolean"&&!Nd(y)&&(Array.isArray(y)?y:[y]).forEach(I=>{const k=Ug(n,I);if(!k)return;const{transitionEnd:x,transition:A,...$}=k;for(const U in $){let B=$[U];if(Array.isArray(B)){const Q=g?B.length-1:0;B=B[Q]}B!==null&&(s[U]=B)}for(const U in x)s[U]=x[U]}),s}const wt=n=>n;class Bw{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);t!==-1&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function Yb(n){let e=new Bw,t=new Bw,r=0,s=!1,a=!1;const l=new WeakSet,c={schedule:(d,p=!1,g=!1)=>{const y=g&&s,w=y?e:t;return p&&l.add(d),w.add(d)&&y&&s&&(r=e.order.length),d},cancel:d=>{t.remove(d),l.delete(d)},process:d=>{if(s){a=!0;return}if(s=!0,[e,t]=[t,e],t.clear(),r=e.order.length,r)for(let p=0;p<r;p++){const g=e.order[p];g(d),l.has(g)&&(c.schedule(g),n())}s=!1,a&&(a=!1,c.process(d))}};return c}const yh=["prepare","read","update","preRender","render","postRender"],Xb=40;function Jb(n,e){let t=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=yh.reduce((y,w)=>(y[w]=Yb(()=>t=!0),y),{}),l=y=>a[y].process(s),c=()=>{const y=performance.now();t=!1,s.delta=r?1e3/60:Math.max(Math.min(y-s.timestamp,Xb),1),s.timestamp=y,s.isProcessing=!0,yh.forEach(l),s.isProcessing=!1,t&&e&&(r=!1,n(c))},d=()=>{t=!0,r=!0,s.isProcessing||n(c)};return{schedule:yh.reduce((y,w)=>{const I=a[w];return y[w]=(k,x=!1,A=!1)=>(t||d(),I.schedule(k,x,A)),y},{}),cancel:y=>yh.forEach(w=>a[w].cancel(y)),state:s,steps:a}}const{schedule:Ze,cancel:fi,state:en,steps:Hp}=Jb(typeof requestAnimationFrame<"u"?requestAnimationFrame:wt,!0),Zb={useVisualState:mI({scrapeMotionValuesFromProps:fI,createRenderState:uI,onMount:(n,e,{renderState:t,latestValues:r})=>{Ze.read(()=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}),Ze.render(()=>{Lg(t,r,{enableHardwareAcceleration:!1},Fg(e.tagName),n.transformTemplate),dI(e,t)})}})},ek={useVisualState:mI({scrapeMotionValuesFromProps:jg,createRenderState:Mg})};function tk(n,{forwardMotionProps:e=!1},t,r){return{...Vg(n)?Zb:ek,preloadedFeatures:t,useRender:Hb(e),createVisualElement:r,Component:n}}function ai(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}const gI=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1;function Od(n,e="page"){return{point:{x:n[e+"X"],y:n[e+"Y"]}}}const nk=n=>e=>gI(e)&&n(e,Od(e));function ci(n,e,t,r){return ai(n,e,nk(t),r)}const rk=(n,e)=>t=>e(n(t)),os=(...n)=>n.reduce(rk);function yI(n){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=n,t):!1}}const zw=yI("dragHorizontal"),$w=yI("dragVertical");function vI(n){let e=!1;if(n==="y")e=$w();else if(n==="x")e=zw();else{const t=zw(),r=$w();t&&r?e=()=>{t(),r()}:(t&&t(),r&&r())}return e}function _I(){const n=vI(!0);return n?(n(),!1):!0}class Ss{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Ww(n,e){const t="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),s=(a,l)=>{if(a.pointerType==="touch"||_I())return;const c=n.getProps();n.animationState&&c.whileHover&&n.animationState.setActive("whileHover",e),c[r]&&Ze.update(()=>c[r](a,l))};return ci(n.current,t,s,{passive:!n.getProps()[r]})}class ik extends Ss{mount(){this.unmount=os(Ww(this.node,!0),Ww(this.node,!1))}unmount(){}}class sk extends Ss{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=os(ai(this.node.current,"focus",()=>this.onFocus()),ai(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const wI=(n,e)=>e?n===e?!0:wI(n,e.parentElement):!1;function qp(n,e){if(!e)return;const t=new PointerEvent("pointer"+n);e(t,Od(t))}class ok extends Ss{constructor(){super(...arguments),this.removeStartListeners=wt,this.removeEndListeners=wt,this.removeAccessibleListeners=wt,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),a=ci(window,"pointerup",(c,d)=>{if(!this.checkPressEnd())return;const{onTap:p,onTapCancel:g,globalTapTarget:y}=this.node.getProps();Ze.update(()=>{!y&&!wI(this.node.current,c.target)?g&&g(c,d):p&&p(c,d)})},{passive:!(r.onTap||r.onPointerUp)}),l=ci(window,"pointercancel",(c,d)=>this.cancelPress(c,d),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=os(a,l),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=a=>{if(a.key!=="Enter"||this.isPressing)return;const l=c=>{c.key!=="Enter"||!this.checkPressEnd()||qp("up",(d,p)=>{const{onTap:g}=this.node.getProps();g&&Ze.update(()=>g(d,p))})};this.removeEndListeners(),this.removeEndListeners=ai(this.node.current,"keyup",l),qp("down",(c,d)=>{this.startPress(c,d)})},t=ai(this.node.current,"keydown",e),r=()=>{this.isPressing&&qp("cancel",(a,l)=>this.cancelPress(a,l))},s=ai(this.node.current,"blur",r);this.removeAccessibleListeners=os(t,s)}}startPress(e,t){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Ze.update(()=>r(e,t))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!_I()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Ze.update(()=>r(e,t))}mount(){const e=this.node.getProps(),t=ci(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=ai(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=os(t,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const km=new WeakMap,Gp=new WeakMap,ak=n=>{const e=km.get(n.target);e&&e(n)},lk=n=>{n.forEach(ak)};function uk({root:n,...e}){const t=n||document;Gp.has(t)||Gp.set(t,{});const r=Gp.get(t),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(lk,{root:n,...e})),r[s]}function ck(n,e,t){const r=uk(e);return km.set(n,t),r.observe(n),()=>{km.delete(n),r.unobserve(n)}}const hk={some:0,all:1};class dk extends Ss{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:s="some",once:a}=e,l={root:t?t.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:hk[s]},c=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:y}=this.node.getProps(),w=p?g:y;w&&w(d)};return ck(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(fk(e,t))&&this.startObserver()}unmount(){}}function fk({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const pk={inView:{Feature:dk},tap:{Feature:ok},focus:{Feature:sk},hover:{Feature:ik}};function TI(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}function mk(n){const e={};return n.values.forEach((t,r)=>e[r]=t.get()),e}function gk(n){const e={};return n.values.forEach((t,r)=>e[r]=t.getVelocity()),e}function Md(n,e,t){const r=n.getProps();return Ug(r,e,t!==void 0?t:r.custom,mk(n),gk(n))}let Bg=wt;const ho=n=>n*1e3,hi=n=>n/1e3,yk={current:!1},EI=n=>Array.isArray(n)&&typeof n[0]=="number";function II(n){return!!(!n||typeof n=="string"&&SI[n]||EI(n)||Array.isArray(n)&&n.every(II))}const ru=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,SI={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ru([0,.65,.55,1]),circOut:ru([.55,0,1,.45]),backIn:ru([.31,.01,.66,-.59]),backOut:ru([.33,1.53,.69,.99])};function CI(n){if(n)return EI(n)?ru(n):Array.isArray(n)?n.map(CI):SI[n]}function vk(n,e,t,{delay:r=0,duration:s,repeat:a=0,repeatType:l="loop",ease:c,times:d}={}){const p={[e]:t};d&&(p.offset=d);const g=CI(c);return Array.isArray(g)&&(p.easing=g),n.animate(p,{delay:r,duration:s,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"})}function _k(n,{repeat:e,repeatType:t="loop"}){const r=e&&t!=="loop"&&e%2===1?0:n.length-1;return n[r]}const AI=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,wk=1e-7,Tk=12;function Ek(n,e,t,r,s){let a,l,c=0;do l=e+(t-e)/2,a=AI(l,r,s)-n,a>0?t=l:e=l;while(Math.abs(a)>wk&&++c<Tk);return l}function Bu(n,e,t,r){if(n===e&&t===r)return wt;const s=a=>Ek(a,0,1,n,t);return a=>a===0||a===1?a:AI(s(a),e,r)}const Ik=Bu(.42,0,1,1),Sk=Bu(0,0,.58,1),PI=Bu(.42,0,.58,1),Ck=n=>Array.isArray(n)&&typeof n[0]!="number",xI=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,RI=n=>e=>1-n(1-e),zg=n=>1-Math.sin(Math.acos(n)),bI=RI(zg),Ak=xI(zg),kI=Bu(.33,1.53,.69,.99),$g=RI(kI),Pk=xI($g),xk=n=>(n*=2)<1?.5*$g(n):.5*(2-Math.pow(2,-10*(n-1))),Rk={linear:wt,easeIn:Ik,easeInOut:PI,easeOut:Sk,circIn:zg,circInOut:Ak,circOut:bI,backIn:$g,backInOut:Pk,backOut:kI,anticipate:xk},Hw=n=>{if(Array.isArray(n)){Bg(n.length===4);const[e,t,r,s]=n;return Bu(e,t,r,s)}else if(typeof n=="string")return Rk[n];return n},Wg=(n,e)=>t=>!!(ju(t)&&kb.test(t)&&t.startsWith(n)||e&&Object.prototype.hasOwnProperty.call(t,e)),NI=(n,e,t)=>r=>{if(!ju(r))return r;const[s,a,l,c]=r.match(Vd);return{[n]:parseFloat(s),[e]:parseFloat(a),[t]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},bk=n=>fs(0,255,n),Kp={...Eo,transform:n=>Math.round(bk(n))},oo={test:Wg("rgb","red"),parse:NI("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+Kp.transform(n)+", "+Kp.transform(e)+", "+Kp.transform(t)+", "+cu(uu.transform(r))+")"};function kk(n){let e="",t="",r="",s="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),s=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),s=n.substring(4,5),e+=e,t+=t,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Nm={test:Wg("#"),parse:kk,transform:oo.transform},Ca={test:Wg("hsl","hue"),parse:NI("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+Nr.transform(cu(e))+", "+Nr.transform(cu(t))+", "+cu(uu.transform(r))+")"},an={test:n=>oo.test(n)||Nm.test(n)||Ca.test(n),parse:n=>oo.test(n)?oo.parse(n):Ca.test(n)?Ca.parse(n):Nm.parse(n),transform:n=>ju(n)?n:n.hasOwnProperty("red")?oo.transform(n):Ca.transform(n)},ht=(n,e,t)=>-t*n+t*e+n;function Qp(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function Nk({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let s=0,a=0,l=0;if(!e)s=a=l=t;else{const c=t<.5?t*(1+e):t+e-t*e,d=2*t-c;s=Qp(d,c,n+1/3),a=Qp(d,c,n),l=Qp(d,c,n-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}const Yp=(n,e,t)=>{const r=n*n;return Math.sqrt(Math.max(0,t*(e*e-r)+r))},Dk=[Nm,oo,Ca],Vk=n=>Dk.find(e=>e.test(n));function qw(n){const e=Vk(n);let t=e.parse(n);return e===Ca&&(t=Nk(t)),t}const DI=(n,e)=>{const t=qw(n),r=qw(e),s={...t};return a=>(s.red=Yp(t.red,r.red,a),s.green=Yp(t.green,r.green,a),s.blue=Yp(t.blue,r.blue,a),s.alpha=ht(t.alpha,r.alpha,a),oo.transform(s))};function Ok(n){var e,t;return isNaN(n)&&ju(n)&&(((e=n.match(Vd))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(sI))===null||t===void 0?void 0:t.length)||0)>0}const VI={regex:Rb,countKey:"Vars",token:"${v}",parse:wt},OI={regex:sI,countKey:"Colors",token:"${c}",parse:an.parse},MI={regex:Vd,countKey:"Numbers",token:"${n}",parse:Eo.parse};function Xp(n,{regex:e,countKey:t,token:r,parse:s}){const a=n.tokenised.match(e);a&&(n["num"+t]=a.length,n.tokenised=n.tokenised.replace(e,r),n.values.push(...a.map(s)))}function Qh(n){const e=n.toString(),t={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return t.value.includes("var(--")&&Xp(t,VI),Xp(t,OI),Xp(t,MI),t}function LI(n){return Qh(n).values}function FI(n){const{values:e,numColors:t,numVars:r,tokenised:s}=Qh(n),a=e.length;return l=>{let c=s;for(let d=0;d<a;d++)d<r?c=c.replace(VI.token,l[d]):d<r+t?c=c.replace(OI.token,an.transform(l[d])):c=c.replace(MI.token,cu(l[d]));return c}}const Mk=n=>typeof n=="number"?0:n;function Lk(n){const e=LI(n);return FI(n)(e.map(Mk))}const ps={test:Ok,parse:LI,createTransformer:FI,getAnimatableNone:Lk},jI=(n,e)=>t=>`${t>0?e:n}`;function UI(n,e){return typeof n=="number"?t=>ht(n,e,t):an.test(n)?DI(n,e):n.startsWith("var(")?jI(n,e):zI(n,e)}const BI=(n,e)=>{const t=[...n],r=t.length,s=n.map((a,l)=>UI(a,e[l]));return a=>{for(let l=0;l<r;l++)t[l]=s[l](a);return t}},Fk=(n,e)=>{const t={...n,...e},r={};for(const s in t)n[s]!==void 0&&e[s]!==void 0&&(r[s]=UI(n[s],e[s]));return s=>{for(const a in r)t[a]=r[a](s);return t}},zI=(n,e)=>{const t=ps.createTransformer(e),r=Qh(n),s=Qh(e);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?os(BI(r.values,s.values),t):jI(n,e)},Su=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r},Gw=(n,e)=>t=>ht(n,e,t);function jk(n){return typeof n=="number"?Gw:typeof n=="string"?an.test(n)?DI:zI:Array.isArray(n)?BI:typeof n=="object"?Fk:Gw}function Uk(n,e,t){const r=[],s=t||jk(n[0]),a=n.length-1;for(let l=0;l<a;l++){let c=s(n[l],n[l+1]);if(e){const d=Array.isArray(e)?e[l]||wt:e;c=os(d,c)}r.push(c)}return r}function $I(n,e,{clamp:t=!0,ease:r,mixer:s}={}){const a=n.length;if(Bg(a===e.length),a===1)return()=>e[0];n[0]>n[a-1]&&(n=[...n].reverse(),e=[...e].reverse());const l=Uk(e,r,s),c=l.length,d=p=>{let g=0;if(c>1)for(;g<n.length-2&&!(p<n[g+1]);g++);const y=Su(n[g],n[g+1],p);return l[g](y)};return t?p=>d(fs(n[0],n[a-1],p)):d}function Bk(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const s=Su(0,e,r);n.push(ht(t,1,s))}}function zk(n){const e=[0];return Bk(e,n.length-1),e}function $k(n,e){return n.map(t=>t*e)}function Wk(n,e){return n.map(()=>e||PI).splice(0,n.length-1)}function Yh({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const s=Ck(r)?r.map(Hw):Hw(r),a={done:!1,value:e[0]},l=$k(t&&t.length===e.length?t:zk(e),n),c=$I(l,e,{ease:Array.isArray(s)?s:Wk(e,s)});return{calculatedDuration:n,next:d=>(a.value=c(d),a.done=d>=n,a)}}function WI(n,e){return e?n*(1e3/e):0}const Hk=5;function HI(n,e,t){const r=Math.max(e-Hk,0);return WI(t-n(r),e-r)}const Jp=.001,qk=.01,Gk=10,Kk=.05,Qk=1;function Yk({duration:n=800,bounce:e=.25,velocity:t=0,mass:r=1}){let s,a,l=1-e;l=fs(Kk,Qk,l),n=fs(qk,Gk,hi(n)),l<1?(s=p=>{const g=p*l,y=g*n,w=g-t,I=Dm(p,l),k=Math.exp(-y);return Jp-w/I*k},a=p=>{const y=p*l*n,w=y*t+t,I=Math.pow(l,2)*Math.pow(p,2)*n,k=Math.exp(-y),x=Dm(Math.pow(p,2),l);return(-s(p)+Jp>0?-1:1)*((w-I)*k)/x}):(s=p=>{const g=Math.exp(-p*n),y=(p-t)*n+1;return-Jp+g*y},a=p=>{const g=Math.exp(-p*n),y=(t-p)*(n*n);return g*y});const c=5/n,d=Jk(s,a,c);if(n=ho(n),isNaN(d))return{stiffness:100,damping:10,duration:n};{const p=Math.pow(d,2)*r;return{stiffness:p,damping:l*2*Math.sqrt(r*p),duration:n}}}const Xk=12;function Jk(n,e,t){let r=t;for(let s=1;s<Xk;s++)r=r-n(r)/e(r);return r}function Dm(n,e){return n*Math.sqrt(1-e*e)}const Zk=["duration","bounce"],eN=["stiffness","damping","mass"];function Kw(n,e){return e.some(t=>n[t]!==void 0)}function tN(n){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...n};if(!Kw(n,eN)&&Kw(n,Zk)){const t=Yk(n);e={...e,...t,mass:1},e.isResolvedFromDuration=!0}return e}function qI({keyframes:n,restDelta:e,restSpeed:t,...r}){const s=n[0],a=n[n.length-1],l={done:!1,value:s},{stiffness:c,damping:d,mass:p,duration:g,velocity:y,isResolvedFromDuration:w}=tN({...r,velocity:-hi(r.velocity||0)}),I=y||0,k=d/(2*Math.sqrt(c*p)),x=a-s,A=hi(Math.sqrt(c/p)),$=Math.abs(x)<5;t||(t=$?.01:2),e||(e=$?.005:.5);let U;if(k<1){const B=Dm(A,k);U=Q=>{const te=Math.exp(-k*A*Q);return a-te*((I+k*A*x)/B*Math.sin(B*Q)+x*Math.cos(B*Q))}}else if(k===1)U=B=>a-Math.exp(-A*B)*(x+(I+A*x)*B);else{const B=A*Math.sqrt(k*k-1);U=Q=>{const te=Math.exp(-k*A*Q),se=Math.min(B*Q,300);return a-te*((I+k*A*x)*Math.sinh(se)+B*x*Math.cosh(se))/B}}return{calculatedDuration:w&&g||null,next:B=>{const Q=U(B);if(w)l.done=B>=g;else{let te=I;B!==0&&(k<1?te=HI(U,B,Q):te=0);const se=Math.abs(te)<=t,N=Math.abs(a-Q)<=e;l.done=se&&N}return l.value=l.done?a:Q,l}}}function Qw({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:l,min:c,max:d,restDelta:p=.5,restSpeed:g}){const y=n[0],w={done:!1,value:y},I=C=>c!==void 0&&C<c||d!==void 0&&C>d,k=C=>c===void 0?d:d===void 0||Math.abs(c-C)<Math.abs(d-C)?c:d;let x=t*e;const A=y+x,$=l===void 0?A:l(A);$!==A&&(x=$-y);const U=C=>-x*Math.exp(-C/r),B=C=>$+U(C),Q=C=>{const R=U(C),M=B(C);w.done=Math.abs(R)<=p,w.value=w.done?$:M};let te,se;const N=C=>{I(w.value)&&(te=C,se=qI({keyframes:[w.value,k(w.value)],velocity:HI(B,C,w.value),damping:s,stiffness:a,restDelta:p,restSpeed:g}))};return N(0),{calculatedDuration:null,next:C=>{let R=!1;return!se&&te===void 0&&(R=!0,Q(C),N(C)),te!==void 0&&C>te?se.next(C-te):(!R&&Q(C),w)}}}const nN=n=>{const e=({timestamp:t})=>n(t);return{start:()=>Ze.update(e,!0),stop:()=>fi(e),now:()=>en.isProcessing?en.timestamp:performance.now()}},Yw=2e4;function Xw(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<Yw;)e+=t,r=n.next(e);return e>=Yw?1/0:e}const rN={decay:Qw,inertia:Qw,tween:Yh,keyframes:Yh,spring:qI};function Xh({autoplay:n=!0,delay:e=0,driver:t=nN,keyframes:r,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",onPlay:d,onStop:p,onComplete:g,onUpdate:y,...w}){let I=1,k=!1,x,A;const $=()=>{A=new Promise(j=>{x=j})};$();let U;const B=rN[s]||Yh;let Q;B!==Yh&&typeof r[0]!="number"&&(Q=$I([0,100],r,{clamp:!1}),r=[0,100]);const te=B({...w,keyframes:r});let se;c==="mirror"&&(se=B({...w,keyframes:[...r].reverse(),velocity:-(w.velocity||0)}));let N="idle",C=null,R=null,M=null;te.calculatedDuration===null&&a&&(te.calculatedDuration=Xw(te));const{calculatedDuration:O}=te;let L=1/0,D=1/0;O!==null&&(L=O+l,D=L*(a+1)-l);let ae=0;const Ve=j=>{if(R===null)return;I>0&&(R=Math.min(R,j)),I<0&&(R=Math.min(j-D/I,R)),C!==null?ae=C:ae=Math.round(j-R)*I;const Y=ae-e*(I>=0?1:-1),pe=I>=0?Y<0:Y>D;ae=Math.max(Y,0),N==="finished"&&C===null&&(ae=D);let Ce=ae,De=te;if(a){const qe=Math.min(ae,D)/L;let Et=Math.floor(qe),hn=qe%1;!hn&&qe>=1&&(hn=1),hn===1&&Et--,Et=Math.min(Et,a+1),!!(Et%2)&&(c==="reverse"?(hn=1-hn,l&&(hn-=l/L)):c==="mirror"&&(De=se)),Ce=fs(0,1,hn)*L}const Ne=pe?{done:!1,value:r[0]}:De.next(Ce);Q&&(Ne.value=Q(Ne.value));let{done:$e}=Ne;!pe&&O!==null&&($e=I>=0?ae>=D:ae<=0);const Ue=C===null&&(N==="finished"||N==="running"&&$e);return y&&y(Ne.value),Ue&&re(),Ne},Se=()=>{U&&U.stop(),U=void 0},ke=()=>{N="idle",Se(),x(),$(),R=M=null},re=()=>{N="finished",g&&g(),Se(),x()},ue=()=>{if(k)return;U||(U=t(Ve));const j=U.now();d&&d(),C!==null?R=j-C:(!R||N==="finished")&&(R=j),N==="finished"&&$(),M=R,C=null,N="running",U.start()};n&&ue();const le={then(j,Y){return A.then(j,Y)},get time(){return hi(ae)},set time(j){j=ho(j),ae=j,C!==null||!U||I===0?C=j:R=U.now()-j/I},get duration(){const j=te.calculatedDuration===null?Xw(te):te.calculatedDuration;return hi(j)},get speed(){return I},set speed(j){j===I||!U||(I=j,le.time=hi(ae))},get state(){return N},play:ue,pause:()=>{N="paused",C=ae},stop:()=>{k=!0,N!=="idle"&&(N="idle",p&&p(),ke())},cancel:()=>{M!==null&&Ve(M),ke()},complete:()=>{N="finished"},sample:j=>(R=0,Ve(j))};return le}function iN(n){let e;return()=>(e===void 0&&(e=n()),e)}const sN=iN(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),oN=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),vh=10,aN=2e4,lN=(n,e)=>e.type==="spring"||n==="backgroundColor"||!II(e.ease);function uN(n,e,{onUpdate:t,onComplete:r,...s}){if(!(sN()&&oN.has(e)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let l=!1,c,d,p=!1;const g=()=>{d=new Promise(B=>{c=B})};g();let{keyframes:y,duration:w=300,ease:I,times:k}=s;if(lN(e,s)){const B=Xh({...s,repeat:0,delay:0});let Q={done:!1,value:y[0]};const te=[];let se=0;for(;!Q.done&&se<aN;)Q=B.sample(se),te.push(Q.value),se+=vh;k=void 0,y=te,w=se-vh,I="linear"}const x=vk(n.owner.current,e,y,{...s,duration:w,ease:I,times:k}),A=()=>{p=!1,x.cancel()},$=()=>{p=!0,Ze.update(A),c(),g()};return x.onfinish=()=>{p||(n.set(_k(y,s)),r&&r(),$())},{then(B,Q){return d.then(B,Q)},attachTimeline(B){return x.timeline=B,x.onfinish=null,wt},get time(){return hi(x.currentTime||0)},set time(B){x.currentTime=ho(B)},get speed(){return x.playbackRate},set speed(B){x.playbackRate=B},get duration(){return hi(w)},play:()=>{l||(x.play(),fi(A))},pause:()=>x.pause(),stop:()=>{if(l=!0,x.playState==="idle")return;const{currentTime:B}=x;if(B){const Q=Xh({...s,autoplay:!1});n.setWithVelocity(Q.sample(B-vh).value,Q.sample(B).value,vh)}$()},complete:()=>{p||x.finish()},cancel:$}}function cN({keyframes:n,delay:e,onUpdate:t,onComplete:r}){const s=()=>(t&&t(n[n.length-1]),r&&r(),{time:0,speed:1,duration:0,play:wt,pause:wt,stop:wt,then:a=>(a(),Promise.resolve()),cancel:wt,complete:wt});return e?Xh({keyframes:[0,1],duration:0,delay:e,onComplete:s}):s()}const hN={type:"spring",stiffness:500,damping:25,restSpeed:10},dN=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),fN={type:"keyframes",duration:.8},pN={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},mN=(n,{keyframes:e})=>e.length>2?fN:To.has(n)?n.startsWith("scale")?dN(e[1]):hN:pN,Vm=(n,e)=>n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ps.test(e)||e==="0")&&!e.startsWith("url(")),gN=new Set(["brightness","contrast","saturate","opacity"]);function yN(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(Vd)||[];if(!r)return n;const s=t.replace(r,"");let a=gN.has(e)?1:0;return r!==t&&(a*=100),e+"("+a+s+")"}const vN=/([a-z-]*)\(.*?\)/g,Om={...ps,getAnimatableNone:n=>{const e=n.match(vN);return e?e.map(yN).join(" "):n}},_N={...oI,color:an,backgroundColor:an,outlineColor:an,fill:an,stroke:an,borderColor:an,borderTopColor:an,borderRightColor:an,borderBottomColor:an,borderLeftColor:an,filter:Om,WebkitFilter:Om},Hg=n=>_N[n];function GI(n,e){let t=Hg(n);return t!==Om&&(t=ps),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const KI=n=>/^0[^.\s]+$/.test(n);function wN(n){if(typeof n=="number")return n===0;if(n!==null)return n==="none"||n==="0"||KI(n)}function TN(n,e,t,r){const s=Vm(e,t);let a;Array.isArray(t)?a=[...t]:a=[null,t];const l=r.from!==void 0?r.from:n.get();let c;const d=[];for(let p=0;p<a.length;p++)a[p]===null&&(a[p]=p===0?l:a[p-1]),wN(a[p])&&d.push(p),typeof a[p]=="string"&&a[p]!=="none"&&a[p]!=="0"&&(c=a[p]);if(s&&d.length&&c)for(let p=0;p<d.length;p++){const g=d[p];a[g]=GI(e,c)}return a}function EN({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:s,repeat:a,repeatType:l,repeatDelay:c,from:d,elapsed:p,...g}){return!!Object.keys(g).length}function qg(n,e){return n[e]||n.default||n}const IN={skipAnimations:!1},Gg=(n,e,t,r={})=>s=>{const a=qg(r,n)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-ho(l);const d=TN(e,n,t,a),p=d[0],g=d[d.length-1],y=Vm(n,p),w=Vm(n,g);let I={keyframes:d,velocity:e.getVelocity(),ease:"easeOut",...a,delay:-c,onUpdate:k=>{e.set(k),a.onUpdate&&a.onUpdate(k)},onComplete:()=>{s(),a.onComplete&&a.onComplete()}};if(EN(a)||(I={...I,...mN(n,I)}),I.duration&&(I.duration=ho(I.duration)),I.repeatDelay&&(I.repeatDelay=ho(I.repeatDelay)),!y||!w||yk.current||a.type===!1||IN.skipAnimations)return cN(I);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const k=uN(e,n,I);if(k)return k}return Xh(I)};function Jh(n){return!!(wn(n)&&n.add)}const QI=n=>/^\-?\d*\.?\d+$/.test(n);function Kg(n,e){n.indexOf(e)===-1&&n.push(e)}function Qg(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class Yg{constructor(){this.subscriptions=[]}add(e){return Kg(this.subscriptions,e),()=>Qg(this.subscriptions,e)}notify(e,t,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,t,r);else for(let a=0;a<s;a++){const l=this.subscriptions[a];l&&l(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const SN=n=>!isNaN(parseFloat(n));class CN{constructor(e,t={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:a,timestamp:l}=en;this.lastUpdated!==l&&(this.timeDelta=a,this.lastUpdated=l,Ze.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Ze.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=SN(this.current),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Yg);const r=this.events[e].add(t);return e==="change"?()=>{r(),Ze.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?WI(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Fa(n,e){return new CN(n,e)}const YI=n=>e=>e.test(n),AN={test:n=>n==="auto",parse:n=>n},XI=[Eo,Te,Nr,Xi,Db,Nb,AN],Zl=n=>XI.find(YI(n)),PN=[...XI,an,ps],xN=n=>PN.find(YI(n));function RN(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Fa(t))}function bN(n,e){const t=Md(n,e);let{transitionEnd:r={},transition:s={},...a}=t?n.makeTargetAnimatable(t,!1):{};a={...a,...r};for(const l in a){const c=Gb(a[l]);RN(n,l,c)}}function kN(n,e,t){var r,s;const a=Object.keys(e).filter(c=>!n.hasValue(c)),l=a.length;if(l)for(let c=0;c<l;c++){const d=a[c],p=e[d];let g=null;Array.isArray(p)&&(g=p[0]),g===null&&(g=(s=(r=t[d])!==null&&r!==void 0?r:n.readValue(d))!==null&&s!==void 0?s:e[d]),g!=null&&(typeof g=="string"&&(QI(g)||KI(g))?g=parseFloat(g):!xN(g)&&ps.test(p)&&(g=GI(d,p)),n.addValue(d,Fa(g,{owner:n})),t[d]===void 0&&(t[d]=g),g!==null&&n.setBaseTarget(d,g))}}function NN(n,e){return e?(e[n]||e.default||e).from:void 0}function DN(n,e,t){const r={};for(const s in n){const a=NN(s,e);if(a!==void 0)r[s]=a;else{const l=t.getValue(s);l&&(r[s]=l.get())}}return r}function VN({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function ON(n,e){const t=n.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}else return t!==e}function JI(n,e,{delay:t=0,transitionOverride:r,type:s}={}){let{transition:a=n.getDefaultTransition(),transitionEnd:l,...c}=n.makeTargetAnimatable(e);const d=n.getValue("willChange");r&&(a=r);const p=[],g=s&&n.animationState&&n.animationState.getState()[s];for(const y in c){const w=n.getValue(y),I=c[y];if(!w||I===void 0||g&&VN(g,y))continue;const k={delay:t,elapsed:0,...qg(a||{},y)};if(window.HandoffAppearAnimations){const $=n.getProps()[ZE];if($){const U=window.HandoffAppearAnimations($,y,w,Ze);U!==null&&(k.elapsed=U,k.isHandoff=!0)}}let x=!k.isHandoff&&!ON(w,I);if(k.type==="spring"&&(w.getVelocity()||k.velocity)&&(x=!1),w.animation&&(x=!1),x)continue;w.start(Gg(y,w,I,n.shouldReduceMotion&&To.has(y)?{type:!1}:k));const A=w.animation;Jh(d)&&(d.add(y),A.then(()=>d.remove(y))),p.push(A)}return l&&Promise.all(p).then(()=>{l&&bN(n,l)}),p}function Mm(n,e,t={}){const r=Md(n,e,t.custom);let{transition:s=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(s=t.transitionOverride);const a=r?()=>Promise.all(JI(n,r,t)):()=>Promise.resolve(),l=n.variantChildren&&n.variantChildren.size?(d=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:y}=s;return MN(n,e,p+d,g,y,t)}:()=>Promise.resolve(),{when:c}=s;if(c){const[d,p]=c==="beforeChildren"?[a,l]:[l,a];return d().then(()=>p())}else return Promise.all([a(),l(t.delay)])}function MN(n,e,t=0,r=0,s=1,a){const l=[],c=(n.variantChildren.size-1)*r,d=s===1?(p=0)=>p*r:(p=0)=>c-p*r;return Array.from(n.variantChildren).sort(LN).forEach((p,g)=>{p.notify("AnimationStart",e),l.push(Mm(p,e,{...a,delay:t+d(g)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(l)}function LN(n,e){return n.sortNodePosition(e)}function FN(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(a=>Mm(n,a,t));r=Promise.all(s)}else if(typeof e=="string")r=Mm(n,e,t);else{const s=typeof e=="function"?Md(n,e,t.custom):e;r=Promise.all(JI(n,s,t))}return r.then(()=>n.notify("AnimationComplete",e))}const jN=[...kg].reverse(),UN=kg.length;function BN(n){return e=>Promise.all(e.map(({animation:t,options:r})=>FN(n,t,r)))}function zN(n){let e=BN(n);const t=WN();let r=!0;const s=(d,p)=>{const g=Md(n,p);if(g){const{transition:y,transitionEnd:w,...I}=g;d={...d,...I,...w}}return d};function a(d){e=d(n)}function l(d,p){const g=n.getProps(),y=n.getVariantContext(!0)||{},w=[],I=new Set;let k={},x=1/0;for(let $=0;$<UN;$++){const U=jN[$],B=t[U],Q=g[U]!==void 0?g[U]:y[U],te=Eu(Q),se=U===p?B.isActive:null;se===!1&&(x=$);let N=Q===y[U]&&Q!==g[U]&&te;if(N&&r&&n.manuallyAnimateOnMount&&(N=!1),B.protectedKeys={...k},!B.isActive&&se===null||!Q&&!B.prevProp||Nd(Q)||typeof Q=="boolean")continue;let R=$N(B.prevProp,Q)||U===p&&B.isActive&&!N&&te||$>x&&te,M=!1;const O=Array.isArray(Q)?Q:[Q];let L=O.reduce(s,{});se===!1&&(L={});const{prevResolvedValues:D={}}=B,ae={...D,...L},Ve=Se=>{R=!0,I.has(Se)&&(M=!0,I.delete(Se)),B.needsAnimating[Se]=!0};for(const Se in ae){const ke=L[Se],re=D[Se];if(k.hasOwnProperty(Se))continue;let ue=!1;Kh(ke)&&Kh(re)?ue=!TI(ke,re):ue=ke!==re,ue?ke!==void 0?Ve(Se):I.add(Se):ke!==void 0&&I.has(Se)?Ve(Se):B.protectedKeys[Se]=!0}B.prevProp=Q,B.prevResolvedValues=L,B.isActive&&(k={...k,...L}),r&&n.blockInitialAnimation&&(R=!1),R&&(!N||M)&&w.push(...O.map(Se=>({animation:Se,options:{type:U,...d}})))}if(I.size){const $={};I.forEach(U=>{const B=n.getBaseTarget(U);B!==void 0&&($[U]=B)}),w.push({animation:$})}let A=!!w.length;return r&&(g.initial===!1||g.initial===g.animate)&&!n.manuallyAnimateOnMount&&(A=!1),r=!1,A?e(w):Promise.resolve()}function c(d,p,g){var y;if(t[d].isActive===p)return Promise.resolve();(y=n.variantChildren)===null||y===void 0||y.forEach(I=>{var k;return(k=I.animationState)===null||k===void 0?void 0:k.setActive(d,p)}),t[d].isActive=p;const w=l(g,d);for(const I in t)t[I].protectedKeys={};return w}return{animateChanges:l,setActive:c,setAnimateFunction:a,getState:()=>t}}function $N(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!TI(e,n):!1}function eo(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function WN(){return{animate:eo(!0),whileInView:eo(),whileHover:eo(),whileTap:eo(),whileDrag:eo(),whileFocus:eo(),exit:eo()}}class HN extends Ss{constructor(e){super(e),e.animationState||(e.animationState=zN(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Nd(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}let qN=0;class GN extends Ss{constructor(){super(...arguments),this.id=qN++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});t&&!e&&a.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const KN={animation:{Feature:HN},exit:{Feature:GN}},Jw=(n,e)=>Math.abs(n-e);function QN(n,e){const t=Jw(n.x,e.x),r=Jw(n.y,e.y);return Math.sqrt(t**2+r**2)}class ZI{constructor(e,t,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=em(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,I=QN(y.offset,{x:0,y:0})>=3;if(!w&&!I)return;const{point:k}=y,{timestamp:x}=en;this.history.push({...k,timestamp:x});const{onStart:A,onMove:$}=this.handlers;w||(A&&A(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),$&&$(this.lastMoveEvent,y)},this.handlePointerMove=(y,w)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=Zp(w,this.transformPagePoint),Ze.update(this.updatePoint,!0)},this.handlePointerUp=(y,w)=>{this.end();const{onEnd:I,onSessionEnd:k,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=em(y.type==="pointercancel"?this.lastMoveEventInfo:Zp(w,this.transformPagePoint),this.history);this.startEvent&&I&&I(y,A),k&&k(y,A)},!gI(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=r,this.contextWindow=s||window;const l=Od(e),c=Zp(l,this.transformPagePoint),{point:d}=c,{timestamp:p}=en;this.history=[{...d,timestamp:p}];const{onSessionStart:g}=t;g&&g(e,em(c,this.history)),this.removeListeners=os(ci(this.contextWindow,"pointermove",this.handlePointerMove),ci(this.contextWindow,"pointerup",this.handlePointerUp),ci(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),fi(this.updatePoint)}}function Zp(n,e){return e?{point:e(n.point)}:n}function Zw(n,e){return{x:n.x-e.x,y:n.y-e.y}}function em({point:n},e){return{point:n,delta:Zw(n,eS(e)),offset:Zw(n,YN(e)),velocity:XN(e,.1)}}function YN(n){return n[0]}function eS(n){return n[n.length-1]}function XN(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const s=eS(n);for(;t>=0&&(r=n[t],!(s.timestamp-r.timestamp>ho(e)));)t--;if(!r)return{x:0,y:0};const a=hi(s.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(s.x-r.x)/a,y:(s.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function Nn(n){return n.max-n.min}function Lm(n,e=0,t=.01){return Math.abs(n-e)<=t}function eT(n,e,t,r=.5){n.origin=r,n.originPoint=ht(e.min,e.max,n.origin),n.scale=Nn(t)/Nn(e),(Lm(n.scale,1,1e-4)||isNaN(n.scale))&&(n.scale=1),n.translate=ht(t.min,t.max,n.origin)-n.originPoint,(Lm(n.translate)||isNaN(n.translate))&&(n.translate=0)}function hu(n,e,t,r){eT(n.x,e.x,t.x,r?r.originX:void 0),eT(n.y,e.y,t.y,r?r.originY:void 0)}function tT(n,e,t){n.min=t.min+e.min,n.max=n.min+Nn(e)}function JN(n,e,t){tT(n.x,e.x,t.x),tT(n.y,e.y,t.y)}function nT(n,e,t){n.min=e.min-t.min,n.max=n.min+Nn(e)}function du(n,e,t){nT(n.x,e.x,t.x),nT(n.y,e.y,t.y)}function ZN(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?ht(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?ht(t,n,r.max):Math.min(n,t)),n}function rT(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function eD(n,{top:e,left:t,bottom:r,right:s}){return{x:rT(n.x,t,s),y:rT(n.y,e,r)}}function iT(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function tD(n,e){return{x:iT(n.x,e.x),y:iT(n.y,e.y)}}function nD(n,e){let t=.5;const r=Nn(n),s=Nn(e);return s>r?t=Su(e.min,e.max-r,n.min):r>s&&(t=Su(n.min,n.max-s,e.min)),fs(0,1,t)}function rD(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const Fm=.35;function iD(n=Fm){return n===!1?n=0:n===!0&&(n=Fm),{x:sT(n,"left","right"),y:sT(n,"top","bottom")}}function sT(n,e,t){return{min:oT(n,e),max:oT(n,t)}}function oT(n,e){return typeof n=="number"?n:n[e]||0}const aT=()=>({translate:0,scale:1,origin:0,originPoint:0}),Aa=()=>({x:aT(),y:aT()}),lT=()=>({min:0,max:0}),Pt=()=>({x:lT(),y:lT()});function zn(n){return[n("x"),n("y")]}function tS({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function sD({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function oD(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function tm(n){return n===void 0||n===1}function jm({scale:n,scaleX:e,scaleY:t}){return!tm(n)||!tm(e)||!tm(t)}function no(n){return jm(n)||nS(n)||n.z||n.rotate||n.rotateX||n.rotateY}function nS(n){return uT(n.x)||uT(n.y)}function uT(n){return n&&n!=="0%"}function Zh(n,e,t){const r=n-t,s=e*r;return t+s}function cT(n,e,t,r,s){return s!==void 0&&(n=Zh(n,s,r)),Zh(n,t,r)+e}function Um(n,e=0,t=1,r,s){n.min=cT(n.min,e,t,r,s),n.max=cT(n.max,e,t,r,s)}function rS(n,{x:e,y:t}){Um(n.x,e.translate,e.scale,e.originPoint),Um(n.y,t.translate,t.scale,t.originPoint)}function aD(n,e,t,r=!1){const s=t.length;if(!s)return;e.x=e.y=1;let a,l;for(let c=0;c<s;c++){a=t[c],l=a.projectionDelta;const d=a.instance;d&&d.style&&d.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Pa(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,rS(n,l)),r&&no(a.latestValues)&&Pa(n,a.latestValues))}e.x=hT(e.x),e.y=hT(e.y)}function hT(n){return Number.isInteger(n)||n>1.0000000000001||n<.999999999999?n:1}function Ji(n,e){n.min=n.min+e,n.max=n.max+e}function dT(n,e,[t,r,s]){const a=e[s]!==void 0?e[s]:.5,l=ht(n.min,n.max,a);Um(n,e[t],e[r],l,e.scale)}const lD=["x","scaleX","originX"],uD=["y","scaleY","originY"];function Pa(n,e){dT(n.x,e,lD),dT(n.y,e,uD)}function iS(n,e){return tS(oD(n.getBoundingClientRect(),e))}function cD(n,e,t){const r=iS(n,t),{scroll:s}=e;return s&&(Ji(r.x,s.offset.x),Ji(r.y,s.offset.y)),r}const sS=({current:n})=>n?n.ownerDocument.defaultView:null,hD=new WeakMap;class dD{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Pt(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=g=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Od(g,"page").point)},a=(g,y)=>{const{drag:w,dragPropagation:I,onDragStart:k}=this.getProps();if(w&&!I&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=vI(w),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),zn(A=>{let $=this.getAxisMotionValue(A).get()||0;if(Nr.test($)){const{projection:U}=this.visualElement;if(U&&U.layout){const B=U.layout.layoutBox[A];B&&($=Nn(B)*(parseFloat($)/100))}}this.originPoint[A]=$}),k&&Ze.update(()=>k(g,y),!1,!0);const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},l=(g,y)=>{const{dragPropagation:w,dragDirectionLock:I,onDirectionLock:k,onDrag:x}=this.getProps();if(!w&&!this.openGlobalLock)return;const{offset:A}=y;if(I&&this.currentDirection===null){this.currentDirection=fD(A),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",y.point,A),this.updateAxis("y",y.point,A),this.visualElement.render(),x&&x(g,y)},c=(g,y)=>this.stop(g,y),d=()=>zn(g=>{var y;return this.getAnimationState(g)==="paused"&&((y=this.getAxisMotionValue(g).animation)===null||y===void 0?void 0:y.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new ZI(e,{onSessionStart:s,onStart:a,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:sS(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=t;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&Ze.update(()=>a(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:s}=this.getProps();if(!r||!_h(e,s,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=ZN(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;t&&Sa(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=eD(s.layoutBox,t):this.constraints=!1,this.elastic=iD(r),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&zn(l=>{this.getAxisMotionValue(l)&&(this.constraints[l]=rD(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Sa(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=cD(r,s.root,this.visualElement.getTransformPagePoint());let l=tD(s.layout.layoutBox,a);if(t){const c=t(sD(l));this.hasMutatedConstraints=!!c,c&&(l=tS(c))}return l}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:s,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},p=zn(g=>{if(!_h(g,t,this.currentDirection))return;let y=d&&d[g]||{};l&&(y={min:0,max:0});const w=s?200:1e6,I=s?40:1e7,k={type:"inertia",velocity:r?e[g]:0,bounceStiffness:w,bounceDamping:I,timeConstant:750,restDelta:1,restSpeed:10,...a,...y};return this.startAxisValueAnimation(g,k)});return Promise.all(p).then(c)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return r.start(Gg(e,r,0,t))}stopAnimation(){zn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){zn(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),s=r[t];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){zn(t=>{const{drag:r}=this.getProps();if(!_h(t,r,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(t);if(s&&s.layout){const{min:l,max:c}=s.layout.layoutBox[t];a.set(e[t]-ht(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!Sa(t)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};zn(l=>{const c=this.getAxisMotionValue(l);if(c){const d=c.get();s[l]=nD({min:d,max:d},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),zn(l=>{if(!_h(l,e,null))return;const c=this.getAxisMotionValue(l),{min:d,max:p}=this.constraints[l];c.set(ht(d,p,s[l]))})}addListeners(){if(!this.visualElement.current)return;hD.set(this.visualElement,this);const e=this.visualElement.current,t=ci(e,"pointerdown",d=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();Sa(d)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const l=ai(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(zn(g=>{const y=this.getAxisMotionValue(g);y&&(this.originPoint[g]+=d[g].translate,y.set(y.get()+d[g].translate))}),this.visualElement.render())}));return()=>{l(),t(),a(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:l=Fm,dragMomentum:c=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:s,dragConstraints:a,dragElastic:l,dragMomentum:c}}}function _h(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function fD(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class pD extends Ss{constructor(e){super(e),this.removeGroupControls=wt,this.removeListeners=wt,this.controls=new dD(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||wt}unmount(){this.removeGroupControls(),this.removeListeners()}}const fT=n=>(e,t)=>{n&&Ze.update(()=>n(e,t))};class mD extends Ss{constructor(){super(...arguments),this.removePointerDownListener=wt}onPointerDown(e){this.session=new ZI(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:sS(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:fT(e),onStart:fT(t),onMove:r,onEnd:(a,l)=>{delete this.session,s&&Ze.update(()=>s(a,l))}}}mount(){this.removePointerDownListener=ci(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function gD(){const n=P.useContext(bd);if(n===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:r}=n,s=P.useId();return P.useEffect(()=>r(s),[]),!e&&t?[!1,()=>t&&t(s)]:[!0]}const Dh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pT(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const eu={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Te.test(n))n=parseFloat(n);else return n;const t=pT(n,e.target.x),r=pT(n,e.target.y);return`${t}% ${r}%`}},yD={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,s=ps.parse(n);if(s.length>5)return r;const a=ps.createTransformer(n),l=typeof s[0]!="number"?1:0,c=t.x.scale*e.x,d=t.y.scale*e.y;s[0+l]/=c,s[1+l]/=d;const p=ht(c,d,.5);return typeof s[2+l]=="number"&&(s[2+l]/=p),typeof s[3+l]=="number"&&(s[3+l]/=p),a(s)}};class vD extends lt.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:s}=this.props,{projection:a}=e;Cb(_D),a&&(t.group&&t.group.add(a),r&&r.register&&s&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Dh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:s,isPresent:a}=this.props,l=r.projection;return l&&(l.isPresent=a,s||e.layoutDependency!==t||t===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||Ze.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function oS(n){const[e,t]=gD(),r=P.useContext(Dg);return lt.createElement(vD,{...n,layoutGroup:r,switchLayoutGroup:P.useContext(tI),isPresent:e,safeToRemove:t})}const _D={borderRadius:{...eu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:eu,borderTopRightRadius:eu,borderBottomLeftRadius:eu,borderBottomRightRadius:eu,boxShadow:yD},aS=["TopLeft","TopRight","BottomLeft","BottomRight"],wD=aS.length,mT=n=>typeof n=="string"?parseFloat(n):n,gT=n=>typeof n=="number"||Te.test(n);function TD(n,e,t,r,s,a){s?(n.opacity=ht(0,t.opacity!==void 0?t.opacity:1,ED(r)),n.opacityExit=ht(e.opacity!==void 0?e.opacity:1,0,ID(r))):a&&(n.opacity=ht(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,r));for(let l=0;l<wD;l++){const c=`border${aS[l]}Radius`;let d=yT(e,c),p=yT(t,c);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||gT(d)===gT(p)?(n[c]=Math.max(ht(mT(d),mT(p),r),0),(Nr.test(p)||Nr.test(d))&&(n[c]+="%")):n[c]=p}(e.rotate||t.rotate)&&(n.rotate=ht(e.rotate||0,t.rotate||0,r))}function yT(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const ED=lS(0,.5,bI),ID=lS(.5,.95,wt);function lS(n,e,t){return r=>r<n?0:r>e?1:t(Su(n,e,r))}function vT(n,e){n.min=e.min,n.max=e.max}function Bn(n,e){vT(n.x,e.x),vT(n.y,e.y)}function _T(n,e,t,r,s){return n-=e,n=Zh(n,1/t,r),s!==void 0&&(n=Zh(n,1/s,r)),n}function SD(n,e=0,t=1,r=.5,s,a=n,l=n){if(Nr.test(e)&&(e=parseFloat(e),e=ht(l.min,l.max,e/100)-l.min),typeof e!="number")return;let c=ht(a.min,a.max,r);n===a&&(c-=e),n.min=_T(n.min,e,t,c,s),n.max=_T(n.max,e,t,c,s)}function wT(n,e,[t,r,s],a,l){SD(n,e[t],e[r],e[s],e.scale,a,l)}const CD=["x","scaleX","originX"],AD=["y","scaleY","originY"];function TT(n,e,t,r){wT(n.x,e,CD,t?t.x:void 0,r?r.x:void 0),wT(n.y,e,AD,t?t.y:void 0,r?r.y:void 0)}function ET(n){return n.translate===0&&n.scale===1}function uS(n){return ET(n.x)&&ET(n.y)}function PD(n,e){return n.x.min===e.x.min&&n.x.max===e.x.max&&n.y.min===e.y.min&&n.y.max===e.y.max}function cS(n,e){return Math.round(n.x.min)===Math.round(e.x.min)&&Math.round(n.x.max)===Math.round(e.x.max)&&Math.round(n.y.min)===Math.round(e.y.min)&&Math.round(n.y.max)===Math.round(e.y.max)}function IT(n){return Nn(n.x)/Nn(n.y)}class xD{constructor(){this.members=[]}add(e){Kg(this.members,e),e.scheduleRender()}remove(e){if(Qg(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(s=>e===s);if(t===0)return!1;let r;for(let s=t;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ST(n,e,t){let r="";const s=n.x.translate/e.x,a=n.y.translate/e.y;if((s||a)&&(r=`translate3d(${s}px, ${a}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{rotate:d,rotateX:p,rotateY:g}=t;d&&(r+=`rotate(${d}deg) `),p&&(r+=`rotateX(${p}deg) `),g&&(r+=`rotateY(${g}deg) `)}const l=n.x.scale*e.x,c=n.y.scale*e.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const RD=(n,e)=>n.depth-e.depth;class bD{constructor(){this.children=[],this.isDirty=!1}add(e){Kg(this.children,e),this.isDirty=!0}remove(e){Qg(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(RD),this.isDirty=!1,this.children.forEach(e)}}function kD(n,e){const t=performance.now(),r=({timestamp:s})=>{const a=s-t;a>=e&&(fi(r),n(a-e))};return Ze.read(r,!0),()=>fi(r)}function ND(n){window.MotionDebug&&window.MotionDebug.record(n)}function DD(n){return n instanceof SVGElement&&n.tagName!=="svg"}function VD(n,e,t){const r=wn(n)?n:Fa(n);return r.start(Gg("",r,e,t)),r.animation}const CT=["","X","Y","Z"],OD={visibility:"hidden"},AT=1e3;let MD=0;const ro={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function hS({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(l={},c=e?.()){this.id=MD++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ro.totalNodes=ro.resolvedTargetDeltas=ro.recalculatedProjection=0,this.nodes.forEach(jD),this.nodes.forEach(WD),this.nodes.forEach(HD),this.nodes.forEach(UD),ND(ro)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new bD)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Yg),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const d=this.eventHandlers.get(l);d&&d.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=DD(l),this.instance=l;const{layoutId:d,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(p||d)&&(this.isLayoutDirty=!0),n){let y;const w=()=>this.root.updateBlockedByResize=!1;n(l,()=>{this.root.updateBlockedByResize=!0,y&&y(),y=kD(w,250),Dh.hasAnimatedSinceResize&&(Dh.hasAnimatedSinceResize=!1,this.nodes.forEach(xT))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||p)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:w,hasRelativeTargetChanged:I,layout:k})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||g.getDefaultTransition()||YD,{onLayoutAnimationStart:A,onLayoutAnimationComplete:$}=g.getProps(),U=!this.targetLayout||!cS(this.targetLayout,k)||I,B=!w&&I;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||B||w&&(U||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(y,B);const Q={...qg(x,"layout"),onPlay:A,onComplete:$};(g.shouldReduceMotion||this.options.layoutRoot)&&(Q.delay=0,Q.type=!1),this.startAnimation(Q)}else w||xT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=k})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,fi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(qD),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const y=this.path[g];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(PT);return}this.isUpdating||this.nodes.forEach(zD),this.isUpdating=!1,this.nodes.forEach($D),this.nodes.forEach(LD),this.nodes.forEach(FD),this.clearAllSnapshots();const c=performance.now();en.delta=fs(0,1e3/60,c-en.timestamp),en.timestamp=c,en.isProcessing=!0,Hp.update.process(en),Hp.preRender.process(en),Hp.render.process(en),en.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(BD),this.sharedNodes.forEach(GD)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ze.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ze.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Pt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c&&(this.scroll={animationId:this.root.animationId,phase:l,isRoot:r(this.instance),offset:t(this.instance)})}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform,c=this.projectionDelta&&!uS(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;l&&(c||no(this.latestValues)||g)&&(s(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return l&&(d=this.removeTransform(d)),XD(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return Pt();const c=l.measureViewportBox(),{scroll:d}=this.root;return d&&(Ji(c.x,d.offset.x),Ji(c.y,d.offset.y)),c}removeElementScroll(l){const c=Pt();Bn(c,l);for(let d=0;d<this.path.length;d++){const p=this.path[d],{scroll:g,options:y}=p;if(p!==this.root&&g&&y.layoutScroll){if(g.isRoot){Bn(c,l);const{scroll:w}=this.root;w&&(Ji(c.x,-w.offset.x),Ji(c.y,-w.offset.y))}Ji(c.x,g.offset.x),Ji(c.y,g.offset.y)}}return c}applyTransform(l,c=!1){const d=Pt();Bn(d,l);for(let p=0;p<this.path.length;p++){const g=this.path[p];!c&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Pa(d,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),no(g.latestValues)&&Pa(d,g.latestValues)}return no(this.latestValues)&&Pa(d,this.latestValues),d}removeTransform(l){const c=Pt();Bn(c,l);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!no(p.latestValues))continue;jm(p.latestValues)&&p.updateSnapshot();const g=Pt(),y=p.measurePageBox();Bn(g,y),TT(c,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return no(this.latestValues)&&TT(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==en.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var c;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==d;if(!(l||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:y,layoutId:w}=this.options;if(!(!this.layout||!(y||w))){if(this.resolvedRelativeTargetAt=en.timestamp,!this.targetDelta&&!this.relativeTarget){const I=this.getClosestProjectingParent();I&&I.layout&&this.animationProgress!==1?(this.relativeParent=I,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pt(),this.relativeTargetOrigin=Pt(),du(this.relativeTargetOrigin,this.layout.layoutBox,I.layout.layoutBox),Bn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Pt(),this.targetWithTransforms=Pt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),JN(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Bn(this.target,this.layout.layoutBox),rS(this.target,this.targetDelta)):Bn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const I=this.getClosestProjectingParent();I&&!!I.resumingFrom==!!this.resumingFrom&&!I.options.layoutScroll&&I.target&&this.animationProgress!==1?(this.relativeParent=I,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pt(),this.relativeTargetOrigin=Pt(),du(this.relativeTargetOrigin,this.target,I.target),Bn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ro.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||jm(this.parent.latestValues)||nS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const c=this.getLead(),d=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(p=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===en.timestamp&&(p=!1),p)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;Bn(this.layoutCorrected,this.layout.layoutBox);const w=this.treeScale.x,I=this.treeScale.y;aD(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox);const{target:k}=c;if(!k){this.projectionTransform&&(this.projectionDelta=Aa(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Aa(),this.projectionDeltaWithTransform=Aa());const x=this.projectionTransform;hu(this.projectionDelta,this.layoutCorrected,k,this.latestValues),this.projectionTransform=ST(this.projectionDelta,this.treeScale),(this.projectionTransform!==x||this.treeScale.x!==w||this.treeScale.y!==I)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",k)),ro.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),l){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(l,c=!1){const d=this.snapshot,p=d?d.latestValues:{},g={...this.latestValues},y=Aa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const w=Pt(),I=d?d.source:void 0,k=this.layout?this.layout.source:void 0,x=I!==k,A=this.getStack(),$=!A||A.members.length<=1,U=!!(x&&!$&&this.options.crossfade===!0&&!this.path.some(QD));this.animationProgress=0;let B;this.mixTargetDelta=Q=>{const te=Q/1e3;RT(y.x,l.x,te),RT(y.y,l.y,te),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(du(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),KD(this.relativeTarget,this.relativeTargetOrigin,w,te),B&&PD(this.relativeTarget,B)&&(this.isProjectionDirty=!1),B||(B=Pt()),Bn(B,this.relativeTarget)),x&&(this.animationValues=g,TD(g,p,this.latestValues,te,U,$)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=te},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(fi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ze.update(()=>{Dh.hasAnimatedSinceResize=!0,this.currentAnimation=VD(0,AT,{...l,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(AT),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:d,layout:p,latestValues:g}=l;if(!(!c||!d||!p)){if(this!==l&&this.layout&&p&&dS(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||Pt();const y=Nn(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+y;const w=Nn(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+w}Bn(c,d),Pa(c,g),hu(this.projectionDeltaWithTransform,this.layoutCorrected,c,g)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new xD),this.sharedNodes.get(l).add(c);const p=c.options.initialPromotionConfig;c.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:c}=this.options;return c?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:c}=this.options;return c?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:d}=l;if((d.rotate||d.rotateX||d.rotateY||d.rotateZ)&&(c=!0),!c)return;const p={};for(let g=0;g<CT.length;g++){const y="rotate"+CT[g];d[y]&&(p[y]=d[y],l.setStaticValue(y,0))}l.render();for(const g in p)l.setStaticValue(g,p[g]);l.scheduleRender()}getProjectionStyles(l){var c,d;if(!this.instance||this.isSVG)return;if(!this.isVisible)return OD;const p={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=Nh(l?.pointerEvents)||"",p.transform=g?g(this.latestValues,""):"none",p;const y=this.getLead();if(!this.projectionDelta||!this.layout||!y.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=Nh(l?.pointerEvents)||""),this.hasProjected&&!no(this.latestValues)&&(x.transform=g?g({},""):"none",this.hasProjected=!1),x}const w=y.animationValues||y.latestValues;this.applyTransformsToTarget(),p.transform=ST(this.projectionDeltaWithTransform,this.treeScale,w),g&&(p.transform=g(w,p.transform));const{x:I,y:k}=this.projectionDelta;p.transformOrigin=`${I.origin*100}% ${k.origin*100}% 0`,y.animationValues?p.opacity=y===this?(d=(c=w.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&d!==void 0?d:1:this.preserveOpacity?this.latestValues.opacity:w.opacityExit:p.opacity=y===this?w.opacity!==void 0?w.opacity:"":w.opacityExit!==void 0?w.opacityExit:0;for(const x in qh){if(w[x]===void 0)continue;const{correct:A,applyTo:$}=qh[x],U=p.transform==="none"?w[x]:A(w[x],y);if($){const B=$.length;for(let Q=0;Q<B;Q++)p[$[Q]]=U}else p[x]=U}return this.options.layoutId&&(p.pointerEvents=y===this?Nh(l?.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var c;return(c=l.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(PT),this.root.sharedNodes.clear()}}}function LD(n){n.updateLayout()}function FD(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=n.layout,{animationType:a}=n.options,l=t.source!==n.layout.source;a==="size"?zn(y=>{const w=l?t.measuredBox[y]:t.layoutBox[y],I=Nn(w);w.min=r[y].min,w.max=w.min+I}):dS(a,t.layoutBox,r)&&zn(y=>{const w=l?t.measuredBox[y]:t.layoutBox[y],I=Nn(r[y]);w.max=w.min+I,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[y].max=n.relativeTarget[y].min+I)});const c=Aa();hu(c,r,t.layoutBox);const d=Aa();l?hu(d,n.applyTransform(s,!0),t.measuredBox):hu(d,r,t.layoutBox);const p=!uS(c);let g=!1;if(!n.resumeFrom){const y=n.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:w,layout:I}=y;if(w&&I){const k=Pt();du(k,t.layoutBox,w.layoutBox);const x=Pt();du(x,r,I.layoutBox),cS(k,x)||(g=!0),y.options.layoutRoot&&(n.relativeTarget=x,n.relativeTargetOrigin=k,n.relativeParent=y)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:d,layoutDelta:c,hasLayoutChanged:p,hasRelativeTargetChanged:g})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function jD(n){ro.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function UD(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function BD(n){n.clearSnapshot()}function PT(n){n.clearMeasurements()}function zD(n){n.isLayoutDirty=!1}function $D(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function xT(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function WD(n){n.resolveTargetDelta()}function HD(n){n.calcProjection()}function qD(n){n.resetRotation()}function GD(n){n.removeLeadSnapshot()}function RT(n,e,t){n.translate=ht(e.translate,0,t),n.scale=ht(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function bT(n,e,t,r){n.min=ht(e.min,t.min,r),n.max=ht(e.max,t.max,r)}function KD(n,e,t,r){bT(n.x,e.x,t.x,r),bT(n.y,e.y,t.y,r)}function QD(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const YD={duration:.45,ease:[.4,0,.1,1]},kT=n=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(n),NT=kT("applewebkit/")&&!kT("chrome/")?Math.round:wt;function DT(n){n.min=NT(n.min),n.max=NT(n.max)}function XD(n){DT(n.x),DT(n.y)}function dS(n,e,t){return n==="position"||n==="preserve-aspect"&&!Lm(IT(e),IT(t),.2)}const JD=hS({attachResizeListener:(n,e)=>ai(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),nm={current:void 0},fS=hS({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!nm.current){const n=new JD({});n.mount(window),n.setOptions({layoutScroll:!0}),nm.current=n}return nm.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),ZD={pan:{Feature:mD},drag:{Feature:pD,ProjectionNode:fS,MeasureLayout:oS}},e2=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function t2(n){const e=e2.exec(n);if(!e)return[,];const[,t,r]=e;return[t,r]}function Bm(n,e,t=1){const[r,s]=t2(n);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return QI(l)?parseFloat(l):l}else return bm(s)?Bm(s,e,t+1):s}function n2(n,{...e},t){const r=n.current;if(!(r instanceof Element))return{target:e,transitionEnd:t};t&&(t={...t}),n.values.forEach(s=>{const a=s.get();if(!bm(a))return;const l=Bm(a,r);l&&s.set(l)});for(const s in e){const a=e[s];if(!bm(a))continue;const l=Bm(a,r);l&&(e[s]=l,t||(t={}),t[s]===void 0&&(t[s]=a))}return{target:e,transitionEnd:t}}const r2=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),pS=n=>r2.has(n),i2=n=>Object.keys(n).some(pS),VT=n=>n===Eo||n===Te,OT=(n,e)=>parseFloat(n.split(", ")[e]),MT=(n,e)=>(t,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return OT(s[1],e);{const a=r.match(/^matrix\((.+)\)$/);return a?OT(a[1],n):0}},s2=new Set(["x","y","z"]),o2=Fu.filter(n=>!s2.has(n));function a2(n){const e=[];return o2.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e.length&&n.render(),e}const ja={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:MT(4,13),y:MT(5,14)};ja.translateX=ja.x;ja.translateY=ja.y;const l2=(n,e,t)=>{const r=e.measureViewportBox(),s=e.current,a=getComputedStyle(s),{display:l}=a,c={};l==="none"&&e.setStaticValue("display",n.display||"block"),t.forEach(p=>{c[p]=ja[p](r,a)}),e.render();const d=e.measureViewportBox();return t.forEach(p=>{const g=e.getValue(p);g&&g.jump(c[p]),n[p]=ja[p](d,a)}),n},u2=(n,e,t={},r={})=>{e={...e},r={...r};const s=Object.keys(e).filter(pS);let a=[],l=!1;const c=[];if(s.forEach(d=>{const p=n.getValue(d);if(!n.hasValue(d))return;let g=t[d],y=Zl(g);const w=e[d];let I;if(Kh(w)){const k=w.length,x=w[0]===null?1:0;g=w[x],y=Zl(g);for(let A=x;A<k&&w[A]!==null;A++)I?Bg(Zl(w[A])===I):I=Zl(w[A])}else I=Zl(w);if(y!==I)if(VT(y)&&VT(I)){const k=p.get();typeof k=="string"&&p.set(parseFloat(k)),typeof w=="string"?e[d]=parseFloat(w):Array.isArray(w)&&I===Te&&(e[d]=w.map(parseFloat))}else y?.transform&&I?.transform&&(g===0||w===0)?g===0?p.set(I.transform(g)):e[d]=y.transform(w):(l||(a=a2(n),l=!0),c.push(d),r[d]=r[d]!==void 0?r[d]:e[d],p.jump(w))}),c.length){const d=c.indexOf("height")>=0?window.pageYOffset:null,p=l2(e,n,c);return a.length&&a.forEach(([g,y])=>{n.getValue(g).set(y)}),n.render(),kd&&d!==null&&window.scrollTo({top:d}),{target:p,transitionEnd:r}}else return{target:e,transitionEnd:r}};function c2(n,e,t,r){return i2(e)?u2(n,e,t,r):{target:e,transitionEnd:r}}const h2=(n,e,t,r)=>{const s=n2(n,e,r);return e=s.target,r=s.transitionEnd,c2(n,e,t,r)},zm={current:null},mS={current:!1};function d2(){if(mS.current=!0,!!kd)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>zm.current=n.matches;n.addListener(e),e()}else zm.current=!1}function f2(n,e,t){const{willChange:r}=e;for(const s in e){const a=e[s],l=t[s];if(wn(a))n.addValue(s,a),Jh(r)&&r.add(s);else if(wn(l))n.addValue(s,Fa(a,{owner:n})),Jh(r)&&r.remove(s);else if(l!==a)if(n.hasValue(s)){const c=n.getValue(s);!c.hasAnimated&&c.set(a)}else{const c=n.getStaticValue(s);n.addValue(s,Fa(c!==void 0?c:a,{owner:n}))}}for(const s in t)e[s]===void 0&&n.removeValue(s);return e}const LT=new WeakMap,gS=Object.keys(Iu),p2=gS.length,FT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],m2=Ng.length;class g2{constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:s,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Ze.render(this.render,!1,!0);const{latestValues:c,renderState:d}=a;this.latestValues=c,this.baseTarget={...c},this.initialValues=t.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.isControllingVariants=Dd(t),this.isVariantNode=eI(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...g}=this.scrapeMotionValuesFromProps(t,{});for(const y in g){const w=g[y];c[y]!==void 0&&wn(w)&&(w.set(c[y],!1),Jh(p)&&p.add(y))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,LT.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),mS.current||d2(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:zm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){LT.delete(this.current),this.projection&&this.projection.unmount(),fi(this.notifyUpdate),fi(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const r=To.has(e),s=t.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&Ze.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{s(),a()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...t},r,s,a){let l,c;for(let d=0;d<p2;d++){const p=gS[d],{isEnabled:g,Feature:y,ProjectionNode:w,MeasureLayout:I}=Iu[p];w&&(l=w),g(t)&&(!this.features[p]&&y&&(this.features[p]=new y(this)),I&&(c=I))}if((this.type==="html"||this.type==="svg")&&!this.projection&&l){this.projection=new l(this.latestValues,this.parent&&this.parent.projection);const{layoutId:d,layout:p,drag:g,dragConstraints:y,layoutScroll:w,layoutRoot:I}=t;this.projection.setOptions({layoutId:d,layout:p,alwaysMeasureLayout:!!g||y&&Sa(y),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof p=="string"?p:"both",initialPromotionConfig:a,layoutScroll:w,layoutRoot:I})}return c}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Pt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<FT.length;r++){const s=FT[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a=e["on"+s];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=f2(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const t={};for(let r=0;r<m2;r++){const s=Ng[r],a=this.props[s];(Eu(a)||a===!1)&&(t[s]=a)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=Fa(t,{owner:this}),this.addValue(e,r)),r}readValue(e){var t;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(t=this.getBaseTargetFromProps(this.props,e))!==null&&t!==void 0?t:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(t=Ug(this.props,r))===null||t===void 0?void 0:t[e]:void 0;if(r&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!wn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new Yg),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class yS extends g2{sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...r},{transformValues:s},a){let l=DN(r,e||{},this);if(s&&(t&&(t=s(t)),r&&(r=s(r)),l&&(l=s(l))),a){kN(this,r,l);const c=h2(this,r,l,t);t=c.transitionEnd,r=c.target}return{transition:e,transitionEnd:t,...r}}}function y2(n){return window.getComputedStyle(n)}class v2 extends yS{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,t){if(To.has(t)){const r=Hg(t);return r&&r.default||0}else{const r=y2(e),s=(iI(t)?r.getPropertyValue(t):r[t])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:t}){return iS(e,t)}build(e,t,r,s){Og(e,t,r,s.transformTemplate)}scrapeMotionValuesFromProps(e,t){return jg(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;wn(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(e,t,r,s){cI(e,t,r,s)}}class _2 extends yS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(To.has(t)){const r=Hg(t);return r&&r.default||0}return t=hI.has(t)?t:bg(t),e.getAttribute(t)}measureInstanceViewportBox(){return Pt()}scrapeMotionValuesFromProps(e,t){return fI(e,t)}build(e,t,r,s){Lg(e,t,r,this.isSVGTag,s.transformTemplate)}renderInstance(e,t,r,s){dI(e,t,r,s)}mount(e){this.isSVGTag=Fg(e.tagName),super.mount(e)}}const w2=(n,e)=>Vg(n)?new _2(e,{enableHardwareAcceleration:!1}):new v2(e,{enableHardwareAcceleration:!0}),T2={layout:{ProjectionNode:fS,MeasureLayout:oS}},E2={...KN,...pk,...ZD,...T2},Nt=Ib((n,e)=>tk(n,e,E2,w2));function vS(){const n=P.useRef(!1);return Rg(()=>(n.current=!0,()=>{n.current=!1}),[]),n}function I2(){const n=vS(),[e,t]=P.useState(0),r=P.useCallback(()=>{n.current&&t(e+1)},[e]);return[P.useCallback(()=>Ze.postRender(r),[r]),e]}class S2 extends P.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function C2({children:n,isPresent:e}){const t=P.useId(),r=P.useRef(null),s=P.useRef({width:0,height:0,top:0,left:0});return P.useInsertionEffect(()=>{const{width:a,height:l,top:c,left:d}=s.current;if(e||!r.current||!a||!l)return;r.current.dataset.motionPopId=t;const p=document.createElement("style");return document.head.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${d}px !important;
          }
        `),()=>{document.head.removeChild(p)}},[e]),P.createElement(S2,{isPresent:e,childRef:r,sizeRef:s},P.cloneElement(n,{ref:r}))}const rm=({children:n,initial:e,isPresent:t,onExitComplete:r,custom:s,presenceAffectsLayout:a,mode:l})=>{const c=pI(A2),d=P.useId(),p=P.useMemo(()=>({id:d,initial:e,isPresent:t,custom:s,onExitComplete:g=>{c.set(g,!0);for(const y of c.values())if(!y)return;r&&r()},register:g=>(c.set(g,!1),()=>c.delete(g))}),a?void 0:[t]);return P.useMemo(()=>{c.forEach((g,y)=>c.set(y,!1))},[t]),P.useEffect(()=>{!t&&!c.size&&r&&r()},[t]),l==="popLayout"&&(n=P.createElement(C2,{isPresent:t},n)),P.createElement(bd.Provider,{value:p},n)};function A2(){return new Map}function P2(n){return P.useEffect(()=>()=>n(),[])}const io=n=>n.key||"";function x2(n,e){n.forEach(t=>{const r=io(t);e.set(r,t)})}function R2(n){const e=[];return P.Children.forEach(n,t=>{P.isValidElement(t)&&e.push(t)}),e}const b2=({children:n,custom:e,initial:t=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:a=!0,mode:l="sync"})=>{const c=P.useContext(Dg).forceRender||I2()[0],d=vS(),p=R2(n);let g=p;const y=P.useRef(new Map).current,w=P.useRef(g),I=P.useRef(new Map).current,k=P.useRef(!0);if(Rg(()=>{k.current=!1,x2(p,I),w.current=g}),P2(()=>{k.current=!0,I.clear(),y.clear()}),k.current)return P.createElement(P.Fragment,null,g.map(U=>P.createElement(rm,{key:io(U),isPresent:!0,initial:t?void 0:!1,presenceAffectsLayout:a,mode:l},U)));g=[...g];const x=w.current.map(io),A=p.map(io),$=x.length;for(let U=0;U<$;U++){const B=x[U];A.indexOf(B)===-1&&!y.has(B)&&y.set(B,void 0)}return l==="wait"&&y.size&&(g=[]),y.forEach((U,B)=>{if(A.indexOf(B)!==-1)return;const Q=I.get(B);if(!Q)return;const te=x.indexOf(B);let se=U;if(!se){const N=()=>{y.delete(B);const C=Array.from(I.keys()).filter(R=>!A.includes(R));if(C.forEach(R=>I.delete(R)),w.current=p.filter(R=>{const M=io(R);return M===B||C.includes(M)}),!y.size){if(d.current===!1)return;c(),r&&r()}};se=P.createElement(rm,{key:io(Q),isPresent:!1,onExitComplete:N,custom:e,presenceAffectsLayout:a,mode:l},Q),y.set(B,se)}g.splice(te,0,se)}),g=g.map(U=>{const B=U.key;return y.has(B)?U:P.createElement(rm,{key:io(U),isPresent:!0,presenceAffectsLayout:a,mode:l},U)}),P.createElement(P.Fragment,null,y.size?g:g.map(U=>P.cloneElement(U)))};var k2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const N2=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ft=(n,e)=>{const t=P.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:l,children:c,...d},p)=>P.createElement("svg",{ref:p,...k2,width:s,height:s,stroke:r,strokeWidth:l?Number(a)*24/Number(s):a,className:`lucide lucide-${N2(n)}`,...d},[...e.map(([g,y])=>P.createElement(g,y)),...(Array.isArray(c)?c:[c])||[]]));return t.displayName=`${n}`,t},Xg=ft("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),_S=ft("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),D2=ft("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),V2=ft("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),O2=ft("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),M2=ft("CloudRain",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]]),L2=ft("CloudSnow",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M8 15h.01",key:"a7atzg"}],["path",{d:"M8 19h.01",key:"puxtts"}],["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M12 21h.01",key:"h35vbk"}],["path",{d:"M16 15h.01",key:"rnfrdf"}],["path",{d:"M16 19h.01",key:"1vcnzz"}]]),F2=ft("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]),j2=ft("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]),U2=ft("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),B2=ft("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]),$m=ft("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),z2=ft("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),$2=ft("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),W2=ft("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),H2=ft("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),wS=ft("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),q2=ft("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]),TS=ft("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),G2=ft("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),K2=ft("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Q2=ft("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]),Y2=ft("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function ES(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=ES(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function IS(){for(var n,e,t=0,r="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=ES(n))&&(r&&(r+=" "),r+=e);return r}function X2(){for(var n=0,e,t,r="";n<arguments.length;)(e=arguments[n++])&&(t=SS(e))&&(r&&(r+=" "),r+=t);return r}function SS(n){if(typeof n=="string")return n;for(var e,t="",r=0;r<n.length;r++)n[r]&&(e=SS(n[r]))&&(t&&(t+=" "),t+=e);return t}var Jg="-";function J2(n){var e=eV(n),t=n.conflictingClassGroups,r=n.conflictingClassGroupModifiers,s=r===void 0?{}:r;function a(c){var d=c.split(Jg);return d[0]===""&&d.length!==1&&d.shift(),CS(d,e)||Z2(c)}function l(c,d){var p=t[c]||[];return d&&s[c]?[].concat(p,s[c]):p}return{getClassGroupId:a,getConflictingClassGroupIds:l}}function CS(n,e){if(n.length===0)return e.classGroupId;var t=n[0],r=e.nextPart.get(t),s=r?CS(n.slice(1),r):void 0;if(s)return s;if(e.validators.length!==0){var a=n.join(Jg);return e.validators.find(function(l){var c=l.validator;return c(a)})?.classGroupId}}var jT=/^\[(.+)\]$/;function Z2(n){if(jT.test(n)){var e=jT.exec(n)[1],t=e?.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}}function eV(n){var e=n.theme,t=n.prefix,r={nextPart:new Map,validators:[]},s=nV(Object.entries(n.classGroups),t);return s.forEach(function(a){var l=a[0],c=a[1];Wm(c,r,l,e)}),r}function Wm(n,e,t,r){n.forEach(function(s){if(typeof s=="string"){var a=s===""?e:UT(e,s);a.classGroupId=t;return}if(typeof s=="function"){if(tV(s)){Wm(s(r),e,t,r);return}e.validators.push({validator:s,classGroupId:t});return}Object.entries(s).forEach(function(l){var c=l[0],d=l[1];Wm(d,UT(e,c),t,r)})})}function UT(n,e){var t=n;return e.split(Jg).forEach(function(r){t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t}function tV(n){return n.isThemeGetter}function nV(n,e){return e?n.map(function(t){var r=t[0],s=t[1],a=s.map(function(l){return typeof l=="string"?e+l:typeof l=="object"?Object.fromEntries(Object.entries(l).map(function(c){var d=c[0],p=c[1];return[e+d,p]})):l});return[r,a]}):n}function rV(n){if(n<1)return{get:function(){},set:function(){}};var e=0,t=new Map,r=new Map;function s(a,l){t.set(a,l),e++,e>n&&(e=0,r=t,t=new Map)}return{get:function(l){var c=t.get(l);if(c!==void 0)return c;if((c=r.get(l))!==void 0)return s(l,c),c},set:function(l,c){t.has(l)?t.set(l,c):s(l,c)}}}var AS="!";function iV(n){var e=n.separator||":",t=e.length===1,r=e[0],s=e.length;return function(l){for(var c=[],d=0,p=0,g,y=0;y<l.length;y++){var w=l[y];if(d===0){if(w===r&&(t||l.slice(y,y+s)===e)){c.push(l.slice(p,y)),p=y+s;continue}if(w==="/"){g=y;continue}}w==="["?d++:w==="]"&&d--}var I=c.length===0?l:l.substring(p),k=I.startsWith(AS),x=k?I.substring(1):I,A=g&&g>p?g-p:void 0;return{modifiers:c,hasImportantModifier:k,baseClassName:x,maybePostfixModifierPosition:A}}}function sV(n){if(n.length<=1)return n;var e=[],t=[];return n.forEach(function(r){var s=r[0]==="[";s?(e.push.apply(e,t.sort().concat([r])),t=[]):t.push(r)}),e.push.apply(e,t.sort()),e}function oV(n){return{cache:rV(n.cacheSize),splitModifiers:iV(n),...J2(n)}}var aV=/\s+/;function lV(n,e){var t=e.splitModifiers,r=e.getClassGroupId,s=e.getConflictingClassGroupIds,a=new Set;return n.trim().split(aV).map(function(l){var c=t(l),d=c.modifiers,p=c.hasImportantModifier,g=c.baseClassName,y=c.maybePostfixModifierPosition,w=r(y?g.substring(0,y):g),I=!!y;if(!w){if(!y)return{isTailwindClass:!1,originalClassName:l};if(w=r(g),!w)return{isTailwindClass:!1,originalClassName:l};I=!1}var k=sV(d).join(":"),x=p?k+AS:k;return{isTailwindClass:!0,modifierId:x,classGroupId:w,originalClassName:l,hasPostfixModifier:I}}).reverse().filter(function(l){if(!l.isTailwindClass)return!0;var c=l.modifierId,d=l.classGroupId,p=l.hasPostfixModifier,g=c+d;return a.has(g)?!1:(a.add(g),s(d,p).forEach(function(y){return a.add(c+y)}),!0)}).reverse().map(function(l){return l.originalClassName}).join(" ")}function uV(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var r,s,a,l=c;function c(p){var g=e[0],y=e.slice(1),w=y.reduce(function(I,k){return k(I)},g());return r=oV(w),s=r.cache.get,a=r.cache.set,l=d,d(p)}function d(p){var g=s(p);if(g)return g;var y=lV(p,r);return a(p,y),y}return function(){return l(X2.apply(null,arguments))}}function rt(n){var e=function(r){return r[n]||[]};return e.isThemeGetter=!0,e}var PS=/^\[(?:([a-z-]+):)?(.+)\]$/i,cV=/^\d+\/\d+$/,hV=new Set(["px","full","screen"]),dV=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,fV=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,pV=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function ir(n){return ao(n)||hV.has(n)||cV.test(n)||Hm(n)}function Hm(n){return Io(n,"length",wV)}function mV(n){return Io(n,"size",xS)}function gV(n){return Io(n,"position",xS)}function yV(n){return Io(n,"url",TV)}function wh(n){return Io(n,"number",ao)}function ao(n){return!Number.isNaN(Number(n))}function vV(n){return n.endsWith("%")&&ao(n.slice(0,-1))}function tu(n){return BT(n)||Io(n,"number",BT)}function Me(n){return PS.test(n)}function nu(){return!0}function Qi(n){return dV.test(n)}function _V(n){return Io(n,"",EV)}function Io(n,e,t){var r=PS.exec(n);return r?r[1]?r[1]===e:t(r[2]):!1}function wV(n){return fV.test(n)}function xS(){return!1}function TV(n){return n.startsWith("url(")}function BT(n){return Number.isInteger(Number(n))}function EV(n){return pV.test(n)}function IV(){var n=rt("colors"),e=rt("spacing"),t=rt("blur"),r=rt("brightness"),s=rt("borderColor"),a=rt("borderRadius"),l=rt("borderSpacing"),c=rt("borderWidth"),d=rt("contrast"),p=rt("grayscale"),g=rt("hueRotate"),y=rt("invert"),w=rt("gap"),I=rt("gradientColorStops"),k=rt("gradientColorStopPositions"),x=rt("inset"),A=rt("margin"),$=rt("opacity"),U=rt("padding"),B=rt("saturate"),Q=rt("scale"),te=rt("sepia"),se=rt("skew"),N=rt("space"),C=rt("translate"),R=function(){return["auto","contain","none"]},M=function(){return["auto","hidden","clip","visible","scroll"]},O=function(){return["auto",Me,e]},L=function(){return[Me,e]},D=function(){return["",ir]},ae=function(){return["auto",ao,Me]},Ve=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},Se=function(){return["solid","dashed","dotted","double","none"]},ke=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},re=function(){return["start","end","center","between","around","evenly","stretch"]},ue=function(){return["","0",Me]},le=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},j=function(){return[ao,wh]},Y=function(){return[ao,Me]};return{cacheSize:500,theme:{colors:[nu],spacing:[ir],blur:["none","",Qi,Me],brightness:j(),borderColor:[n],borderRadius:["none","","full",Qi,Me],borderSpacing:L(),borderWidth:D(),contrast:j(),grayscale:ue(),hueRotate:Y(),invert:ue(),gap:L(),gradientColorStops:[n],gradientColorStopPositions:[vV,Hm],inset:O(),margin:O(),opacity:j(),padding:L(),saturate:j(),scale:j(),sepia:ue(),skew:Y(),space:L(),translate:L()},classGroups:{aspect:[{aspect:["auto","square","video",Me]}],container:["container"],columns:[{columns:[Qi]}],"break-after":[{"break-after":le()}],"break-before":[{"break-before":le()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(Ve(),[Me])}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",tu]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Me]}],grow:[{grow:ue()}],shrink:[{shrink:ue()}],order:[{order:["first","last","none",tu]}],"grid-cols":[{"grid-cols":[nu]}],"col-start-end":[{col:["auto",{span:["full",tu]},Me]}],"col-start":[{"col-start":ae()}],"col-end":[{"col-end":ae()}],"grid-rows":[{"grid-rows":[nu]}],"row-start-end":[{row:["auto",{span:[tu]},Me]}],"row-start":[{"row-start":ae()}],"row-end":[{"row-end":ae()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Me]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Me]}],gap:[{gap:[w]}],"gap-x":[{"gap-x":[w]}],"gap-y":[{"gap-y":[w]}],"justify-content":[{justify:["normal"].concat(re())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(re(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(re(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[U]}],px:[{px:[U]}],py:[{py:[U]}],ps:[{ps:[U]}],pe:[{pe:[U]}],pt:[{pt:[U]}],pr:[{pr:[U]}],pb:[{pb:[U]}],pl:[{pl:[U]}],m:[{m:[A]}],mx:[{mx:[A]}],my:[{my:[A]}],ms:[{ms:[A]}],me:[{me:[A]}],mt:[{mt:[A]}],mr:[{mr:[A]}],mb:[{mb:[A]}],ml:[{ml:[A]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",Me,e]}],"min-w":[{"min-w":["min","max","fit",Me,ir]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Qi]},Qi,Me]}],h:[{h:[Me,e,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",Me,ir]}],"max-h":[{"max-h":[Me,e,"min","max","fit"]}],"font-size":[{text:["base",Qi,Hm]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",wh]}],"font-family":[{font:[nu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Me]}],"line-clamp":[{"line-clamp":["none",ao,wh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Me,ir]}],"list-image":[{"list-image":["none",Me]}],"list-style-type":[{list:["none","disc","decimal",Me]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[$]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[$]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(Se(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",ir]}],"underline-offset":[{"underline-offset":["auto",Me,ir]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[$]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(Ve(),[gV])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",mV]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},yV]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[k]}],"gradient-via-pos":[{via:[k]}],"gradient-to-pos":[{to:[k]}],"gradient-from":[{from:[I]}],"gradient-via":[{via:[I]}],"gradient-to":[{to:[I]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[$]}],"border-style":[{border:[].concat(Se(),["hidden"])}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[$]}],"divide-style":[{divide:Se()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:[""].concat(Se())}],"outline-offset":[{"outline-offset":[Me,ir]}],"outline-w":[{outline:[ir]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[$]}],"ring-offset-w":[{"ring-offset":[ir]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",Qi,_V]}],"shadow-color":[{shadow:[nu]}],opacity:[{opacity:[$]}],"mix-blend":[{"mix-blend":ke()}],"bg-blend":[{"bg-blend":ke()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",Qi,Me]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[g]}],invert:[{invert:[y]}],saturate:[{saturate:[B]}],sepia:[{sepia:[te]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[g]}],"backdrop-invert":[{"backdrop-invert":[y]}],"backdrop-opacity":[{"backdrop-opacity":[$]}],"backdrop-saturate":[{"backdrop-saturate":[B]}],"backdrop-sepia":[{"backdrop-sepia":[te]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Me]}],duration:[{duration:Y()}],ease:[{ease:["linear","in","out","in-out",Me]}],delay:[{delay:Y()}],animate:[{animate:["none","spin","ping","pulse","bounce",Me]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[Q]}],"scale-x":[{"scale-x":[Q]}],"scale-y":[{"scale-y":[Q]}],rotate:[{rotate:[tu,Me]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[se]}],"skew-y":[{"skew-y":[se]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Me]}],accent:[{accent:["auto",n]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Me]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Me]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[ir,wh]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var SV=uV(IV);function Ht(...n){return SV(IS(n))}function zT(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function RS(...n){return e=>{let t=!1;const r=n.map(s=>{const a=zT(s,e);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let s=0;s<r.length;s++){const a=r[s];typeof a=="function"?a():zT(n[s],null)}}}}function pi(...n){return P.useCallback(RS(...n),n)}function ed(n){const e=AV(n),t=P.forwardRef((r,s)=>{const{children:a,...l}=r,c=P.Children.toArray(a),d=c.find(xV);if(d){const p=d.props.children,g=c.map(y=>y===d?P.Children.count(p)>1?P.Children.only(null):P.isValidElement(p)?p.props.children:null:y);return b.jsx(e,{...l,ref:s,children:P.isValidElement(p)?P.cloneElement(p,void 0,g):null})}return b.jsx(e,{...l,ref:s,children:a})});return t.displayName=`${n}.Slot`,t}var CV=ed("Slot");function AV(n){const e=P.forwardRef((t,r)=>{const{children:s,...a}=t;if(P.isValidElement(s)){const l=bV(s),c=RV(a,s.props);return s.type!==P.Fragment&&(c.ref=r?RS(r,l):l),P.cloneElement(s,c)}return P.Children.count(s)>1?P.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var PV=Symbol("radix.slottable");function xV(n){return P.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===PV}function RV(n,e){const t={...e};for(const r in e){const s=n[r],a=e[r];/^on[A-Z]/.test(r)?s&&a?t[r]=(...c)=>{const d=a(...c);return s(...c),d}:s&&(t[r]=s):r==="style"?t[r]={...s,...a}:r==="className"&&(t[r]=[s,a].filter(Boolean).join(" "))}return{...n,...t}}function bV(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}const $T=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,WT=IS,Zg=(n,e)=>t=>{var r;if(e?.variants==null)return WT(n,t?.class,t?.className);const{variants:s,defaultVariants:a}=e,l=Object.keys(s).map(p=>{const g=t?.[p],y=a?.[p];if(g===null)return null;const w=$T(g)||$T(y);return s[p][w]}),c=t&&Object.entries(t).reduce((p,g)=>{let[y,w]=g;return w===void 0||(p[y]=w),p},{}),d=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((p,g)=>{let{class:y,className:w,...I}=g;return Object.entries(I).every(k=>{let[x,A]=k;return Array.isArray(A)?A.includes({...a,...c}[x]):{...a,...c}[x]===A})?[...p,y,w]:p},[]);return WT(n,l,d,t?.class,t?.className)},kV=Zg("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),qn=lt.forwardRef(({className:n,variant:e,size:t,asChild:r=!1,...s},a)=>{const l=r?CV:"button";return b.jsx(l,{className:Ht(kV({variant:e,size:t,className:n})),ref:a,...s})});qn.displayName="Button";const Cu=P.forwardRef(({className:n,type:e,...t},r)=>b.jsx("input",{type:e,className:Ht("flex h-12 w-full rounded-md border border-[#3a3a3a] bg-[#121212] px-3 py-2 text-sm text-white ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-[#666666] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#00ff88] focus-visible:ring-offset-0 transition-all",n),ref:r,...t}));Cu.displayName="Input";var NV=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Tn=NV.reduce((n,e)=>{const t=ed(`Primitive.${e}`),r=P.forwardRef((s,a)=>{const{asChild:l,...c}=s,d=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),b.jsx(d,{...c,ref:a})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function bS(n,e){n&&Sg.flushSync(()=>n.dispatchEvent(e))}var DV="Label",kS=P.forwardRef((n,e)=>b.jsx(Tn.label,{...n,ref:e,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(n.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));kS.displayName=DV;var NS=kS;const VV=Zg("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),qm=P.forwardRef(({className:n,...e},t)=>b.jsx(NS,{ref:t,className:Ht(VV(),n),...e}));qm.displayName=NS.displayName;const OV=1;let im=0;function MV(){return im=(im+1)%Number.MAX_VALUE,im.toString()}const ln={state:{toasts:[]},listeners:[],getState:()=>ln.state,setState:n=>{typeof n=="function"?ln.state=n(ln.state):ln.state={...ln.state,...n},ln.listeners.forEach(e=>e(ln.state))},subscribe:n=>(ln.listeners.push(n),()=>{ln.listeners=ln.listeners.filter(e=>e!==n)})},LV=({...n})=>{const e=MV(),t=s=>ln.setState(a=>({...a,toasts:a.toasts.map(l=>l.id===e?{...l,...s}:l)})),r=()=>ln.setState(s=>({...s,toasts:s.toasts.filter(a=>a.id!==e)}));return ln.setState(s=>({...s,toasts:[{...n,id:e,dismiss:r},...s.toasts].slice(0,OV)})),{id:e,dismiss:r,update:t}};function Ld(){const[n,e]=P.useState(ln.getState());return P.useEffect(()=>ln.subscribe(r=>{e(r)}),[]),P.useEffect(()=>{const t=[];return n.toasts.forEach(r=>{if(r.duration===1/0)return;const s=setTimeout(()=>{r.dismiss()},r.duration||5e3);t.push(s)}),()=>{t.forEach(r=>clearTimeout(r))}},[n.toasts]),{toast:LV,toasts:n.toasts}}const FV=()=>{};var HT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},jV=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=n[t++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=n[t++],l=n[t++],c=n[t++],d=((s&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const a=n[t++],l=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return e.join("")},VS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const a=n[s],l=s+1<n.length,c=l?n[s+1]:0,d=s+2<n.length,p=d?n[s+2]:0,g=a>>2,y=(a&3)<<4|c>>4;let w=(c&15)<<2|p>>6,I=p&63;d||(I=64,l||(w=64)),r.push(t[g],t[y],t[w],t[I])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(DS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):jV(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const a=t[n.charAt(s++)],c=s<n.length?t[n.charAt(s)]:0;++s;const p=s<n.length?t[n.charAt(s)]:64;++s;const y=s<n.length?t[n.charAt(s)]:64;if(++s,a==null||c==null||p==null||y==null)throw new UV;const w=a<<2|c>>4;if(r.push(w),p!==64){const I=c<<4&240|p>>2;if(r.push(I),y!==64){const k=p<<6&192|y;r.push(k)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class UV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const BV=function(n){const e=DS(n);return VS.encodeByteArray(e,!0)},td=function(n){return BV(n).replace(/\./g,"")},OS=function(n){try{return VS.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $V=()=>zV().__FIREBASE_DEFAULTS__,WV=()=>{if(typeof process>"u"||typeof HT>"u")return;const n=HT.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},HV=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&OS(n[1]);return e&&JSON.parse(e)},Fd=()=>{try{return FV()||$V()||WV()||HV()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},MS=n=>Fd()?.emulatorHosts?.[n],qV=n=>{const e=MS(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},LS=()=>Fd()?.config,FS=n=>Fd()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qa(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function jS(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KV(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[td(JSON.stringify(t)),td(JSON.stringify(l)),""].join(".")}const fu={};function QV(){const n={prod:[],emulator:[]};for(const e of Object.keys(fu))fu[e]?n.emulator.push(e):n.prod.push(e);return n}function YV(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let qT=!1;function US(n,e){if(typeof window>"u"||typeof document>"u"||!Qa(window.location.host)||fu[n]===e||fu[n]||qT)return;fu[n]=e;function t(w){return`__firebase__banner__${w}`}const r="__firebase__banner",a=QV().prod.length>0;function l(){const w=document.getElementById(r);w&&w.remove()}function c(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function d(w,I){w.setAttribute("width","24"),w.setAttribute("id",I),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{qT=!0,l()},w}function g(w,I){w.setAttribute("id",I),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function y(){const w=YV(r),I=t("text"),k=document.getElementById(I)||document.createElement("span"),x=t("learnmore"),A=document.getElementById(x)||document.createElement("a"),$=t("preprendIcon"),U=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const B=w.element;c(B),g(A,x);const Q=p();d(U,$),B.append(U,k,A,Q),document.body.appendChild(B)}a?(k.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function XV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function JV(){const n=Fd()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ZV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function BS(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function eO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tO(){const n=rn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function nO(){return!JV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function zS(){try{return typeof indexedDB=="object"}catch{return!1}}function $S(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(t){e(t)}})}function rO(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO="FirebaseError";class hr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=iO,Object.setPrototypeOf(this,hr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,So.prototype.create)}}class So{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,a=this.errors[e],l=a?sO(a,r):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new hr(s,c,r)}}function sO(n,e){return n.replace(oO,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const oO=/\{\$([^}]+)}/g;function aO(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ms(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const a=n[s],l=e[s];if(GT(a)&&GT(l)){if(!ms(a,l))return!1}else if(a!==l)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function GT(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zu(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function iu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function su(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function lO(n,e){const t=new uO(n,e);return t.subscribe.bind(t)}class uO{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");cO(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=sm),s.error===void 0&&(s.error=sm),s.complete===void 0&&(s.complete=sm);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cO(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function sm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO=1e3,dO=2,fO=14400*1e3,pO=.5;function KT(n,e=hO,t=dO){const r=e*Math.pow(t,n),s=Math.round(pO*r*(Math.random()-.5)*2);return Math.min(fO,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(n){return n&&n._delegate?n._delegate:n}class lr{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mO=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new GV;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yO(e))try{this.getOrInitializeService({instanceIdentifier:so})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=so){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=so){return this.instances.has(e)}getOptions(e=so){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&l.resolve(s)}return s}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&e(a,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:gO(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=so){return this.component?this.component.multipleInstances?e:so:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function gO(n){return n===so?void 0:n}function yO(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new mO(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Le||(Le={}));const _O={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},wO=Le.INFO,TO={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},EO=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=TO[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class jd{constructor(e){this.name=e,this._logLevel=wO,this._logHandler=EO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_O[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const IO=(n,e)=>e.some(t=>n instanceof t);let QT,YT;function SO(){return QT||(QT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CO(){return YT||(YT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const WS=new WeakMap,Gm=new WeakMap,HS=new WeakMap,om=new WeakMap,ey=new WeakMap;function AO(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{t(as(n.result)),s()},l=()=>{r(n.error),s()};n.addEventListener("success",a),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&WS.set(t,n)}).catch(()=>{}),ey.set(e,n),e}function PO(n){if(Gm.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{t(),s()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});Gm.set(n,e)}let Km={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Gm.get(n);if(e==="objectStoreNames")return n.objectStoreNames||HS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return as(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function xO(n){Km=n(Km)}function RO(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(am(this),e,...t);return HS.set(r,e.sort?e.sort():[e]),as(r)}:CO().includes(n)?function(...e){return n.apply(am(this),e),as(WS.get(this))}:function(...e){return as(n.apply(am(this),e))}}function bO(n){return typeof n=="function"?RO(n):(n instanceof IDBTransaction&&PO(n),IO(n,SO())?new Proxy(n,Km):n)}function as(n){if(n instanceof IDBRequest)return AO(n);if(om.has(n))return om.get(n);const e=bO(n);return e!==n&&(om.set(n,e),ey.set(e,n)),e}const am=n=>ey.get(n);function qS(n,e,{blocked:t,upgrade:r,blocking:s,terminated:a}={}){const l=indexedDB.open(n,e),c=as(l);return r&&l.addEventListener("upgradeneeded",d=>{r(as(l.result),d.oldVersion,d.newVersion,as(l.transaction),d)}),t&&l.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),c.then(d=>{a&&d.addEventListener("close",()=>a()),s&&d.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}const kO=["get","getKey","getAll","getAllKeys","count"],NO=["put","add","delete","clear"],lm=new Map;function XT(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(lm.get(e))return lm.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=NO.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||kO.includes(t)))return;const a=async function(l,...c){const d=this.transaction(l,s?"readwrite":"readonly");let p=d.store;return r&&(p=p.index(c.shift())),(await Promise.all([p[t](...c),s&&d.done]))[0]};return lm.set(e,a),a}xO(n=>({...n,get:(e,t,r)=>XT(e,t)||n.get(e,t,r),has:(e,t)=>!!XT(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(VO(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function VO(n){return n.getComponent()?.type==="VERSION"}const Qm="@firebase/app",JT="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mi=new jd("@firebase/app"),OO="@firebase/app-compat",MO="@firebase/analytics-compat",LO="@firebase/analytics",FO="@firebase/app-check-compat",jO="@firebase/app-check",UO="@firebase/auth",BO="@firebase/auth-compat",zO="@firebase/database",$O="@firebase/data-connect",WO="@firebase/database-compat",HO="@firebase/functions",qO="@firebase/functions-compat",GO="@firebase/installations",KO="@firebase/installations-compat",QO="@firebase/messaging",YO="@firebase/messaging-compat",XO="@firebase/performance",JO="@firebase/performance-compat",ZO="@firebase/remote-config",eM="@firebase/remote-config-compat",tM="@firebase/storage",nM="@firebase/storage-compat",rM="@firebase/firestore",iM="@firebase/ai",sM="@firebase/firestore-compat",oM="firebase",aM="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym="[DEFAULT]",lM={[Qm]:"fire-core",[OO]:"fire-core-compat",[LO]:"fire-analytics",[MO]:"fire-analytics-compat",[jO]:"fire-app-check",[FO]:"fire-app-check-compat",[UO]:"fire-auth",[BO]:"fire-auth-compat",[zO]:"fire-rtdb",[$O]:"fire-data-connect",[WO]:"fire-rtdb-compat",[HO]:"fire-fn",[qO]:"fire-fn-compat",[GO]:"fire-iid",[KO]:"fire-iid-compat",[QO]:"fire-fcm",[YO]:"fire-fcm-compat",[XO]:"fire-perf",[JO]:"fire-perf-compat",[ZO]:"fire-rc",[eM]:"fire-rc-compat",[tM]:"fire-gcs",[nM]:"fire-gcs-compat",[rM]:"fire-fst",[sM]:"fire-fst-compat",[iM]:"fire-vertex","fire-js":"fire-js",[oM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nd=new Map,uM=new Map,Xm=new Map;function ZT(n,e){try{n.container.addComponent(e)}catch(t){mi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ur(n){const e=n.name;if(Xm.has(e))return mi.debug(`There were multiple attempts to register component ${e}.`),!1;Xm.set(e,n);for(const t of nd.values())ZT(t,n);for(const t of uM.values())ZT(t,n);return!0}function Co(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function $n(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ls=new So("app","Firebase",cM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new lr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ls.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya=aM;function GS(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:Ym,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw ls.create("bad-app-name",{appName:String(s)});if(t||(t=LS()),!t)throw ls.create("no-options");const a=nd.get(s);if(a){if(ms(t,a.options)&&ms(r,a.config))return a;throw ls.create("duplicate-app",{appName:s})}const l=new vO(s);for(const d of Xm.values())l.addComponent(d);const c=new hM(t,r,l);return nd.set(s,c),c}function ty(n=Ym){const e=nd.get(n);if(!e&&n===Ym&&LS())return GS();if(!e)throw ls.create("no-app",{appName:n});return e}function Gn(n,e,t){let r=lM[n]??n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const l=[`Unable to register library "${r}" with version "${e}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mi.warn(l.join(" "));return}Ur(new lr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dM="firebase-heartbeat-database",fM=1,Au="firebase-heartbeat-store";let um=null;function KS(){return um||(um=qS(dM,fM,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Au)}catch(t){console.warn(t)}}}}).catch(n=>{throw ls.create("idb-open",{originalErrorMessage:n.message})})),um}async function pM(n){try{const t=(await KS()).transaction(Au),r=await t.objectStore(Au).get(QS(n));return await t.done,r}catch(e){if(e instanceof hr)mi.warn(e.message);else{const t=ls.create("idb-get",{originalErrorMessage:e?.message});mi.warn(t.message)}}}async function e0(n,e){try{const r=(await KS()).transaction(Au,"readwrite");await r.objectStore(Au).put(e,QS(n)),await r.done}catch(t){if(t instanceof hr)mi.warn(t.message);else{const r=ls.create("idb-set",{originalErrorMessage:t?.message});mi.warn(r.message)}}}function QS(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM=1024,gM=30;class yM{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new _M(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=t0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>gM){const s=wM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){mi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=t0(),{heartbeatsToSend:t,unsentEntries:r}=vM(this._heartbeatsCache.heartbeats),s=td(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return mi.warn(e),""}}}function t0(){return new Date().toISOString().substring(0,10)}function vM(n,e=mM){const t=[];let r=n.slice();for(const s of n){const a=t.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),n0(t)>e){a.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),n0(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class _M{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return zS()?$S().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await pM(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return e0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return e0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function n0(n){return td(JSON.stringify({version:2,heartbeats:n})).length}function wM(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TM(n){Ur(new lr("platform-logger",e=>new DO(e),"PRIVATE")),Ur(new lr("heartbeat",e=>new yM(e),"PRIVATE")),Gn(Qm,JT,n),Gn(Qm,JT,"esm2020"),Gn("fire-js","")}TM("");function YS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const EM=YS,XS=new So("auth","Firebase",YS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd=new jd("@firebase/auth");function IM(n,...e){rd.logLevel<=Le.WARN&&rd.warn(`Auth (${Ya}): ${n}`,...e)}function Vh(n,...e){rd.logLevel<=Le.ERROR&&rd.error(`Auth (${Ya}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(n,...e){throw ny(n,...e)}function Dr(n,...e){return ny(n,...e)}function JS(n,e,t){const r={...EM(),[e]:t};return new So("auth","Firebase",r).create(e,{appName:n.name})}function di(n){return JS(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ny(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return XS.create(n,...e)}function Ee(n,e,...t){if(!n)throw ny(e,...t)}function li(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Vh(e),new Error(e)}function gi(n,e){n||li(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(){return typeof self<"u"&&self.location?.href||""}function SM(){return r0()==="http:"||r0()==="https:"}function r0(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(SM()||BS()||"connection"in navigator)?navigator.onLine:!0}function AM(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,t){this.shortDelay=e,this.longDelay=t,gi(t>e,"Short delay should be less than long delay!"),this.isMobile=XV()||eO()}get(){return CM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ry(n,e){gi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;li("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;li("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;li("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],RM=new $u(3e4,6e4);function Cs(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function As(n,e,t,r,s={}){return e1(n,s,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const c=zu({key:n.config.apiKey,...l}).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const p={method:e,headers:d,...a};return ZV()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&Qa(n.emulatorConfig.host)&&(p.credentials="include"),ZS.fetch()(await t1(n,n.config.apiHost,t,c),p)})}async function e1(n,e,t){n._canInitEmulator=!1;const r={...PM,...e};try{const s=new kM(n),a=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Th(n,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[d,p]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Th(n,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Th(n,"email-already-in-use",l);if(d==="USER_DISABLED")throw Th(n,"user-disabled",l);const g=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw JS(n,g,p);ur(n,g)}}catch(s){if(s instanceof hr)throw s;ur(n,"network-request-failed",{message:String(s)})}}async function Wu(n,e,t,r,s={}){const a=await As(n,e,t,r,s);return"mfaPendingCredential"in a&&ur(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function t1(n,e,t,r){const s=`${e}${t}?${r}`,a=n,l=a.config.emulator?ry(n.config,s):`${n.config.apiScheme}://${s}`;return xM.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function bM(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class kM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Dr(this.auth,"network-request-failed")),RM.get())})}}function Th(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=Dr(n,e,r);return s.customData._tokenResponse=t,s}function i0(n){return n!==void 0&&n.enterprise!==void 0}class NM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return bM(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function DM(n,e){return As(n,"GET","/v2/recaptchaConfig",Cs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VM(n,e){return As(n,"POST","/v1/accounts:delete",e)}async function id(n,e){return As(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function OM(n,e=!1){const t=qt(n),r=await t.getIdToken(e),s=iy(r);Ee(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a?.sign_in_provider;return{claims:s,token:r,authTime:pu(cm(s.auth_time)),issuedAtTime:pu(cm(s.iat)),expirationTime:pu(cm(s.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}}function cm(n){return Number(n)*1e3}function iy(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Vh("JWT malformed, contained fewer than 3 sections"),null;try{const s=OS(t);return s?JSON.parse(s):(Vh("Failed to decode base64 JWT payload"),null)}catch(s){return Vh("Caught error parsing JWT payload as JSON",s?.toString()),null}}function s0(n){const e=iy(n);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pu(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof hr&&MM(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function MM({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=pu(this.lastLoginAt),this.creationTime=pu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sd(n){const e=n.auth,t=await n.getIdToken(),r=await Pu(n,id(e,{idToken:t}));Ee(r?.users.length,e,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const a=s.providerUserInfo?.length?n1(s.providerUserInfo):[],l=jM(n.providerData,a),c=n.isAnonymous,d=!(n.email&&s.passwordHash)&&!l?.length,p=c?d:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new Zm(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(n,g)}async function FM(n){const e=qt(n);await sd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function jM(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function n1(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UM(n,e){const t=await e1(n,{},async()=>{const r=zu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=n.config,l=await t1(n,s,"/v1/token",`key=${a}`),c=await n._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:c,body:r};return n.emulatorConfig&&Qa(n.emulatorConfig.host)&&(d.credentials="include"),ZS.fetch()(l,d)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function BM(n,e){return As(n,"POST","/v2/accounts:revokeToken",Cs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):s0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const t=s0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:a}=await UM(e,t);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:a}=t,l=new ba;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(Ee(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),a&&(Ee(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ba,this.toJSON())}_performRefresh(){return li("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(n,e){Ee(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class or{constructor({uid:e,auth:t,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new LM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Zm(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await Pu(this,this.stsTokenManager.getToken(this.auth,e));return Ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return OM(this,e)}reload(){return FM(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new or({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await sd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($n(this.auth.app))return Promise.reject(di(this.auth));const e=await this.getIdToken();return await Pu(this,VM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,s=t.email??void 0,a=t.phoneNumber??void 0,l=t.photoURL??void 0,c=t.tenantId??void 0,d=t._redirectEventId??void 0,p=t.createdAt??void 0,g=t.lastLoginAt??void 0,{uid:y,emailVerified:w,isAnonymous:I,providerData:k,stsTokenManager:x}=t;Ee(y&&x,e,"internal-error");const A=ba.fromJSON(this.name,x);Ee(typeof y=="string",e,"internal-error"),Yi(r,e.name),Yi(s,e.name),Ee(typeof w=="boolean",e,"internal-error"),Ee(typeof I=="boolean",e,"internal-error"),Yi(a,e.name),Yi(l,e.name),Yi(c,e.name),Yi(d,e.name),Yi(p,e.name),Yi(g,e.name);const $=new or({uid:y,auth:e,email:s,emailVerified:w,displayName:r,isAnonymous:I,photoURL:l,phoneNumber:a,tenantId:c,stsTokenManager:A,createdAt:p,lastLoginAt:g});return k&&Array.isArray(k)&&($.providerData=k.map(U=>({...U}))),d&&($._redirectEventId=d),$}static async _fromIdTokenResponse(e,t,r=!1){const s=new ba;s.updateFromServerResponse(t);const a=new or({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await sd(a),a}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];Ee(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?n1(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!a?.length,c=new ba;c.updateFromIdToken(r);const d=new or({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:l}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Zm(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!a?.length};return Object.assign(d,p),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0=new Map;function ui(n){gi(n instanceof Function,"Expected a class definition");let e=o0.get(n);return e?(gi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,o0.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}r1.type="NONE";const a0=r1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oh(n,e,t){return`firebase:${n}:${e}:${t}`}class ka{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=Oh(this.userKey,s.apiKey,a),this.fullPersistenceKey=Oh("persistence",s.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await id(this.auth,{idToken:e}).catch(()=>{});return t?or._fromGetAccountInfoResponse(this.auth,t,e):null}return or._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new ka(ui(a0),e,r);const s=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=s[0]||ui(a0);const l=Oh(r,e.config.apiKey,e.name);let c=null;for(const p of t)try{const g=await p._get(l);if(g){let y;if(typeof g=="string"){const w=await id(e,{idToken:g}).catch(()=>{});if(!w)break;y=await or._fromGetAccountInfoResponse(e,w,g)}else y=or._fromJSON(e,g);p!==a&&(c=y),a=p;break}}catch{}const d=s.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new ka(a,e,r):(a=d[0],c&&await a._set(l,c.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new ka(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(a1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(i1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(u1(e))return"Blackberry";if(c1(e))return"Webos";if(s1(e))return"Safari";if((e.includes("chrome/")||o1(e))&&!e.includes("edge/"))return"Chrome";if(l1(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function i1(n=rn()){return/firefox\//i.test(n)}function s1(n=rn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function o1(n=rn()){return/crios\//i.test(n)}function a1(n=rn()){return/iemobile/i.test(n)}function l1(n=rn()){return/android/i.test(n)}function u1(n=rn()){return/blackberry/i.test(n)}function c1(n=rn()){return/webos/i.test(n)}function sy(n=rn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function zM(n=rn()){return sy(n)&&!!window.navigator?.standalone}function $M(){return tO()&&document.documentMode===10}function h1(n=rn()){return sy(n)||l1(n)||c1(n)||u1(n)||/windows phone/i.test(n)||a1(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(n,e=[]){let t;switch(n){case"Browser":t=l0(rn());break;case"Worker":t=`${l0(rn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ya}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((l,c)=>{try{const d=e(a);l(d)}catch(d){c(d)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HM(n,e={}){return As(n,"GET","/v2/passwordPolicy",Cs(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qM=6;class GM{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??qM,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new u0(this),this.idTokenSubscription=new u0(this),this.beforeStateQueue=new WM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=XS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ui(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ka.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await id(this,{idToken:e}),r=await or._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if($n(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,l=r?._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===l)&&c?.user&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await sd(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=AM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($n(this.app))return Promise.reject(di(this));const t=e?qt(e):null;return t&&Ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $n(this.app)?Promise.reject(di(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $n(this.app)?Promise.reject(di(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ui(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await HM(this),t=new GM(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new So("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await BM(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ui(e)||this._popupRedirectResolver;Ee(t,this,"argument-error"),this.redirectPersistenceManager=await ka.create(this,[ui(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,s);return()=>{l=!0,d()}}else{const d=e.addObserver(t);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=d1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if($n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&IM(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ao(n){return qt(n)}class u0{constructor(e){this.auth=e,this.observer=null,this.addObserver=lO(t=>this.observer=t)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ud={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function QM(n){Ud=n}function f1(n){return Ud.loadJS(n)}function YM(){return Ud.recaptchaEnterpriseScript}function XM(){return Ud.gapiScript}function JM(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class ZM{constructor(){this.enterprise=new eL}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class eL{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const tL="recaptcha-enterprise",p1="NO_RECAPTCHA";class nL{constructor(e){this.type=tL,this.auth=Ao(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,c)=>{DM(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const p=new NM(d);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,l(p.siteKey)}}).catch(d=>{c(d)})})}function s(a,l,c){const d=window.grecaptcha;i0(d)?d.enterprise.ready(()=>{d.enterprise.execute(a,{action:e}).then(p=>{l(p)}).catch(()=>{l(p1)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ZM().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(c=>{if(!t&&i0(window.grecaptcha))s(c,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=YM();d.length!==0&&(d+=c),f1(d).then(()=>{s(c,a,l)}).catch(p=>{l(p)})}}).catch(c=>{l(c)})})}}async function c0(n,e,t,r=!1,s=!1){const a=new nL(n);let l;if(s)l=p1;else try{l=await a.verify(t)}catch{l=await a.verify(t,!0)}const c={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const d=c.phoneEnrollmentInfo.phoneNumber,p=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const d=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function eg(n,e,t,r,s){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await c0(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await c0(n,e,t,t==="getOobCode");return r(n,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rL(n,e){const t=Co(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),a=t.getOptions();if(ms(a,e??{}))return s;ur(s,"already-initialized")}return t.initialize({options:e})}function iL(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ui);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function sL(n,e,t){const r=Ao(n);Ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=m1(e),{host:l,port:c}=oL(e),d=c===null?"":`:${c}`,p={url:`${a}//${l}${d}/`},g=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ee(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ee(ms(p,r.config.emulator)&&ms(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,Qa(l)?(jS(`${a}//${l}${d}`),US("Auth",!0)):aL()}function m1(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function oL(n){const e=m1(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:h0(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:h0(l)}}}function h0(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function aL(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return li("not implemented")}_getIdTokenResponse(e){return li("not implemented")}_linkToIdToken(e,t){return li("not implemented")}_getReauthenticationResolver(e){return li("not implemented")}}async function lL(n,e){return As(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uL(n,e){return Wu(n,"POST","/v1/accounts:signInWithPassword",Cs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cL(n,e){return Wu(n,"POST","/v1/accounts:signInWithEmailLink",Cs(n,e))}async function hL(n,e){return Wu(n,"POST","/v1/accounts:signInWithEmailLink",Cs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu extends oy{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new xu(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new xu(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return eg(e,t,"signInWithPassword",uL);case"emailLink":return cL(e,{email:this._email,oobCode:this._password});default:ur(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return eg(e,r,"signUpPassword",lL);case"emailLink":return hL(e,{idToken:t,email:this._email,oobCode:this._password});default:ur(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Na(n,e){return Wu(n,"POST","/v1/accounts:signInWithIdp",Cs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dL="http://localhost";class fo extends oy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new fo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ur("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...a}=t;if(!r||!s)return null;const l=new fo(r,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Na(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Na(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Na(e,t)}buildRequest(){const e={requestUri:dL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=zu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fL(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function pL(n){const e=iu(su(n)).link,t=e?iu(su(e)).deep_link_id:null,r=iu(su(n)).deep_link_id;return(r?iu(su(r)).link:null)||r||t||e||n}class ay{constructor(e){const t=iu(su(e)),r=t.apiKey??null,s=t.oobCode??null,a=fL(t.mode??null);Ee(r&&s&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=s,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=pL(e);try{return new ay(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(){this.providerId=Xa.PROVIDER_ID}static credential(e,t){return xu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=ay.parseLink(t);return Ee(r,"argument-error"),xu._fromEmailAndCode(e,r.code,r.tenantId)}}Xa.PROVIDER_ID="password";Xa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Xa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu extends g1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends Hu{constructor(){super("facebook.com")}static credential(e){return fo._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zi.credentialFromTaggedObject(e)}static credentialFromError(e){return Zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zi.credential(e.oauthAccessToken)}catch{return null}}}Zi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends Hu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return fo._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return es.credential(t,r)}catch{return null}}}es.GOOGLE_SIGN_IN_METHOD="google.com";es.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends Hu{constructor(){super("github.com")}static credential(e){return fo._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ts.credential(e.oauthAccessToken)}catch{return null}}}ts.GITHUB_SIGN_IN_METHOD="github.com";ts.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends Hu{constructor(){super("twitter.com")}static credential(e,t){return fo._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return ns.credential(t,r)}catch{return null}}}ns.TWITTER_SIGN_IN_METHOD="twitter.com";ns.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mL(n,e){return Wu(n,"POST","/v1/accounts:signUp",Cs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const a=await or._fromIdTokenResponse(e,r,s),l=d0(r);return new po({user:a,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=d0(r);return new po({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function d0(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od extends hr{constructor(e,t,r,s){super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,od.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new od(e,t,r,s)}}function y1(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?od._fromErrorAndOperation(n,a,e,r):a})}async function gL(n,e,t=!1){const r=await Pu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return po._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yL(n,e,t=!1){const{auth:r}=n;if($n(r.app))return Promise.reject(di(r));const s="reauthenticate";try{const a=await Pu(n,y1(r,s,e,n),t);Ee(a.idToken,r,"internal-error");const l=iy(a.idToken);Ee(l,r,"internal-error");const{sub:c}=l;return Ee(n.uid===c,r,"user-mismatch"),po._forOperation(n,s,a)}catch(a){throw a?.code==="auth/user-not-found"&&ur(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v1(n,e,t=!1){if($n(n.app))return Promise.reject(di(n));const r="signIn",s=await y1(n,r,e),a=await po._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(a.user),a}async function vL(n,e){return v1(Ao(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _1(n){const e=Ao(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function _L(n,e,t){if($n(n.app))return Promise.reject(di(n));const r=Ao(n),l=await eg(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",mL).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&_1(n),d}),c=await po._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(c.user),c}function f0(n,e,t){return $n(n.app)?Promise.reject(di(n)):vL(qt(n),Xa.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&_1(n),r})}function wL(n,e,t,r){return qt(n).onIdTokenChanged(e,t,r)}function TL(n,e,t){return qt(n).beforeAuthStateChanged(e,t)}function EL(n,e,t,r){return qt(n).onAuthStateChanged(e,t,r)}const ad="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ad,"1"),this.storage.removeItem(ad),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IL=1e3,SL=10;class T1 extends w1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=h1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,c,d)=>{this.notifyListeners(l,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);$M()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,SL):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},IL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}T1.type="LOCAL";const CL=T1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1 extends w1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}E1.type="SESSION";const I1=E1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AL(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new Bd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:a}=t.data,l=this.handlersMap[s];if(!l?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(l).map(async p=>p(t.origin,a)),d=await AL(c);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ly(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((c,d)=>{const p=ly("",20);s.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(y){const w=y;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(w.data.response);break;default:clearTimeout(g),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(){return window}function xL(n){Vr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(){return typeof Vr().WorkerGlobalScope<"u"&&typeof Vr().importScripts=="function"}async function RL(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bL(){return navigator?.serviceWorker?.controller||null}function kL(){return S1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1="firebaseLocalStorageDb",NL=1,ld="firebaseLocalStorage",A1="fbase_key";class qu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function zd(n,e){return n.transaction([ld],e?"readwrite":"readonly").objectStore(ld)}function DL(){const n=indexedDB.deleteDatabase(C1);return new qu(n).toPromise()}function tg(){const n=indexedDB.open(C1,NL);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(ld,{keyPath:A1})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(ld)?e(r):(r.close(),await DL(),e(await tg()))})})}async function p0(n,e,t){const r=zd(n,!0).put({[A1]:e,value:t});return new qu(r).toPromise()}async function VL(n,e){const t=zd(n,!1).get(e),r=await new qu(t).toPromise();return r===void 0?null:r.value}function m0(n,e){const t=zd(n,!0).delete(e);return new qu(t).toPromise()}const OL=800,ML=3;class P1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>ML)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return S1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bd._getInstance(kL()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await RL(),!this.activeServiceWorker)return;this.sender=new PL(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||bL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await tg();return await p0(e,ad,"1"),await m0(e,ad),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>p0(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>VL(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>m0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=zd(s,!1).getAll();return new qu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),OL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}P1.type="LOCAL";const LL=P1;new $u(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FL(n,e){return e?ui(e):(Ee(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy extends oy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Na(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Na(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Na(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function jL(n){return v1(n.auth,new uy(n),n.bypassAuthState)}function UL(n){const{auth:e,user:t}=n;return Ee(t,e,"internal-error"),yL(t,new uy(n),n.bypassAuthState)}async function BL(n){const{auth:e,user:t}=n;return Ee(t,e,"internal-error"),gL(t,new uy(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e,t,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:a,error:l,type:c}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jL;case"linkViaPopup":case"linkViaRedirect":return BL;case"reauthViaPopup":case"reauthViaRedirect":return UL;default:ur(this.auth,"internal-error")}}resolve(e){gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zL=new $u(2e3,1e4);class xa extends x1{constructor(e,t,r,s,a){super(e,t,s,a),this.provider=r,this.authWindow=null,this.pollId=null,xa.currentPopupAction&&xa.currentPopupAction.cancel(),xa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){gi(this.filter.length===1,"Popup operations only handle one event");const e=ly();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Dr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Dr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Dr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zL.get())};e()}}xa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $L="pendingRedirect",Mh=new Map;class WL extends x1{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Mh.get(this.auth._key());if(!e){try{const r=await HL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Mh.set(this.auth._key(),e)}return this.bypassAuthState||Mh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function HL(n,e){const t=KL(e),r=GL(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function qL(n,e){Mh.set(n._key(),e)}function GL(n){return ui(n._redirectPersistence)}function KL(n){return Oh($L,n.config.apiKey,n.name)}async function QL(n,e,t=!1){if($n(n.app))return Promise.reject(di(n));const r=Ao(n),s=FL(r,e),l=await new WL(r,s,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YL=600*1e3;class XL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!JL(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!R1(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Dr(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=YL&&this.cachedEventUids.clear(),this.cachedEventUids.has(g0(e))}saveEventToCache(e){this.cachedEventUids.add(g0(e)),this.lastProcessedEventTime=Date.now()}}function g0(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function R1({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function JL(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return R1(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZL(n,e={}){return As(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,t4=/^https?/;async function n4(n){if(n.config.emulator)return;const{authorizedDomains:e}=await ZL(n);for(const t of e)try{if(r4(t))return}catch{}ur(n,"unauthorized-domain")}function r4(n){const e=Jm(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!t4.test(t))return!1;if(e4.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4=new $u(3e4,6e4);function y0(){const n=Vr().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function s4(n){return new Promise((e,t)=>{function r(){y0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{y0(),t(Dr(n,"network-request-failed"))},timeout:i4.get()})}if(Vr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Vr().gapi?.load)r();else{const s=JM("iframefcb");return Vr()[s]=()=>{gapi.load?r():t(Dr(n,"network-request-failed"))},f1(`${XM()}?onload=${s}`).catch(a=>t(a))}}).catch(e=>{throw Lh=null,e})}let Lh=null;function o4(n){return Lh=Lh||s4(n),Lh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4=new $u(5e3,15e3),l4="__/auth/iframe",u4="emulator/auth/iframe",c4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},h4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function d4(n){const e=n.config;Ee(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?ry(e,u4):`https://${n.config.authDomain}/${l4}`,r={apiKey:e.apiKey,appName:n.name,v:Ya},s=h4.get(n.config.apiHost);s&&(r.eid=s);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${zu(r).slice(1)}`}async function f4(n){const e=await o4(n),t=Vr().gapi;return Ee(t,n,"internal-error"),e.open({where:document.body,url:d4(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:c4,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const l=Dr(n,"network-request-failed"),c=Vr().setTimeout(()=>{a(l)},a4.get());function d(){Vr().clearTimeout(c),s(r)}r.ping(d).then(d,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},m4=500,g4=600,y4="_blank",v4="http://localhost";class v0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _4(n,e,t,r=m4,s=g4){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const d={...p4,width:r.toString(),height:s.toString(),top:a,left:l},p=rn().toLowerCase();t&&(c=o1(p)?y4:t),i1(p)&&(e=e||v4,d.scrollbars="yes");const g=Object.entries(d).reduce((w,[I,k])=>`${w}${I}=${k},`,"");if(zM(p)&&c!=="_self")return w4(e||"",c),new v0(null);const y=window.open(e||"",c,g);Ee(y,n,"popup-blocked");try{y.focus()}catch{}return new v0(y)}function w4(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4="__/auth/handler",E4="emulator/auth/handler",I4=encodeURIComponent("fac");async function _0(n,e,t,r,s,a){Ee(n.config.authDomain,n,"auth-domain-config-required"),Ee(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ya,eventId:s};if(e instanceof g1){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",aO(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,y]of Object.entries({}))l[g]=y}if(e instanceof Hu){const g=e.getScopes().filter(y=>y!=="");g.length>0&&(l.scopes=g.join(","))}n.tenantId&&(l.tid=n.tenantId);const c=l;for(const g of Object.keys(c))c[g]===void 0&&delete c[g];const d=await n._getAppCheckToken(),p=d?`#${I4}=${encodeURIComponent(d)}`:"";return`${S4(n)}?${zu(c).slice(1)}${p}`}function S4({config:n}){return n.emulator?ry(n,E4):`https://${n.authDomain}/${T4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm="webStorageSupport";class C4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=I1,this._completeRedirectFn=QL,this._overrideRedirectResult=qL}async _openPopup(e,t,r,s){gi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await _0(e,t,r,Jm(),s);return _4(e,a,ly())}async _openRedirect(e,t,r,s){await this._originValidation(e);const a=await _0(e,t,r,Jm(),s);return xL(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:a}=this.eventManagers[t];return s?Promise.resolve(s):(gi(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await f4(e),r=new XL(e);return t.register("authEvent",s=>(Ee(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(hm,{type:hm},s=>{const a=s?.[0]?.[hm];a!==void 0&&t(!!a),ur(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=n4(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return h1()||s1()||sy()}}const A4=C4;var w0="@firebase/auth",T0="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x4(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function R4(n){Ur(new lr("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;Ee(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:d1(n)},p=new KM(r,s,a,d);return iL(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ur(new lr("auth-internal",e=>{const t=Ao(e.getProvider("auth").getImmediate());return(r=>new P4(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gn(w0,T0,x4(n)),Gn(w0,T0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4=300,k4=FS("authIdTokenMaxAge")||b4;let E0=null;const N4=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>k4)return;const s=t?.token;E0!==s&&(E0=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function D4(n=ty()){const e=Co(n,"auth");if(e.isInitialized())return e.getImmediate();const t=rL(n,{popupRedirectResolver:A4,persistence:[LL,CL,I1]}),r=FS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=N4(a.toString());TL(t,l,()=>l(t.currentUser)),wL(t,c=>l(c))}}const s=MS("auth");return s&&sL(t,`http://${s}`),t}function V4(){return document.getElementsByTagName("head")?.[0]??document}QM({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const a=Dr("internal-error");a.customData=s,t(a)},r.type="text/javascript",r.charset="UTF-8",V4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});R4("Browser");var O4="firebase",M4="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gn(O4,M4,"app");const b1="@firebase/installations",cy="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1=1e4,N1=`w:${cy}`,D1="FIS_v2",L4="https://firebaseinstallations.googleapis.com/v1",F4=3600*1e3,j4="installations",U4="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},mo=new So(j4,U4,B4);function V1(n){return n instanceof hr&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1({projectId:n}){return`${L4}/projects/${n}/installations`}function M1(n){return{token:n.token,requestStatus:2,expiresIn:$4(n.expiresIn),creationTime:Date.now()}}async function L1(n,e){const r=(await e.json()).error;return mo.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function F1({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function z4(n,{refreshToken:e}){const t=F1(n);return t.append("Authorization",W4(e)),t}async function j1(n){const e=await n();return e.status>=500&&e.status<600?n():e}function $4(n){return Number(n.replace("s","000"))}function W4(n){return`${D1} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H4({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=O1(n),s=F1(n),a=e.getImmediate({optional:!0});if(a){const p=await a.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}const l={fid:t,authVersion:D1,appId:n.appId,sdkVersion:N1},c={method:"POST",headers:s,body:JSON.stringify(l)},d=await j1(()=>fetch(r,c));if(d.ok){const p=await d.json();return{fid:p.fid||t,registrationStatus:2,refreshToken:p.refreshToken,authToken:M1(p.authToken)}}else throw await L1("Create Installation",d)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q4(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G4=/^[cdef][\w-]{21}$/,ng="";function K4(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=Q4(n);return G4.test(t)?t:ng}catch{return ng}}function Q4(n){return q4(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $d(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1=new Map;function z1(n,e){const t=$d(n);$1(t,e),Y4(t,e)}function $1(n,e){const t=B1.get(n);if(t)for(const r of t)r(e)}function Y4(n,e){const t=X4();t&&t.postMessage({key:n,fid:e}),J4()}let lo=null;function X4(){return!lo&&"BroadcastChannel"in self&&(lo=new BroadcastChannel("[Firebase] FID Change"),lo.onmessage=n=>{$1(n.data.key,n.data.fid)}),lo}function J4(){B1.size===0&&lo&&(lo.close(),lo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z4="firebase-installations-database",eF=1,go="firebase-installations-store";let dm=null;function hy(){return dm||(dm=qS(Z4,eF,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(go)}}})),dm}async function ud(n,e){const t=$d(n),s=(await hy()).transaction(go,"readwrite"),a=s.objectStore(go),l=await a.get(t);return await a.put(e,t),await s.done,(!l||l.fid!==e.fid)&&z1(n,e.fid),e}async function W1(n){const e=$d(n),r=(await hy()).transaction(go,"readwrite");await r.objectStore(go).delete(e),await r.done}async function Wd(n,e){const t=$d(n),s=(await hy()).transaction(go,"readwrite"),a=s.objectStore(go),l=await a.get(t),c=e(l);return c===void 0?await a.delete(t):await a.put(c,t),await s.done,c&&(!l||l.fid!==c.fid)&&z1(n,c.fid),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dy(n){let e;const t=await Wd(n.appConfig,r=>{const s=tF(r),a=nF(n,s);return e=a.registrationPromise,a.installationEntry});return t.fid===ng?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function tF(n){const e=n||{fid:K4(),registrationStatus:0};return H1(e)}function nF(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(mo.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=rF(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:iF(n)}:{installationEntry:e}}async function rF(n,e){try{const t=await H4(n,e);return ud(n.appConfig,t)}catch(t){throw V1(t)&&t.customData.serverCode===409?await W1(n.appConfig):await ud(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function iF(n){let e=await I0(n.appConfig);for(;e.registrationStatus===1;)await U1(100),e=await I0(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await dy(n);return r||t}return e}function I0(n){return Wd(n,e=>{if(!e)throw mo.create("installation-not-found");return H1(e)})}function H1(n){return sF(n)?{fid:n.fid,registrationStatus:0}:n}function sF(n){return n.registrationStatus===1&&n.registrationTime+k1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oF({appConfig:n,heartbeatServiceProvider:e},t){const r=aF(n,t),s=z4(n,t),a=e.getImmediate({optional:!0});if(a){const p=await a.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}const l={installation:{sdkVersion:N1,appId:n.appId}},c={method:"POST",headers:s,body:JSON.stringify(l)},d=await j1(()=>fetch(r,c));if(d.ok){const p=await d.json();return M1(p)}else throw await L1("Generate Auth Token",d)}function aF(n,{fid:e}){return`${O1(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fy(n,e=!1){let t;const r=await Wd(n.appConfig,a=>{if(!q1(a))throw mo.create("not-registered");const l=a.authToken;if(!e&&cF(l))return a;if(l.requestStatus===1)return t=lF(n,e),a;{if(!navigator.onLine)throw mo.create("app-offline");const c=dF(a);return t=uF(n,c),c}});return t?await t:r.authToken}async function lF(n,e){let t=await S0(n.appConfig);for(;t.authToken.requestStatus===1;)await U1(100),t=await S0(n.appConfig);const r=t.authToken;return r.requestStatus===0?fy(n,e):r}function S0(n){return Wd(n,e=>{if(!q1(e))throw mo.create("not-registered");const t=e.authToken;return fF(t)?{...e,authToken:{requestStatus:0}}:e})}async function uF(n,e){try{const t=await oF(n,e),r={...e,authToken:t};return await ud(n.appConfig,r),t}catch(t){if(V1(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await W1(n.appConfig);else{const r={...e,authToken:{requestStatus:0}};await ud(n.appConfig,r)}throw t}}function q1(n){return n!==void 0&&n.registrationStatus===2}function cF(n){return n.requestStatus===2&&!hF(n)}function hF(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+F4}function dF(n){const e={requestStatus:1,requestTime:Date.now()};return{...n,authToken:e}}function fF(n){return n.requestStatus===1&&n.requestTime+k1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pF(n){const e=n,{installationEntry:t,registrationPromise:r}=await dy(e);return r?r.catch(console.error):fy(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mF(n,e=!1){const t=n;return await gF(t),(await fy(t,e)).token}async function gF(n){const{registrationPromise:e}=await dy(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yF(n){if(!n||!n.options)throw fm("App Configuration");if(!n.name)throw fm("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw fm(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function fm(n){return mo.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1="installations",vF="installations-internal",_F=n=>{const e=n.getProvider("app").getImmediate(),t=yF(e),r=Co(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},wF=n=>{const e=n.getProvider("app").getImmediate(),t=Co(e,G1).getImmediate();return{getId:()=>pF(t),getToken:s=>mF(t,s)}};function TF(){Ur(new lr(G1,_F,"PUBLIC")),Ur(new lr(vF,wF,"PRIVATE"))}TF();Gn(b1,cy);Gn(b1,cy,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cd="analytics",EF="firebase_id",IF="origin",SF=60*1e3,CF="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",py="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn=new jd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AF={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},kn=new So("analytics","Analytics",AF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PF(n){if(!n.startsWith(py)){const e=kn.create("invalid-gtag-resource",{gtagURL:n});return cn.warn(e.message),""}return n}function K1(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function xF(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function RF(n,e){const t=xF("firebase-js-sdk-policy",{createScriptURL:PF}),r=document.createElement("script"),s=`${py}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function bF(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function kF(n,e,t,r,s,a){const l=r[s];try{if(l)await e[l];else{const d=(await K1(t)).find(p=>p.measurementId===s);d&&await e[d.appId]}}catch(c){cn.error(c)}n("config",s,a)}async function NF(n,e,t,r,s){try{let a=[];if(s&&s.send_to){let l=s.send_to;Array.isArray(l)||(l=[l]);const c=await K1(t);for(const d of l){const p=c.find(y=>y.measurementId===d),g=p&&e[p.appId];if(g)a.push(g);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),n("event",r,s||{})}catch(a){cn.error(a)}}function DF(n,e,t,r){async function s(a,...l){try{if(a==="event"){const[c,d]=l;await NF(n,e,t,c,d)}else if(a==="config"){const[c,d]=l;await kF(n,e,t,r,c,d)}else if(a==="consent"){const[c,d]=l;n("consent",c,d)}else if(a==="get"){const[c,d,p]=l;n("get",c,d,p)}else if(a==="set"){const[c]=l;n("set",c)}else n(a,...l)}catch(c){cn.error(c)}}return s}function VF(n,e,t,r,s){let a=function(...l){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(a=window[s]),window[s]=DF(a,n,e,t),{gtagCore:a,wrappedGtag:window[s]}}function OF(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(py)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MF=30,LF=1e3;class FF{constructor(e={},t=LF){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Q1=new FF;function jF(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function UF(n){const{appId:e,apiKey:t}=n,r={method:"GET",headers:jF(t)},s=CF.replace("{app-id}",e),a=await fetch(s,r);if(a.status!==200&&a.status!==304){let l="";try{const c=await a.json();c.error?.message&&(l=c.error.message)}catch{}throw kn.create("config-fetch-failed",{httpStatus:a.status,responseMessage:l})}return a.json()}async function BF(n,e=Q1,t){const{appId:r,apiKey:s,measurementId:a}=n.options;if(!r)throw kn.create("no-app-id");if(!s){if(a)return{measurementId:a,appId:r};throw kn.create("no-api-key")}const l=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new WF;return setTimeout(async()=>{c.abort()},SF),Y1({appId:r,apiKey:s,measurementId:a},l,c,e)}async function Y1(n,{throttleEndTimeMillis:e,backoffCount:t},r,s=Q1){const{appId:a,measurementId:l}=n;try{await zF(r,e)}catch(c){if(l)return cn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:a,measurementId:l};throw c}try{const c=await UF(n);return s.deleteThrottleMetadata(a),c}catch(c){const d=c;if(!$F(d)){if(s.deleteThrottleMetadata(a),l)return cn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:a,measurementId:l};throw c}const p=Number(d?.customData?.httpStatus)===503?KT(t,s.intervalMillis,MF):KT(t,s.intervalMillis),g={throttleEndTimeMillis:Date.now()+p,backoffCount:t+1};return s.setThrottleMetadata(a,g),cn.debug(`Calling attemptFetch again in ${p} millis`),Y1(n,g,r,s)}}function zF(n,e){return new Promise((t,r)=>{const s=Math.max(e-Date.now(),0),a=setTimeout(t,s);n.addEventListener(()=>{clearTimeout(a),r(kn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function $F(n){if(!(n instanceof hr)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class WF{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function HF(n,e,t,r,s){if(s&&s.global){n("event",t,r);return}else{const a=await e,l={...r,send_to:a};n("event",t,l)}}async function qF(n,e,t,r){if(r&&r.global){const s={};for(const a of Object.keys(t))s[`user_properties.${a}`]=t[a];return n("set",s),Promise.resolve()}else{const s=await e;n("config",s,{update:!0,user_properties:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GF(){if(zS())try{await $S()}catch(n){return cn.warn(kn.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return cn.warn(kn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function KF(n,e,t,r,s,a,l){const c=BF(n);c.then(w=>{t[w.measurementId]=w.appId,n.options.measurementId&&w.measurementId!==n.options.measurementId&&cn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${w.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(w=>cn.error(w)),e.push(c);const d=GF().then(w=>{if(w)return r.getId()}),[p,g]=await Promise.all([c,d]);OF(a)||RF(a,p.measurementId),s("js",new Date);const y=l?.config??{};return y[IF]="firebase",y.update=!0,g!=null&&(y[EF]=g),s("config",p.measurementId,y),p.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QF{constructor(e){this.app=e}_delete(){return delete Da[this.app.options.appId],Promise.resolve()}}let Da={},C0=[];const A0={};let pm="dataLayer",YF="gtag",P0,my,x0=!1;function XF(){const n=[];if(BS()&&n.push("This is a browser extension environment."),rO()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,s)=>`(${s+1}) ${r}`).join(" "),t=kn.create("invalid-analytics-context",{errorInfo:e});cn.warn(t.message)}}function JF(n,e,t){XF();const r=n.options.appId;if(!r)throw kn.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)cn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw kn.create("no-api-key");if(Da[r]!=null)throw kn.create("already-exists",{id:r});if(!x0){bF(pm);const{wrappedGtag:a,gtagCore:l}=VF(Da,C0,A0,pm,YF);my=a,P0=l,x0=!0}return Da[r]=KF(n,C0,A0,e,P0,pm,t),new QF(n)}function ZF(n=ty()){n=qt(n);const e=Co(n,cd);return e.isInitialized()?e.getImmediate():ej(n)}function ej(n,e={}){const t=Co(n,cd);if(t.isInitialized()){const s=t.getImmediate();if(ms(e,t.getOptions()))return s;throw kn.create("already-initialized")}return t.initialize({options:e})}function tj(n,e,t){n=qt(n),qF(my,Da[n.app.options.appId],e,t).catch(r=>cn.error(r))}function nj(n,e,t,r){n=qt(n),HF(my,Da[n.app.options.appId],e,t,r).catch(s=>cn.error(s))}const R0="@firebase/analytics",b0="0.10.19";function rj(){Ur(new lr(cd,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return JF(r,s,t)},"PUBLIC")),Ur(new lr("analytics-internal",n,"PRIVATE")),Gn(R0,b0),Gn(R0,b0,"esm2020");function n(e){try{const t=e.getProvider(cd).getImmediate();return{logEvent:(r,s,a)=>nj(t,r,s,a),setUserProperties:(r,s)=>tj(t,r,s)}}catch(t){throw kn.create("interop-component-reg-failed",{reason:t})}}}rj();var k0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var us,X1;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,C){function R(){}R.prototype=C.prototype,N.F=C.prototype,N.prototype=new R,N.prototype.constructor=N,N.D=function(M,O,L){for(var D=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)D[ae-2]=arguments[ae];return C.prototype[O].apply(M,D)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(N,C,R){R||(R=0);const M=Array(16);if(typeof C=="string")for(var O=0;O<16;++O)M[O]=C.charCodeAt(R++)|C.charCodeAt(R++)<<8|C.charCodeAt(R++)<<16|C.charCodeAt(R++)<<24;else for(O=0;O<16;++O)M[O]=C[R++]|C[R++]<<8|C[R++]<<16|C[R++]<<24;C=N.g[0],R=N.g[1],O=N.g[2];let L=N.g[3],D;D=C+(L^R&(O^L))+M[0]+3614090360&4294967295,C=R+(D<<7&4294967295|D>>>25),D=L+(O^C&(R^O))+M[1]+3905402710&4294967295,L=C+(D<<12&4294967295|D>>>20),D=O+(R^L&(C^R))+M[2]+606105819&4294967295,O=L+(D<<17&4294967295|D>>>15),D=R+(C^O&(L^C))+M[3]+3250441966&4294967295,R=O+(D<<22&4294967295|D>>>10),D=C+(L^R&(O^L))+M[4]+4118548399&4294967295,C=R+(D<<7&4294967295|D>>>25),D=L+(O^C&(R^O))+M[5]+1200080426&4294967295,L=C+(D<<12&4294967295|D>>>20),D=O+(R^L&(C^R))+M[6]+2821735955&4294967295,O=L+(D<<17&4294967295|D>>>15),D=R+(C^O&(L^C))+M[7]+4249261313&4294967295,R=O+(D<<22&4294967295|D>>>10),D=C+(L^R&(O^L))+M[8]+1770035416&4294967295,C=R+(D<<7&4294967295|D>>>25),D=L+(O^C&(R^O))+M[9]+2336552879&4294967295,L=C+(D<<12&4294967295|D>>>20),D=O+(R^L&(C^R))+M[10]+4294925233&4294967295,O=L+(D<<17&4294967295|D>>>15),D=R+(C^O&(L^C))+M[11]+2304563134&4294967295,R=O+(D<<22&4294967295|D>>>10),D=C+(L^R&(O^L))+M[12]+1804603682&4294967295,C=R+(D<<7&4294967295|D>>>25),D=L+(O^C&(R^O))+M[13]+4254626195&4294967295,L=C+(D<<12&4294967295|D>>>20),D=O+(R^L&(C^R))+M[14]+2792965006&4294967295,O=L+(D<<17&4294967295|D>>>15),D=R+(C^O&(L^C))+M[15]+1236535329&4294967295,R=O+(D<<22&4294967295|D>>>10),D=C+(O^L&(R^O))+M[1]+4129170786&4294967295,C=R+(D<<5&4294967295|D>>>27),D=L+(R^O&(C^R))+M[6]+3225465664&4294967295,L=C+(D<<9&4294967295|D>>>23),D=O+(C^R&(L^C))+M[11]+643717713&4294967295,O=L+(D<<14&4294967295|D>>>18),D=R+(L^C&(O^L))+M[0]+3921069994&4294967295,R=O+(D<<20&4294967295|D>>>12),D=C+(O^L&(R^O))+M[5]+3593408605&4294967295,C=R+(D<<5&4294967295|D>>>27),D=L+(R^O&(C^R))+M[10]+38016083&4294967295,L=C+(D<<9&4294967295|D>>>23),D=O+(C^R&(L^C))+M[15]+3634488961&4294967295,O=L+(D<<14&4294967295|D>>>18),D=R+(L^C&(O^L))+M[4]+3889429448&4294967295,R=O+(D<<20&4294967295|D>>>12),D=C+(O^L&(R^O))+M[9]+568446438&4294967295,C=R+(D<<5&4294967295|D>>>27),D=L+(R^O&(C^R))+M[14]+3275163606&4294967295,L=C+(D<<9&4294967295|D>>>23),D=O+(C^R&(L^C))+M[3]+4107603335&4294967295,O=L+(D<<14&4294967295|D>>>18),D=R+(L^C&(O^L))+M[8]+1163531501&4294967295,R=O+(D<<20&4294967295|D>>>12),D=C+(O^L&(R^O))+M[13]+2850285829&4294967295,C=R+(D<<5&4294967295|D>>>27),D=L+(R^O&(C^R))+M[2]+4243563512&4294967295,L=C+(D<<9&4294967295|D>>>23),D=O+(C^R&(L^C))+M[7]+1735328473&4294967295,O=L+(D<<14&4294967295|D>>>18),D=R+(L^C&(O^L))+M[12]+2368359562&4294967295,R=O+(D<<20&4294967295|D>>>12),D=C+(R^O^L)+M[5]+4294588738&4294967295,C=R+(D<<4&4294967295|D>>>28),D=L+(C^R^O)+M[8]+2272392833&4294967295,L=C+(D<<11&4294967295|D>>>21),D=O+(L^C^R)+M[11]+1839030562&4294967295,O=L+(D<<16&4294967295|D>>>16),D=R+(O^L^C)+M[14]+4259657740&4294967295,R=O+(D<<23&4294967295|D>>>9),D=C+(R^O^L)+M[1]+2763975236&4294967295,C=R+(D<<4&4294967295|D>>>28),D=L+(C^R^O)+M[4]+1272893353&4294967295,L=C+(D<<11&4294967295|D>>>21),D=O+(L^C^R)+M[7]+4139469664&4294967295,O=L+(D<<16&4294967295|D>>>16),D=R+(O^L^C)+M[10]+3200236656&4294967295,R=O+(D<<23&4294967295|D>>>9),D=C+(R^O^L)+M[13]+681279174&4294967295,C=R+(D<<4&4294967295|D>>>28),D=L+(C^R^O)+M[0]+3936430074&4294967295,L=C+(D<<11&4294967295|D>>>21),D=O+(L^C^R)+M[3]+3572445317&4294967295,O=L+(D<<16&4294967295|D>>>16),D=R+(O^L^C)+M[6]+76029189&4294967295,R=O+(D<<23&4294967295|D>>>9),D=C+(R^O^L)+M[9]+3654602809&4294967295,C=R+(D<<4&4294967295|D>>>28),D=L+(C^R^O)+M[12]+3873151461&4294967295,L=C+(D<<11&4294967295|D>>>21),D=O+(L^C^R)+M[15]+530742520&4294967295,O=L+(D<<16&4294967295|D>>>16),D=R+(O^L^C)+M[2]+3299628645&4294967295,R=O+(D<<23&4294967295|D>>>9),D=C+(O^(R|~L))+M[0]+4096336452&4294967295,C=R+(D<<6&4294967295|D>>>26),D=L+(R^(C|~O))+M[7]+1126891415&4294967295,L=C+(D<<10&4294967295|D>>>22),D=O+(C^(L|~R))+M[14]+2878612391&4294967295,O=L+(D<<15&4294967295|D>>>17),D=R+(L^(O|~C))+M[5]+4237533241&4294967295,R=O+(D<<21&4294967295|D>>>11),D=C+(O^(R|~L))+M[12]+1700485571&4294967295,C=R+(D<<6&4294967295|D>>>26),D=L+(R^(C|~O))+M[3]+2399980690&4294967295,L=C+(D<<10&4294967295|D>>>22),D=O+(C^(L|~R))+M[10]+4293915773&4294967295,O=L+(D<<15&4294967295|D>>>17),D=R+(L^(O|~C))+M[1]+2240044497&4294967295,R=O+(D<<21&4294967295|D>>>11),D=C+(O^(R|~L))+M[8]+1873313359&4294967295,C=R+(D<<6&4294967295|D>>>26),D=L+(R^(C|~O))+M[15]+4264355552&4294967295,L=C+(D<<10&4294967295|D>>>22),D=O+(C^(L|~R))+M[6]+2734768916&4294967295,O=L+(D<<15&4294967295|D>>>17),D=R+(L^(O|~C))+M[13]+1309151649&4294967295,R=O+(D<<21&4294967295|D>>>11),D=C+(O^(R|~L))+M[4]+4149444226&4294967295,C=R+(D<<6&4294967295|D>>>26),D=L+(R^(C|~O))+M[11]+3174756917&4294967295,L=C+(D<<10&4294967295|D>>>22),D=O+(C^(L|~R))+M[2]+718787259&4294967295,O=L+(D<<15&4294967295|D>>>17),D=R+(L^(O|~C))+M[9]+3951481745&4294967295,N.g[0]=N.g[0]+C&4294967295,N.g[1]=N.g[1]+(O+(D<<21&4294967295|D>>>11))&4294967295,N.g[2]=N.g[2]+O&4294967295,N.g[3]=N.g[3]+L&4294967295}r.prototype.v=function(N,C){C===void 0&&(C=N.length);const R=C-this.blockSize,M=this.C;let O=this.h,L=0;for(;L<C;){if(O==0)for(;L<=R;)s(this,N,L),L+=this.blockSize;if(typeof N=="string"){for(;L<C;)if(M[O++]=N.charCodeAt(L++),O==this.blockSize){s(this,M),O=0;break}}else for(;L<C;)if(M[O++]=N[L++],O==this.blockSize){s(this,M),O=0;break}}this.h=O,this.o+=C},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var C=1;C<N.length-8;++C)N[C]=0;C=this.o*8;for(var R=N.length-8;R<N.length;++R)N[R]=C&255,C/=256;for(this.v(N),N=Array(16),C=0,R=0;R<4;++R)for(let M=0;M<32;M+=8)N[C++]=this.g[R]>>>M&255;return N};function a(N,C){var R=c;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=C(N)}function l(N,C){this.h=C;const R=[];let M=!0;for(let O=N.length-1;O>=0;O--){const L=N[O]|0;M&&L==C||(R[O]=L,M=!1)}this.g=R}var c={};function d(N){return-128<=N&&N<128?a(N,function(C){return new l([C|0],C<0?-1:0)}):new l([N|0],N<0?-1:0)}function p(N){if(isNaN(N)||!isFinite(N))return y;if(N<0)return A(p(-N));const C=[];let R=1;for(let M=0;N>=R;M++)C[M]=N/R|0,R*=4294967296;return new l(C,0)}function g(N,C){if(N.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(N.charAt(0)=="-")return A(g(N.substring(1),C));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=p(Math.pow(C,8));let M=y;for(let L=0;L<N.length;L+=8){var O=Math.min(8,N.length-L);const D=parseInt(N.substring(L,L+O),C);O<8?(O=p(Math.pow(C,O)),M=M.j(O).add(p(D))):(M=M.j(R),M=M.add(p(D)))}return M}var y=d(0),w=d(1),I=d(16777216);n=l.prototype,n.m=function(){if(x(this))return-A(this).m();let N=0,C=1;for(let R=0;R<this.g.length;R++){const M=this.i(R);N+=(M>=0?M:4294967296+M)*C,C*=4294967296}return N},n.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(k(this))return"0";if(x(this))return"-"+A(this).toString(N);const C=p(Math.pow(N,6));var R=this;let M="";for(;;){const O=Q(R,C).g;R=$(R,O.j(C));let L=((R.g.length>0?R.g[0]:R.h)>>>0).toString(N);if(R=O,k(R))return L+M;for(;L.length<6;)L="0"+L;M=L+M}},n.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function k(N){if(N.h!=0)return!1;for(let C=0;C<N.g.length;C++)if(N.g[C]!=0)return!1;return!0}function x(N){return N.h==-1}n.l=function(N){return N=$(this,N),x(N)?-1:k(N)?0:1};function A(N){const C=N.g.length,R=[];for(let M=0;M<C;M++)R[M]=~N.g[M];return new l(R,~N.h).add(w)}n.abs=function(){return x(this)?A(this):this},n.add=function(N){const C=Math.max(this.g.length,N.g.length),R=[];let M=0;for(let O=0;O<=C;O++){let L=M+(this.i(O)&65535)+(N.i(O)&65535),D=(L>>>16)+(this.i(O)>>>16)+(N.i(O)>>>16);M=D>>>16,L&=65535,D&=65535,R[O]=D<<16|L}return new l(R,R[R.length-1]&-2147483648?-1:0)};function $(N,C){return N.add(A(C))}n.j=function(N){if(k(this)||k(N))return y;if(x(this))return x(N)?A(this).j(A(N)):A(A(this).j(N));if(x(N))return A(this.j(A(N)));if(this.l(I)<0&&N.l(I)<0)return p(this.m()*N.m());const C=this.g.length+N.g.length,R=[];for(var M=0;M<2*C;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(let O=0;O<N.g.length;O++){const L=this.i(M)>>>16,D=this.i(M)&65535,ae=N.i(O)>>>16,Ve=N.i(O)&65535;R[2*M+2*O]+=D*Ve,U(R,2*M+2*O),R[2*M+2*O+1]+=L*Ve,U(R,2*M+2*O+1),R[2*M+2*O+1]+=D*ae,U(R,2*M+2*O+1),R[2*M+2*O+2]+=L*ae,U(R,2*M+2*O+2)}for(N=0;N<C;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=C;N<2*C;N++)R[N]=0;return new l(R,0)};function U(N,C){for(;(N[C]&65535)!=N[C];)N[C+1]+=N[C]>>>16,N[C]&=65535,C++}function B(N,C){this.g=N,this.h=C}function Q(N,C){if(k(C))throw Error("division by zero");if(k(N))return new B(y,y);if(x(N))return C=Q(A(N),C),new B(A(C.g),A(C.h));if(x(C))return C=Q(N,A(C)),new B(A(C.g),C.h);if(N.g.length>30){if(x(N)||x(C))throw Error("slowDivide_ only works with positive integers.");for(var R=w,M=C;M.l(N)<=0;)R=te(R),M=te(M);var O=se(R,1),L=se(M,1);for(M=se(M,2),R=se(R,2);!k(M);){var D=L.add(M);D.l(N)<=0&&(O=O.add(R),L=D),M=se(M,1),R=se(R,1)}return C=$(N,O.j(C)),new B(O,C)}for(O=y;N.l(C)>=0;){for(R=Math.max(1,Math.floor(N.m()/C.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),L=p(R),D=L.j(C);x(D)||D.l(N)>0;)R-=M,L=p(R),D=L.j(C);k(L)&&(L=w),O=O.add(L),N=$(N,D)}return new B(O,N)}n.B=function(N){return Q(this,N).h},n.and=function(N){const C=Math.max(this.g.length,N.g.length),R=[];for(let M=0;M<C;M++)R[M]=this.i(M)&N.i(M);return new l(R,this.h&N.h)},n.or=function(N){const C=Math.max(this.g.length,N.g.length),R=[];for(let M=0;M<C;M++)R[M]=this.i(M)|N.i(M);return new l(R,this.h|N.h)},n.xor=function(N){const C=Math.max(this.g.length,N.g.length),R=[];for(let M=0;M<C;M++)R[M]=this.i(M)^N.i(M);return new l(R,this.h^N.h)};function te(N){const C=N.g.length+1,R=[];for(let M=0;M<C;M++)R[M]=N.i(M)<<1|N.i(M-1)>>>31;return new l(R,N.h)}function se(N,C){const R=C>>5;C%=32;const M=N.g.length-R,O=[];for(let L=0;L<M;L++)O[L]=C>0?N.i(L+R)>>>C|N.i(L+R+1)<<32-C:N.i(L+R);return new l(O,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,X1=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=g,us=l}).apply(typeof k0<"u"?k0:typeof self<"u"?self:typeof window<"u"?window:{});var Eh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var J1,ou,Z1,Fh,rg,eC,tC,nC;(function(){var n,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Eh=="object"&&Eh];for(var _=0;_<h.length;++_){var T=h[_];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=t(this);function s(h,_){if(_)e:{var T=r;h=h.split(".");for(var S=0;S<h.length-1;S++){var H=h[S];if(!(H in T))break e;T=T[H]}h=h[h.length-1],S=T[h],_=_(S),_!=S&&_!=null&&e(T,h,{configurable:!0,writable:!0,value:_})}}s("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(h){return h||function(_){var T=[],S;for(S in _)Object.prototype.hasOwnProperty.call(_,S)&&T.push([S,_[S]]);return T}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function c(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function d(h,_,T){return h.call.apply(h.bind,arguments)}function p(h,_,T){return p=d,p.apply(null,arguments)}function g(h,_){var T=Array.prototype.slice.call(arguments,1);return function(){var S=T.slice();return S.push.apply(S,arguments),h.apply(this,S)}}function y(h,_){function T(){}T.prototype=_.prototype,h.Z=_.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(S,H,K){for(var oe=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)oe[xe-2]=arguments[xe];return _.prototype[H].apply(S,oe)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function I(h){const _=h.length;if(_>0){const T=Array(_);for(let S=0;S<_;S++)T[S]=h[S];return T}return[]}function k(h,_){for(let S=1;S<arguments.length;S++){const H=arguments[S];var T=typeof H;if(T=T!="object"?T:H?Array.isArray(H)?"array":T:"null",T=="array"||T=="object"&&typeof H.length=="number"){T=h.length||0;const K=H.length||0;h.length=T+K;for(let oe=0;oe<K;oe++)h[T+oe]=H[oe]}else h.push(H)}}class x{constructor(_,T){this.i=_,this.j=T,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function A(h){l.setTimeout(()=>{throw h},0)}function $(){var h=N;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class U{constructor(){this.h=this.g=null}add(_,T){const S=B.get();S.set(_,T),this.h?this.h.next=S:this.g=S,this.h=S}}var B=new x(()=>new Q,h=>h.reset());class Q{constructor(){this.next=this.g=this.h=null}set(_,T){this.h=_,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let te,se=!1,N=new U,C=()=>{const h=Promise.resolve(void 0);te=()=>{h.then(R)}};function R(){for(var h;h=$();){try{h.h.call(h.g)}catch(T){A(T)}var _=B;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}se=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};l.addEventListener("test",T,_),l.removeEventListener("test",T,_)}catch{}return h})();function D(h){return/^[\s\xa0]*$/.test(h)}function ae(h,_){O.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}y(ae,O),ae.prototype.init=function(h,_){const T=this.type=h.type,S=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(T=="mouseover"?_=h.fromElement:T=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&ae.Z.h.call(this)},ae.prototype.h=function(){ae.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ve="closure_listenable_"+(Math.random()*1e6|0),Se=0;function ke(h,_,T,S,H){this.listener=h,this.proxy=null,this.src=_,this.type=T,this.capture=!!S,this.ha=H,this.key=++Se,this.da=this.fa=!1}function re(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ue(h,_,T){for(const S in h)_.call(T,h[S],S,h)}function le(h,_){for(const T in h)_.call(void 0,h[T],T,h)}function j(h){const _={};for(const T in h)_[T]=h[T];return _}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pe(h,_){let T,S;for(let H=1;H<arguments.length;H++){S=arguments[H];for(T in S)h[T]=S[T];for(let K=0;K<Y.length;K++)T=Y[K],Object.prototype.hasOwnProperty.call(S,T)&&(h[T]=S[T])}}function Ce(h){this.src=h,this.g={},this.h=0}Ce.prototype.add=function(h,_,T,S,H){const K=h.toString();h=this.g[K],h||(h=this.g[K]=[],this.h++);const oe=Ne(h,_,S,H);return oe>-1?(_=h[oe],T||(_.fa=!1)):(_=new ke(_,this.src,K,!!S,H),_.fa=T,h.push(_)),_};function De(h,_){const T=_.type;if(T in h.g){var S=h.g[T],H=Array.prototype.indexOf.call(S,_,void 0),K;(K=H>=0)&&Array.prototype.splice.call(S,H,1),K&&(re(_),h.g[T].length==0&&(delete h.g[T],h.h--))}}function Ne(h,_,T,S){for(let H=0;H<h.length;++H){const K=h[H];if(!K.da&&K.listener==_&&K.capture==!!T&&K.ha==S)return H}return-1}var $e="closure_lm_"+(Math.random()*1e6|0),Ue={};function qe(h,_,T,S,H){if(Array.isArray(_)){for(let K=0;K<_.length;K++)qe(h,_[K],T,S,H);return null}return T=rl(T),h&&h[Ve]?h.J(_,T,c(S)?!!S.capture:!1,H):Et(h,_,T,!1,S,H)}function Et(h,_,T,S,H,K){if(!_)throw Error("Invalid event type");const oe=c(H)?!!H.capture:!!H;let xe=Do(h);if(xe||(h[$e]=xe=new Ce(h)),T=xe.add(_,T,S,oe,K),T.proxy)return T;if(S=hn(),T.proxy=S,S.src=h,S.listener=T,h.addEventListener)L||(H=oe),H===void 0&&(H=!1),h.addEventListener(_.toString(),S,H);else if(h.attachEvent)h.attachEvent(No(_.toString()),S);else if(h.addListener&&h.removeListener)h.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return T}function hn(){function h(T){return _.call(h.src,h.listener,T)}const _=ec;return h}function ko(h,_,T,S,H){if(Array.isArray(_))for(var K=0;K<_.length;K++)ko(h,_[K],T,S,H);else S=c(S)?!!S.capture:!!S,T=rl(T),h&&h[Ve]?(h=h.i,K=String(_).toString(),K in h.g&&(_=h.g[K],T=Ne(_,T,S,H),T>-1&&(re(_[T]),Array.prototype.splice.call(_,T,1),_.length==0&&(delete h.g[K],h.h--)))):h&&(h=Do(h))&&(_=h.g[_.toString()],h=-1,_&&(h=Ne(_,T,S,H)),(T=h>-1?_[h]:null)&&_i(T))}function _i(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[Ve])De(_.i,h);else{var T=h.type,S=h.proxy;_.removeEventListener?_.removeEventListener(T,S,h.capture):_.detachEvent?_.detachEvent(No(T),S):_.addListener&&_.removeListener&&_.removeListener(S),(T=Do(_))?(De(T,h),T.h==0&&(T.src=null,_[$e]=null)):re(h)}}}function No(h){return h in Ue?Ue[h]:Ue[h]="on"+h}function ec(h,_){if(h.da)h=!0;else{_=new ae(_,this);const T=h.listener,S=h.ha||h.src;h.fa&&_i(h),h=T.call(S,_)}return h}function Do(h){return h=h[$e],h instanceof Ce?h:null}var Ps="__closure_events_fn_"+(Math.random()*1e9>>>0);function rl(h){return typeof h=="function"?h:(h[Ps]||(h[Ps]=function(_){return h.handleEvent(_)}),h[Ps])}function It(){M.call(this),this.i=new Ce(this),this.M=this,this.G=null}y(It,M),It.prototype[Ve]=!0,It.prototype.removeEventListener=function(h,_,T,S){ko(this,h,_,T,S)};function gt(h,_){var T,S=h.G;if(S)for(T=[];S;S=S.G)T.push(S);if(h=h.M,S=_.type||_,typeof _=="string")_=new O(_,h);else if(_ instanceof O)_.target=_.target||h;else{var H=_;_=new O(S,h),pe(_,H)}H=!0;let K,oe;if(T)for(oe=T.length-1;oe>=0;oe--)K=_.g=T[oe],H=Kn(K,S,!0,_)&&H;if(K=_.g=h,H=Kn(K,S,!0,_)&&H,H=Kn(K,S,!1,_)&&H,T)for(oe=0;oe<T.length;oe++)K=_.g=T[oe],H=Kn(K,S,!1,_)&&H}It.prototype.N=function(){if(It.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const T=h.g[_];for(let S=0;S<T.length;S++)re(T[S]);delete h.g[_],h.h--}}this.G=null},It.prototype.J=function(h,_,T,S){return this.i.add(String(h),_,!1,T,S)},It.prototype.K=function(h,_,T,S){return this.i.add(String(h),_,!0,T,S)};function Kn(h,_,T,S){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let H=!0;for(let K=0;K<_.length;++K){const oe=_[K];if(oe&&!oe.da&&oe.capture==T){const xe=oe.listener,yt=oe.ha||oe.src;oe.fa&&De(h.i,oe),H=xe.call(yt,S)!==!1&&H}}return H&&!S.defaultPrevented}function il(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:l.setTimeout(h,_||0)}function sl(h){h.g=il(()=>{h.g=null,h.i&&(h.i=!1,sl(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class tc extends M{constructor(_,T){super(),this.m=_,this.l=T,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:sl(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wi(h){M.call(this),this.h=h,this.g={}}y(wi,M);var ol=[];function Vo(h){ue(h.g,function(_,T){this.g.hasOwnProperty(T)&&_i(_)},h),h.g={}}wi.prototype.N=function(){wi.Z.N.call(this),Vo(this)},wi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ti=l.JSON.stringify,nc=l.JSON.parse,xs=class{stringify(h){return l.JSON.stringify(h,void 0)}parse(h){return l.JSON.parse(h,void 0)}};function Ei(){}function rc(){}var Ii={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Oo(){O.call(this,"d")}y(Oo,O);function al(){O.call(this,"c")}y(al,O);var Qn={},Mo=null;function Si(){return Mo=Mo||new It}Qn.Ia="serverreachability";function Lo(h){O.call(this,Qn.Ia,h)}y(Lo,O);function zr(h){const _=Si();gt(_,new Lo(_))}Qn.STAT_EVENT="statevent";function $r(h,_){O.call(this,Qn.STAT_EVENT,h),this.stat=_}y($r,O);function pt(h){const _=Si();gt(_,new $r(_,h))}Qn.Ja="timingevent";function ll(h,_){O.call(this,Qn.Ja,h),this.size=_}y(ll,O);function Ci(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){h()},_)}function Ai(){this.g=!0}Ai.prototype.ua=function(){this.g=!1};function ic(h,_,T,S,H,K){h.info(function(){if(h.g)if(K){var oe="",xe=K.split("&");for(let Qe=0;Qe<xe.length;Qe++){var yt=xe[Qe].split("=");if(yt.length>1){const St=yt[0];yt=yt[1];const Pn=St.split("_");oe=Pn.length>=2&&Pn[1]=="type"?oe+(St+"="+yt+"&"):oe+(St+"=redacted&")}}}else oe=null;else oe=K;return"XMLHTTP REQ ("+S+") [attempt "+H+"]: "+_+`
`+T+`
`+oe})}function sc(h,_,T,S,H,K,oe){h.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+H+"]: "+_+`
`+T+`
`+K+" "+oe})}function dr(h,_,T,S){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+Rs(h,T)+(S?" "+S:"")})}function oc(h,_){h.info(function(){return"TIMEOUT: "+_})}Ai.prototype.info=function(){};function Rs(h,_){if(!h.g)return _;if(!_)return null;try{const K=JSON.parse(_);if(K){for(h=0;h<K.length;h++)if(Array.isArray(K[h])){var T=K[h];if(!(T.length<2)){var S=T[1];if(Array.isArray(S)&&!(S.length<1)){var H=S[0];if(H!="noop"&&H!="stop"&&H!="close")for(let oe=1;oe<S.length;oe++)S[oe]=""}}}}return Ti(K)}catch{return _}}var Pi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},xi={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ac;function Wr(){}y(Wr,Ei),Wr.prototype.g=function(){return new XMLHttpRequest},ac=new Wr;function fr(h){return encodeURIComponent(String(h))}function Fo(h){var _=1;h=h.split(":");const T=[];for(;_>0&&h.length;)T.push(h.shift()),_--;return h.length&&T.push(h.join(":")),T}function Dn(h,_,T,S){this.j=h,this.i=_,this.l=T,this.S=S||1,this.V=new wi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new lc}function lc(){this.i=null,this.g="",this.h=!1}var uc={},ul={};function Yn(h,_,T){h.M=1,h.A=qr(Vn(_)),h.u=T,h.R=!0,cl(h,null)}function cl(h,_){h.F=Date.now(),bs(h),h.B=Vn(h.A);var T=h.B,S=h.S;Array.isArray(S)||(S=[String(S)]),wl(T.i,"t",S),h.C=0,T=h.j.L,h.h=new lc,h.g=_c(h.j,T?_:null,!h.u),h.P>0&&(h.O=new tc(p(h.Y,h,h.g),h.P)),_=h.V,T=h.g,S=h.ba;var H="readystatechange";Array.isArray(H)||(H&&(ol[0]=H.toString()),H=ol);for(let K=0;K<H.length;K++){const oe=qe(T,H[K],S||_.handleEvent,!1,_.h||_);if(!oe)break;_.g[oe.key]=oe}_=h.J?j(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),zr(),ic(h.i,h.v,h.B,h.l,h.S,h.u)}Dn.prototype.ba=function(h){h=h.target;const _=this.O;_&&wr(h)==3?_.j():this.Y(h)},Dn.prototype.Y=function(h){try{if(h==this.g)e:{const xe=wr(this.g),yt=this.g.ya(),Qe=this.g.ca();if(!(xe<3)&&(xe!=3||this.g&&(this.h.h||this.g.la()||yc(this.g)))){this.K||xe!=4||yt==7||(yt==8||Qe<=0?zr(3):zr(2)),jo(this);var _=this.g.ca();this.X=_;var T=cc(this);if(this.o=_==200,sc(this.i,this.v,this.B,this.l,this.S,xe,_),this.o){if(this.U&&!this.L){t:{if(this.g){var S,H=this.g;if((S=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(S)){var K=S;break t}}K=null}if(h=K)dr(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,et(this,h);else{this.o=!1,this.m=3,pt(12),Hr(this),ks(this);break e}}if(this.R){h=!0;let St;for(;!this.K&&this.C<T.length;)if(St=dc(this,T),St==ul){xe==4&&(this.m=4,pt(14),h=!1),dr(this.i,this.l,null,"[Incomplete Response]");break}else if(St==uc){this.m=4,pt(15),dr(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else dr(this.i,this.l,St,null),et(this,St);if(hc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xe!=4||T.length!=0||this.h.h||(this.m=1,pt(16),h=!1),this.o=this.o&&h,!h)dr(this.i,this.l,T,"[Invalid Chunked Response]"),Hr(this),ks(this);else if(T.length>0&&!this.W){this.W=!0;var oe=this.j;oe.g==this&&oe.aa&&!oe.P&&(oe.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Us(oe),oe.P=!0,pt(11))}}else dr(this.i,this.l,T,null),et(this,T);xe==4&&Hr(this),this.o&&!this.K&&(xe==4?Qo(this.j,this):(this.o=!1,bs(this)))}else El(this.g),_==400&&T.indexOf("Unknown SID")>0?(this.m=3,pt(12)):(this.m=0,pt(13)),Hr(this),ks(this)}}}catch{}finally{}};function cc(h){if(!hc(h))return h.g.la();const _=yc(h.g);if(_==="")return"";let T="";const S=_.length,H=wr(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Hr(h),ks(h),"";h.h.i=new l.TextDecoder}for(let K=0;K<S;K++)h.h.h=!0,T+=h.h.i.decode(_[K],{stream:!(H&&K==S-1)});return _.length=0,h.h.g+=T,h.C=0,h.h.g}function hc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function dc(h,_){var T=h.C,S=_.indexOf(`
`,T);return S==-1?ul:(T=Number(_.substring(T,S)),isNaN(T)?uc:(S+=1,S+T>_.length?ul:(_=_.slice(S,S+T),h.C=S+T,_)))}Dn.prototype.cancel=function(){this.K=!0,Hr(this)};function bs(h){h.T=Date.now()+h.H,hl(h,h.H)}function hl(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Ci(p(h.aa,h),_)}function jo(h){h.D&&(l.clearTimeout(h.D),h.D=null)}Dn.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(oc(this.i,this.B),this.M!=2&&(zr(),pt(17)),Hr(this),this.m=2,ks(this)):hl(this,this.T-h)};function ks(h){h.j.I==0||h.K||Qo(h.j,h)}function Hr(h){jo(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,Vo(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function et(h,_){try{var T=h.j;if(T.I!=0&&(T.g==h||fl(T.h,h))){if(!h.L&&fl(T.h,h)&&T.I==3){try{var S=T.Ba.g.parse(_)}catch{S=null}if(Array.isArray(S)&&S.length==3){var H=S;if(H[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)Ko(T),Cn(T);else break e;Ir(T),pt(18)}}else T.xa=H[1],0<T.xa-T.K&&H[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Ci(p(T.Va,T),6e3));Ns(T.h)<=1&&T.ta&&(T.ta=void 0)}else An(T,11)}else if((h.L||T.g==h)&&Ko(T),!D(_))for(H=T.Ba.g.parse(_),_=0;_<H.length;_++){let Qe=H[_];const St=Qe[0];if(!(St<=T.K))if(T.K=St,Qe=Qe[1],T.I==2)if(Qe[0]=="c"){T.M=Qe[1],T.ba=Qe[2];const Pn=Qe[3];Pn!=null&&(T.ka=Pn,T.j.info("VER="+T.ka));const Xr=Qe[4];Xr!=null&&(T.za=Xr,T.j.info("SVER="+T.za));const Sr=Qe[5];Sr!=null&&typeof Sr=="number"&&Sr>0&&(S=1.5*Sr,T.O=S,T.j.info("backChannelRequestTimeoutMs_="+S)),S=T;const Cr=h.g;if(Cr){const Jo=Cr.g?Cr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jo){var K=S.h;K.g||Jo.indexOf("spdy")==-1&&Jo.indexOf("quic")==-1&&Jo.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Bo(K,K.h),K.h=null))}if(S.G){const Cl=Cr.g?Cr.g.getResponseHeader("X-HTTP-Session-Id"):null;Cl&&(S.wa=Cl,Ge(S.J,S.G,Cl))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),S=T;var oe=h;if(S.na=Sl(S,S.L?S.ba:null,S.W),oe.L){Ds(S.h,oe);var xe=oe,yt=S.O;yt&&(xe.H=yt),xe.D&&(jo(xe),bs(xe)),S.g=oe}else Kt(S);T.i.length>0&&Yr(T)}else Qe[0]!="stop"&&Qe[0]!="close"||An(T,7);else T.I==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?An(T,7):qo(T):Qe[0]!="noop"&&T.l&&T.l.qa(Qe),T.A=0)}}zr(4)}catch{}}var uf=class{constructor(h,_){this.g=h,this.map=_}};function Uo(h){this.l=h||10,l.PerformanceNavigationTiming?(h=l.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function dl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ns(h){return h.h?1:h.g?h.g.size:0}function fl(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function Bo(h,_){h.g?h.g.add(_):h.h=_}function Ds(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}Uo.prototype.cancel=function(){if(this.i=En(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function En(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const T of h.g.values())_=_.concat(T.G);return _}return I(h.i)}var fc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function In(h,_){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const S=h[T].indexOf("=");let H,K=null;S>=0?(H=h[T].substring(0,S),K=h[T].substring(S+1)):H=h[T],_(H,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function pr(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof pr?(this.l=h.l,Vs(this,h.j),this.o=h.o,this.g=h.g,mr(this,h.u),this.h=h.h,Ri(this,Tl(h.i)),this.m=h.m):h&&(_=String(h).match(fc))?(this.l=!1,Vs(this,_[1]||"",!0),this.o=Os(_[2]||""),this.g=Os(_[3]||"",!0),mr(this,_[4]),this.h=Os(_[5]||"",!0),Ri(this,_[6]||"",!0),this.m=Os(_[7]||"")):(this.l=!1,this.i=new Be(null,this.l))}pr.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(Ms(_,ml,!0),":");var T=this.g;return(T||_=="file")&&(h.push("//"),(_=this.o)&&h.push(Ms(_,ml,!0),"@"),h.push(fr(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(Ms(T,T.charAt(0)=="/"?Ls:gl,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",Ms(T,yl)),h.join("")},pr.prototype.resolve=function(h){const _=Vn(this);let T=!!h.j;T?Vs(_,h.j):T=!!h.o,T?_.o=h.o:T=!!h.g,T?_.g=h.g:T=h.u!=null;var S=h.h;if(T)mr(_,h.u);else if(T=!!h.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var H=_.h.lastIndexOf("/");H!=-1&&(S=_.h.slice(0,H+1)+S)}if(H=S,H==".."||H==".")S="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){S=H.lastIndexOf("/",0)==0,H=H.split("/");const K=[];for(let oe=0;oe<H.length;){const xe=H[oe++];xe=="."?S&&oe==H.length&&K.push(""):xe==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),S&&oe==H.length&&K.push("")):(K.push(xe),S=!0)}S=K.join("/")}else S=H}return T?_.h=S:T=h.i.toString()!=="",T?Ri(_,Tl(h.i)):T=!!h.m,T&&(_.m=h.m),_};function Vn(h){return new pr(h)}function Vs(h,_,T){h.j=T?Os(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function mr(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function Ri(h,_,T){_ instanceof Be?(h.i=_,$o(h.i,h.l)):(T||(_=Ms(_,cf)),h.i=new Be(_,h.l))}function Ge(h,_,T){h.i.set(_,T)}function qr(h){return Ge(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Os(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ms(h,_,T){return typeof h=="string"?(h=encodeURI(h).replace(_,pl),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function pl(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var ml=/[#\/\?@]/g,gl=/[#\?:]/g,Ls=/[#\?]/g,cf=/[#\?@]/g,yl=/#/g;function Be(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function gr(h){h.g||(h.g=new Map,h.h=0,h.i&&In(h.i,function(_,T){h.add(decodeURIComponent(_.replace(/\+/g," ")),T)}))}n=Be.prototype,n.add=function(h,_){gr(this),this.i=null,h=yr(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(_),this.h+=1,this};function vl(h,_){gr(h),_=yr(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function zo(h,_){return gr(h),_=yr(h,_),h.g.has(_)}n.forEach=function(h,_){gr(this),this.g.forEach(function(T,S){T.forEach(function(H){h.call(_,H,S,this)},this)},this)};function _l(h,_){gr(h);let T=[];if(typeof _=="string")zo(h,_)&&(T=T.concat(h.g.get(yr(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)T=T.concat(h[_]);return T}n.set=function(h,_){return gr(this),this.i=null,h=yr(this,h),zo(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},n.get=function(h,_){return h?(h=_l(this,h),h.length>0?String(h[0]):_):_};function wl(h,_,T){vl(h,_),T.length>0&&(h.i=null,h.g.set(yr(h,_),I(T)),h.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let S=0;S<_.length;S++){var T=_[S];const H=fr(T);T=_l(this,T);for(let K=0;K<T.length;K++){let oe=H;T[K]!==""&&(oe+="="+fr(T[K])),h.push(oe)}}return this.i=h.join("&")};function Tl(h){const _=new Be;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function yr(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function $o(h,_){_&&!h.j&&(gr(h),h.i=null,h.g.forEach(function(T,S){const H=S.toLowerCase();S!=H&&(vl(this,S),wl(this,H,T))},h)),h.j=_}function vr(h,_){const T=new Ai;if(l.Image){const S=new Image;S.onload=g(jt,T,"TestLoadImage: loaded",!0,_,S),S.onerror=g(jt,T,"TestLoadImage: error",!1,_,S),S.onabort=g(jt,T,"TestLoadImage: abort",!1,_,S),S.ontimeout=g(jt,T,"TestLoadImage: timeout",!1,_,S),l.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=h}else _(!1)}function _r(h,_){const T=new Ai,S=new AbortController,H=setTimeout(()=>{S.abort(),jt(T,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:S.signal}).then(K=>{clearTimeout(H),K.ok?jt(T,"TestPingServer: ok",!0,_):jt(T,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(H),jt(T,"TestPingServer: error",!1,_)})}function jt(h,_,T,S,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),S(T)}catch{}}function Fs(){this.g=new xs}function Gr(h){this.i=h.Sb||null,this.h=h.ab||!1}y(Gr,Ei),Gr.prototype.g=function(){return new Sn(this.i,this.h)};function Sn(h,_){It.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}y(Sn,It),n=Sn.prototype,n.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,Xn(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||l).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,bi(this)),this.readyState=0},n.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;pc(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function pc(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}n.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?bi(this):Xn(this),this.readyState==3&&pc(this)}},n.Oa=function(h){this.g&&(this.response=this.responseText=h,bi(this))},n.Na=function(h){this.g&&(this.response=h,bi(this))},n.ga=function(){this.g&&bi(this)};function bi(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Xn(h)}n.setRequestHeader=function(h,_){this.A.append(h,_)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var T=_.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=_.next();return h.join(`\r
`)};function Xn(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Sn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function mc(h){let _="";return ue(h,function(T,S){_+=S,_+=":",_+=T,_+=`\r
`}),_}function Wo(h,_,T){e:{for(S in T){var S=!1;break e}S=!0}S||(T=mc(T),typeof h=="string"?T!=null&&fr(T):Ge(h,_,T))}function Ye(h){It.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}y(Ye,It);var gc=/^https?$/i,hf=["POST","PUT"];n=Ye.prototype,n.Fa=function(h){this.H=h},n.ea=function(h,_,T,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ac.g(),this.g.onreadystatechange=w(p(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(K){ki(this,K);return}if(h=T||"",T=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var H in S)T.set(H,S[H]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const K of S.keys())T.set(K,S.get(K));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(T.keys()).find(K=>K.toLowerCase()=="content-type"),H=l.FormData&&h instanceof l.FormData,!(Array.prototype.indexOf.call(hf,_,void 0)>=0)||S||H||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,oe]of T)this.g.setRequestHeader(K,oe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(K){ki(this,K)}};function ki(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,Ni(h),Qr(h)}function Ni(h){h.A||(h.A=!0,gt(h,"complete"),gt(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,gt(this,"complete"),gt(this,"abort"),Qr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qr(this,!0)),Ye.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Kr(this):this.Xa())},n.Xa=function(){Kr(this)};function Kr(h){if(h.h&&typeof a<"u"){if(h.v&&wr(h)==4)setTimeout(h.Ca.bind(h),0);else if(gt(h,"readystatechange"),wr(h)==4){h.h=!1;try{const K=h.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var T;if(!(T=_)){var S;if(S=K===0){let oe=String(h.D).match(fc)[1]||null;!oe&&l.self&&l.self.location&&(oe=l.self.location.protocol.slice(0,-1)),S=!gc.test(oe?oe.toLowerCase():"")}T=S}if(T)gt(h,"complete"),gt(h,"success");else{h.o=6;try{var H=wr(h)>2?h.g.statusText:""}catch{H=""}h.l=H+" ["+h.ca()+"]",Ni(h)}}finally{Qr(h)}}}}function Qr(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,_||gt(h,"ready");try{T.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function wr(h){return h.g?h.g.readyState:0}n.ca=function(){try{return wr(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),nc(_)}};function yc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function El(h){const _={};h=(h.g&&wr(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<h.length;S++){if(D(h[S]))continue;var T=Fo(h[S]);const H=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const K=_[H]||[];_[H]=K,K.push(T)}le(_,function(S){return S.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Tr(h,_,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||_}function Ho(h){this.za=0,this.i=[],this.j=new Ai,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Tr("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Tr("baseRetryDelayMs",5e3,h),this.Za=Tr("retryDelaySeedMs",1e4,h),this.Ta=Tr("forwardChannelMaxRetries",2,h),this.va=Tr("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Uo(h&&h.concurrentRequestLimit),this.Ba=new Fs,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Ho.prototype,n.ka=8,n.I=1,n.connect=function(h,_,T,S){pt(0),this.W=h,this.H=_||{},T&&S!==void 0&&(this.H.OSID=T,this.H.OAID=S),this.F=this.X,this.J=Sl(this,null,this.W),Yr(this)};function qo(h){if(Go(h),h.I==3){var _=h.V++,T=Vn(h.J);if(Ge(T,"SID",h.M),Ge(T,"RID",_),Ge(T,"TYPE","terminate"),Er(h,T),_=new Dn(h,h.j,_),_.M=2,_.A=qr(Vn(T)),T=!1,l.navigator&&l.navigator.sendBeacon)try{T=l.navigator.sendBeacon(_.A.toString(),"")}catch{}!T&&l.Image&&(new Image().src=_.A,T=!0),T||(_.g=_c(_.j,null),_.g.ea(_.A)),_.F=Date.now(),bs(_)}Bs(h)}function Cn(h){h.g&&(Us(h),h.g.cancel(),h.g=null)}function Go(h){Cn(h),h.v&&(l.clearTimeout(h.v),h.v=null),Ko(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&l.clearTimeout(h.m),h.m=null)}function Yr(h){if(!dl(h.h)&&!h.m){h.m=!0;var _=h.Ea;te||C(),se||(te(),se=!0),N.add(_,h),h.D=0}}function vc(h,_){return Ns(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Ci(p(h.Ea,h,_),Yo(h,h.D)),h.D++,!0)}n.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const H=new Dn(this,this.j,h);let K=this.o;if(this.U&&(K?(K=j(K),pe(K,this.U)):K=this.U),this.u!==null||this.R||(H.J=K,K=null),this.S)e:{for(var _=0,T=0;T<this.i.length;T++){t:{var S=this.i[T];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(_+=S,_>4096){_=T;break e}if(_===4096||T===this.i.length-1){_=T+1;break e}}_=1e3}else _=1e3;_=Il(this,H,_),T=Vn(this.J),Ge(T,"RID",h),Ge(T,"CVER",22),this.G&&Ge(T,"X-HTTP-Session-Id",this.G),Er(this,T),K&&(this.R?_="headers="+fr(mc(K))+"&"+_:this.u&&Wo(T,this.u,K)),Bo(this.h,H),this.Ra&&Ge(T,"TYPE","init"),this.S?(Ge(T,"$req",_),Ge(T,"SID","null"),H.U=!0,Yn(H,T,null)):Yn(H,T,_),this.I=2}}else this.I==3&&(h?js(this,h):this.i.length==0||dl(this.h)||js(this))};function js(h,_){var T;_?T=_.l:T=h.V++;const S=Vn(h.J);Ge(S,"SID",h.M),Ge(S,"RID",T),Ge(S,"AID",h.K),Er(h,S),h.u&&h.o&&Wo(S,h.u,h.o),T=new Dn(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),_&&(h.i=_.G.concat(h.i)),_=Il(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Bo(h.h,T),Yn(T,S,_)}function Er(h,_){h.H&&ue(h.H,function(T,S){Ge(_,S,T)}),h.l&&ue({},function(T,S){Ge(_,S,T)})}function Il(h,_,T){T=Math.min(h.i.length,T);const S=h.l?p(h.l.Ka,h.l,h):null;e:{var H=h.i;let xe=-1;for(;;){const yt=["count="+T];xe==-1?T>0?(xe=H[0].g,yt.push("ofs="+xe)):xe=0:yt.push("ofs="+xe);let Qe=!0;for(let St=0;St<T;St++){var K=H[St].g;const Pn=H[St].map;if(K-=xe,K<0)xe=Math.max(0,H[St].g-100),Qe=!1;else try{K="req"+K+"_"||"";try{var oe=Pn instanceof Map?Pn:Object.entries(Pn);for(const[Xr,Sr]of oe){let Cr=Sr;c(Sr)&&(Cr=Ti(Sr)),yt.push(K+Xr+"="+encodeURIComponent(Cr))}}catch(Xr){throw yt.push(K+"type="+encodeURIComponent("_badmap")),Xr}}catch{S&&S(Pn)}}if(Qe){oe=yt.join("&");break e}}oe=void 0}return h=h.i.splice(0,T),_.G=h,oe}function Kt(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;te||C(),se||(te(),se=!0),N.add(_,h),h.A=0}}function Ir(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Ci(p(h.Da,h),Yo(h,h.A)),h.A++,!0)}n.Da=function(){if(this.v=null,Di(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Ci(p(this.Wa,this),h)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,pt(10),Cn(this),Di(this))};function Us(h){h.B!=null&&(l.clearTimeout(h.B),h.B=null)}function Di(h){h.g=new Dn(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=Vn(h.na);Ge(_,"RID","rpc"),Ge(_,"SID",h.M),Ge(_,"AID",h.K),Ge(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&Ge(_,"TO",h.ia),Ge(_,"TYPE","xmlhttp"),Er(h,_),h.u&&h.o&&Wo(_,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=qr(Vn(_)),T.u=null,T.R=!0,cl(T,h)}n.Va=function(){this.C!=null&&(this.C=null,Cn(this),Ir(this),pt(19))};function Ko(h){h.C!=null&&(l.clearTimeout(h.C),h.C=null)}function Qo(h,_){var T=null;if(h.g==_){Ko(h),Us(h),h.g=null;var S=2}else if(fl(h.h,_))T=_.G,Ds(h.h,_),S=1;else return;if(h.I!=0){if(_.o)if(S==1){T=_.u?_.u.length:0,_=Date.now()-_.F;var H=h.D;S=Si(),gt(S,new ll(S,T)),Yr(h)}else Kt(h);else if(H=_.m,H==3||H==0&&_.X>0||!(S==1&&vc(h,_)||S==2&&Ir(h)))switch(T&&T.length>0&&(_=h.h,_.i=_.i.concat(T)),H){case 1:An(h,5);break;case 4:An(h,10);break;case 3:An(h,6);break;default:An(h,2)}}}function Yo(h,_){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*_}function An(h,_){if(h.j.info("Error code "+_),_==2){var T=p(h.bb,h),S=h.Ua;const H=!S;S=new pr(S||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Vs(S,"https"),qr(S),H?vr(S.toString(),T):_r(S.toString(),T)}else pt(2);h.I=0,h.l&&h.l.pa(_),Bs(h),Go(h)}n.bb=function(h){h?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function Bs(h){if(h.I=0,h.ja=[],h.l){const _=En(h.h);(_.length!=0||h.i.length!=0)&&(k(h.ja,_),k(h.ja,h.i),h.h.i.length=0,I(h.i),h.i.length=0),h.l.oa()}}function Sl(h,_,T){var S=T instanceof pr?Vn(T):new pr(T);if(S.g!="")_&&(S.g=_+"."+S.g),mr(S,S.u);else{var H=l.location;S=H.protocol,_=_?_+"."+H.hostname:H.hostname,H=+H.port;const K=new pr(null);S&&Vs(K,S),_&&(K.g=_),H&&mr(K,H),T&&(K.h=T),S=K}return T=h.G,_=h.wa,T&&_&&Ge(S,T,_),Ge(S,"VER",h.ka),Er(h,S),S}function _c(h,_,T){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new Ye(new Gr({ab:T})):new Ye(h.ma),_.Fa(h.L),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function wc(){}n=wc.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Xo(){}Xo.prototype.g=function(h,_){return new Ut(h,_)};function Ut(h,_){It.call(this),this.g=new Ho(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!D(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!D(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new Vi(this)}y(Ut,It),Ut.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ut.prototype.close=function(){qo(this.g)},Ut.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=Ti(h),h=T);_.i.push(new uf(_.Ya++,h)),_.I==3&&Yr(_)},Ut.prototype.N=function(){this.g.l=null,delete this.j,qo(this.g),delete this.g,Ut.Z.N.call(this)};function Tc(h){Oo.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const T in _){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}y(Tc,Oo);function Ec(){al.call(this),this.status=1}y(Ec,al);function Vi(h){this.g=h}y(Vi,wc),Vi.prototype.ra=function(){gt(this.g,"a")},Vi.prototype.qa=function(h){gt(this.g,new Tc(h))},Vi.prototype.pa=function(h){gt(this.g,new Ec)},Vi.prototype.oa=function(){gt(this.g,"b")},Xo.prototype.createWebChannel=Xo.prototype.g,Ut.prototype.send=Ut.prototype.o,Ut.prototype.open=Ut.prototype.m,Ut.prototype.close=Ut.prototype.close,nC=function(){return new Xo},tC=function(){return Si()},eC=Qn,rg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Pi.NO_ERROR=0,Pi.TIMEOUT=8,Pi.HTTP_ERROR=6,Fh=Pi,xi.COMPLETE="complete",Z1=xi,rc.EventType=Ii,Ii.OPEN="a",Ii.CLOSE="b",Ii.ERROR="c",Ii.MESSAGE="d",It.prototype.listen=It.prototype.J,ou=rc,Ye.prototype.listenOnce=Ye.prototype.K,Ye.prototype.getLastError=Ye.prototype.Ha,Ye.prototype.getLastErrorCode=Ye.prototype.ya,Ye.prototype.getStatus=Ye.prototype.ca,Ye.prototype.getResponseJson=Ye.prototype.La,Ye.prototype.getResponseText=Ye.prototype.la,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Fa,J1=Ye}).apply(typeof Eh<"u"?Eh:typeof self<"u"?self:typeof window<"u"?window:{});const N0="@firebase/firestore",D0="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ja="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo=new jd("@firebase/firestore");function wa(){return yo.logLevel}function he(n,...e){if(yo.logLevel<=Le.DEBUG){const t=e.map(gy);yo.debug(`Firestore (${Ja}): ${n}`,...t)}}function yi(n,...e){if(yo.logLevel<=Le.ERROR){const t=e.map(gy);yo.error(`Firestore (${Ja}): ${n}`,...t)}}function Ua(n,...e){if(yo.logLevel<=Le.WARN){const t=e.map(gy);yo.warn(`Firestore (${Ja}): ${n}`,...t)}}function gy(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,rC(n,r,t)}function rC(n,e,t){let r=`FIRESTORE (${Ja}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw yi(r),new Error(r)}function Ke(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||rC(e,s,r)}function Re(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends hr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ij{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(tn.UNAUTHENTICATED)))}shutdown(){}}class sj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class oj{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ke(this.o===void 0,42304);let r=this.i;const s=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let a=new cs;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new cs,e.enqueueRetryable((()=>s(this.currentUser)))};const l=()=>{const d=a;e.enqueueRetryable((async()=>{await d.promise,await s(this.currentUser)}))},c=d=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((d=>c(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new cs)}}),0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ke(typeof r.accessToken=="string",31837,{l:r}),new iC(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new tn(e)}}class aj{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class lj{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new aj(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class V0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class uj{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$n(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ke(this.o===void 0,3512);const r=a=>{a.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,he("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const s=a=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>s(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new V0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ke(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new V0(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cj(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=cj(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<t&&(r+=e.charAt(s[a]%62))}return r}}function Fe(n,e){return n<e?-1:n>e?1:0}function ig(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const s=n.charAt(r),a=e.charAt(r);if(s!==a)return mm(s)===mm(a)?Fe(s,a):mm(s)?1:-1}return Fe(n.length,e.length)}const hj=55296,dj=57343;function mm(n){const e=n.charCodeAt(0);return e>=hj&&e<=dj}function Ba(n,e,t){return n.length===e.length&&n.every(((r,s)=>t(r,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0="__name__";class kr{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ie(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ie(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return kr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof kr?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const a=kr.compareSegments(e.get(s),t.get(s));if(a!==0)return a}return Fe(e.length,t.length)}static compareSegments(e,t){const r=kr.isNumericId(e),s=kr.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?kr.extractNumericId(e).compare(kr.extractNumericId(t)):ig(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return us.fromString(e.substring(4,e.length-2))}}class Je extends kr{construct(e,t,r){return new Je(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new de(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((s=>s.length>0)))}return new Je(t)}static emptyPath(){return new Je([])}}const fj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends kr{construct(e,t,r){return new Wt(e,t,r)}static isValidIdentifier(e){return fj.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===O0}static keyField(){return new Wt([O0])}static fromServerFormat(e){const t=[];let r="",s=0;const a=()=>{if(r.length===0)throw new de(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new de(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new de(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(r+=c,s++):(a(),s++)}if(a(),l)throw new de(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(t)}static emptyPath(){return new Wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(Je.fromString(e))}static fromName(e){return new ve(Je.fromString(e).popFirst(5))}static empty(){return new ve(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Je.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new Je(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(n,e,t){if(!t)throw new de(X.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function pj(n,e,t,r){if(e===!0&&r===!0)throw new de(X.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function M0(n){if(!ve.isDocumentKey(n))throw new de(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function L0(n){if(ve.isDocumentKey(n))throw new de(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function oC(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Hd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ie(12329,{type:typeof n})}function Ru(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new de(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Hd(n);throw new de(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(n,e){const t={typeString:n};return e&&(t.value=e),t}function Gu(n,e){if(!oC(n))throw new de(X.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const s=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const l=n[r];if(s&&typeof l!==s){t=`JSON field '${r}' must be a ${s}.`;break}if(a!==void 0&&l!==a.value){t=`Expected '${r}' field to equal '${a.value}'`;break}}if(t)throw new de(X.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0=-62135596800,j0=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*j0);return new it(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new de(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new de(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<F0)throw new de(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/j0}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Gu(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-F0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:Rt("string",it._jsonSchemaVersion),seconds:Rt("number"),nanoseconds:Rt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new it(0,0))}static max(){return new Pe(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bu=-1;function mj(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Pe.fromTimestamp(r===1e9?new it(t+1,0):new it(t,r));return new gs(s,ve.empty(),e)}function gj(n){return new gs(n.readTime,n.key,bu)}class gs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new gs(Pe.min(),ve.empty(),bu)}static max(){return new gs(Pe.max(),ve.empty(),bu)}}function yj(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ve.comparator(n.documentKey,e.documentKey),t!==0?t:Fe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _j{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Za(n){if(n.code!==X.FAILED_PRECONDITION||n.message!==vj)throw n;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new J(((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof J?t:J.resolve(t)}catch(t){return J.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):J.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):J.reject(t)}static resolve(e){return new J(((t,r)=>{t(e)}))}static reject(e){return new J(((t,r)=>{r(e)}))}static waitFor(e){return new J(((t,r)=>{let s=0,a=0,l=!1;e.forEach((c=>{++s,c.next((()=>{++a,l&&a===s&&t()}),(d=>r(d)))})),l=!0,a===s&&t()}))}static or(e){let t=J.resolve(!1);for(const r of e)t=t.next((s=>s?J.resolve(s):r()));return t}static forEach(e,t){const r=[];return e.forEach(((s,a)=>{r.push(t.call(this,s,a))})),this.waitFor(r)}static mapArray(e,t){return new J(((r,s)=>{const a=e.length,l=new Array(a);let c=0;for(let d=0;d<a;d++){const p=d;t(e[p]).next((g=>{l[p]=g,++c,c===a&&r(l)}),(g=>s(g)))}}))}static doWhile(e,t){return new J(((r,s)=>{const a=()=>{e()===!0?t().next((()=>{a()}),s):r()};a()}))}}function wj(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function el(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}qd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy=-1;function Gd(n){return n==null}function hd(n){return n===0&&1/n==-1/0}function Tj(n){return typeof n=="number"&&Number.isInteger(n)&&!hd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC="";function Ej(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=U0(e)),e=Ij(n.get(t),e);return U0(e)}function Ij(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const a=n.charAt(s);switch(a){case"\0":t+="";break;case aC:t+="";break;default:t+=a}}return t}function U0(n){return n+aC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Po(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function lC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,t){this.comparator=e,this.root=t||$t.EMPTY}insert(e,t){return new dt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$t.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ih(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ih(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ih(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ih(this.root,e,this.comparator,!0)}}class Ih{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $t{constructor(e,t,r,s,a){this.key=e,this.value=t,this.color=r??$t.RED,this.left=s??$t.EMPTY,this.right=a??$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,a){return new $t(e??this.key,t??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,t,r),null):a===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return $t.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ie(27949);return e+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie(57766)}get value(){throw Ie(16141)}get color(){throw Ie(16727)}get left(){throw Ie(29726)}get right(){throw Ie(36894)}copy(e,t,r,s,a){return this}insert(e,t,r){return new $t(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new z0(this.data.getIterator())}getIteratorFrom(e){return new z0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Dt(this.comparator);return t.data=e,t}}class z0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new ar([])}unionWith(e){let t=new Dt(Wt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ar(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ba(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new uC("Invalid base64 string: "+a):a}})(e);return new Gt(t)}static fromUint8Array(e){const t=(function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a})(e);return new Gt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gt.EMPTY_BYTE_STRING=new Gt("");const Sj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ys(n){if(Ke(!!n,39018),typeof n=="string"){let e=0;const t=Sj.exec(n);if(Ke(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_t(n.seconds),nanos:_t(n.nanos)}}function _t(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function vs(n){return typeof n=="string"?Gt.fromBase64String(n):Gt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC="server_timestamp",hC="__type__",dC="__previous_value__",fC="__local_write_time__";function _y(n){return(n?.mapValue?.fields||{})[hC]?.stringValue===cC}function Kd(n){const e=n.mapValue.fields[dC];return _y(e)?Kd(e):e}function ku(n){const e=ys(n.mapValue.fields[fC].timestampValue);return new it(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(e,t,r,s,a,l,c,d,p,g){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=p,this.isUsingEmulator=g}}const dd="(default)";class Nu{constructor(e,t){this.projectId=e,this.database=t||dd}static empty(){return new Nu("","")}get isDefaultDatabase(){return this.database===dd}isEqual(e){return e instanceof Nu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC="__type__",Aj="__max__",Sh={mapValue:{}},mC="__vector__",fd="value";function _s(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?_y(n)?4:xj(n)?9007199254740991:Pj(n)?10:11:Ie(28295,{value:n})}function Br(n,e){if(n===e)return!0;const t=_s(n);if(t!==_s(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ku(n).isEqual(ku(e));case 3:return(function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=ys(s.timestampValue),c=ys(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(s,a){return vs(s.bytesValue).isEqual(vs(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(s,a){return _t(s.geoPointValue.latitude)===_t(a.geoPointValue.latitude)&&_t(s.geoPointValue.longitude)===_t(a.geoPointValue.longitude)})(n,e);case 2:return(function(s,a){if("integerValue"in s&&"integerValue"in a)return _t(s.integerValue)===_t(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=_t(s.doubleValue),c=_t(a.doubleValue);return l===c?hd(l)===hd(c):isNaN(l)&&isNaN(c)}return!1})(n,e);case 9:return Ba(n.arrayValue.values||[],e.arrayValue.values||[],Br);case 10:case 11:return(function(s,a){const l=s.mapValue.fields||{},c=a.mapValue.fields||{};if(B0(l)!==B0(c))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(c[d]===void 0||!Br(l[d],c[d])))return!1;return!0})(n,e);default:return Ie(52216,{left:n})}}function Du(n,e){return(n.values||[]).find((t=>Br(t,e)))!==void 0}function za(n,e){if(n===e)return 0;const t=_s(n),r=_s(e);if(t!==r)return Fe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Fe(n.booleanValue,e.booleanValue);case 2:return(function(a,l){const c=_t(a.integerValue||a.doubleValue),d=_t(l.integerValue||l.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1})(n,e);case 3:return $0(n.timestampValue,e.timestampValue);case 4:return $0(ku(n),ku(e));case 5:return ig(n.stringValue,e.stringValue);case 6:return(function(a,l){const c=vs(a),d=vs(l);return c.compareTo(d)})(n.bytesValue,e.bytesValue);case 7:return(function(a,l){const c=a.split("/"),d=l.split("/");for(let p=0;p<c.length&&p<d.length;p++){const g=Fe(c[p],d[p]);if(g!==0)return g}return Fe(c.length,d.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,l){const c=Fe(_t(a.latitude),_t(l.latitude));return c!==0?c:Fe(_t(a.longitude),_t(l.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return W0(n.arrayValue,e.arrayValue);case 10:return(function(a,l){const c=a.fields||{},d=l.fields||{},p=c[fd]?.arrayValue,g=d[fd]?.arrayValue,y=Fe(p?.values?.length||0,g?.values?.length||0);return y!==0?y:W0(p,g)})(n.mapValue,e.mapValue);case 11:return(function(a,l){if(a===Sh.mapValue&&l===Sh.mapValue)return 0;if(a===Sh.mapValue)return 1;if(l===Sh.mapValue)return-1;const c=a.fields||{},d=Object.keys(c),p=l.fields||{},g=Object.keys(p);d.sort(),g.sort();for(let y=0;y<d.length&&y<g.length;++y){const w=ig(d[y],g[y]);if(w!==0)return w;const I=za(c[d[y]],p[g[y]]);if(I!==0)return I}return Fe(d.length,g.length)})(n.mapValue,e.mapValue);default:throw Ie(23264,{he:t})}}function $0(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Fe(n,e);const t=ys(n),r=ys(e),s=Fe(t.seconds,r.seconds);return s!==0?s:Fe(t.nanos,r.nanos)}function W0(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const a=za(t[s],r[s]);if(a)return a}return Fe(t.length,r.length)}function $a(n){return sg(n)}function sg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=ys(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return vs(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return ve.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",s=!0;for(const a of t.values||[])s?s=!1:r+=",",r+=sg(a);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let s="{",a=!0;for(const l of r)a?a=!1:s+=",",s+=`${l}:${sg(t.fields[l])}`;return s+"}"})(n.mapValue):Ie(61005,{value:n})}function jh(n){switch(_s(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Kd(n);return e?16+jh(e):16;case 5:return 2*n.stringValue.length;case 6:return vs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,a)=>s+jh(a)),0)})(n.arrayValue);case 10:case 11:return(function(r){let s=0;return Po(r.fields,((a,l)=>{s+=a.length+jh(l)})),s})(n.mapValue);default:throw Ie(13486,{value:n})}}function H0(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function og(n){return!!n&&"integerValue"in n}function wy(n){return!!n&&"arrayValue"in n}function q0(n){return!!n&&"nullValue"in n}function G0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Uh(n){return!!n&&"mapValue"in n}function Pj(n){return(n?.mapValue?.fields||{})[pC]?.stringValue===mC}function mu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Po(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=mu(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=mu(n.arrayValue.values[t]);return e}return{...n}}function xj(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Aj}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.value=e}static empty(){return new Wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Uh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=mu(t)}setAll(e){let t=Wt.emptyPath(),r={},s=[];e.forEach(((l,c)=>{if(!t.isImmediateParentOf(c)){const d=this.getFieldsMap(t);this.applyChanges(d,r,s),r={},s=[],t=c.popLast()}l?r[c.lastSegment()]=mu(l):s.push(c.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,r,s)}delete(e){const t=this.field(e.popLast());Uh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Br(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];Uh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Po(t,((s,a)=>e[s]=a));for(const s of r)delete e[s]}clone(){return new Wn(mu(this.value))}}function gC(n){const e=[];return Po(n.fields,((t,r)=>{const s=new Wt([t]);if(Uh(r)){const a=gC(r.mapValue).fields;if(a.length===0)e.push(s);else for(const l of a)e.push(s.child(l))}else e.push(s)})),new ar(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,t,r,s,a,l,c){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(e){return new nn(e,0,Pe.min(),Pe.min(),Pe.min(),Wn.empty(),0)}static newFoundDocument(e,t,r,s){return new nn(e,1,t,Pe.min(),r,s,0)}static newNoDocument(e,t){return new nn(e,2,t,Pe.min(),Pe.min(),Wn.empty(),0)}static newUnknownDocument(e,t){return new nn(e,3,t,Pe.min(),Pe.min(),Wn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,t){this.position=e,this.inclusive=t}}function K0(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const a=e[s],l=n.position[s];if(a.field.isKeyField()?r=ve.comparator(ve.fromName(l.referenceValue),t.key):r=za(l,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function Q0(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Br(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,t="asc"){this.field=e,this.dir=t}}function Rj(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{}class xt extends yC{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new kj(e,t,r):t==="array-contains"?new Vj(e,r):t==="in"?new Oj(e,r):t==="not-in"?new Mj(e,r):t==="array-contains-any"?new Lj(e,r):new xt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new Nj(e,r):new Dj(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(za(t,this.value)):t!==null&&_s(this.value)===_s(t)&&this.matchesComparison(za(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class cr extends yC{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new cr(e,t)}matches(e){return vC(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function vC(n){return n.op==="and"}function _C(n){return bj(n)&&vC(n)}function bj(n){for(const e of n.filters)if(e instanceof cr)return!1;return!0}function ag(n){if(n instanceof xt)return n.field.canonicalString()+n.op.toString()+$a(n.value);if(_C(n))return n.filters.map((e=>ag(e))).join(",");{const e=n.filters.map((t=>ag(t))).join(",");return`${n.op}(${e})`}}function wC(n,e){return n instanceof xt?(function(r,s){return s instanceof xt&&r.op===s.op&&r.field.isEqual(s.field)&&Br(r.value,s.value)})(n,e):n instanceof cr?(function(r,s){return s instanceof cr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((a,l,c)=>a&&wC(l,s.filters[c])),!0):!1})(n,e):void Ie(19439)}function TC(n){return n instanceof xt?(function(t){return`${t.field.canonicalString()} ${t.op} ${$a(t.value)}`})(n):n instanceof cr?(function(t){return t.op.toString()+" {"+t.getFilters().map(TC).join(" ,")+"}"})(n):"Filter"}class kj extends xt{constructor(e,t,r){super(e,t,r),this.key=ve.fromName(r.referenceValue)}matches(e){const t=ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class Nj extends xt{constructor(e,t){super(e,"in",t),this.keys=EC("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Dj extends xt{constructor(e,t){super(e,"not-in",t),this.keys=EC("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function EC(n,e){return(e.arrayValue?.values||[]).map((t=>ve.fromName(t.referenceValue)))}class Vj extends xt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return wy(t)&&Du(t.arrayValue,this.value)}}class Oj extends xt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Du(this.value.arrayValue,t)}}class Mj extends xt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Du(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Du(this.value.arrayValue,t)}}class Lj extends xt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!wy(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Du(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj{constructor(e,t=null,r=[],s=[],a=null,l=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=l,this.endAt=c,this.Te=null}}function Y0(n,e=null,t=[],r=[],s=null,a=null,l=null){return new Fj(n,e,t,r,s,a,l)}function Ty(n){const e=Re(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>ag(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),Gd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>$a(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>$a(r))).join(",")),e.Te=t}return e.Te}function Ey(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Rj(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!wC(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Q0(n.startAt,e.startAt)&&Q0(n.endAt,e.endAt)}function lg(n){return ve.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e,t=null,r=[],s=[],a=null,l="F",c=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function jj(n,e,t,r,s,a,l,c){return new Ku(n,e,t,r,s,a,l,c)}function IC(n){return new Ku(n)}function X0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function SC(n){return n.collectionGroup!==null}function gu(n){const e=Re(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Dt(Wt.comparator);return l.filters.forEach((d=>{d.getFlattenedFilters().forEach((p=>{p.isInequality()&&(c=c.add(p.field))}))})),c})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new md(a,r))})),t.has(Wt.keyField().canonicalString())||e.Ie.push(new md(Wt.keyField(),r))}return e.Ie}function Or(n){const e=Re(n);return e.Ee||(e.Ee=Uj(e,gu(n))),e.Ee}function Uj(n,e){if(n.limitType==="F")return Y0(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((s=>{const a=s.dir==="desc"?"asc":"desc";return new md(s.field,a)}));const t=n.endAt?new pd(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new pd(n.startAt.position,n.startAt.inclusive):null;return Y0(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function ug(n,e){const t=n.filters.concat([e]);return new Ku(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function cg(n,e,t){return new Ku(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Qd(n,e){return Ey(Or(n),Or(e))&&n.limitType===e.limitType}function CC(n){return`${Ty(Or(n))}|lt:${n.limitType}`}function Ta(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((s=>TC(s))).join(", ")}]`),Gd(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((s=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(s))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((s=>$a(s))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((s=>$a(s))).join(",")),`Target(${r})`})(Or(n))}; limitType=${n.limitType})`}function Yd(n,e){return e.isFoundDocument()&&(function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ve.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(n,e)&&(function(r,s){for(const a of gu(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0})(n,e)&&(function(r,s){return!(r.startAt&&!(function(l,c,d){const p=K0(l,c,d);return l.inclusive?p<=0:p<0})(r.startAt,gu(r),s)||r.endAt&&!(function(l,c,d){const p=K0(l,c,d);return l.inclusive?p>=0:p>0})(r.endAt,gu(r),s))})(n,e)}function Bj(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function AC(n){return(e,t)=>{let r=!1;for(const s of gu(n)){const a=zj(s,e,t);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function zj(n,e,t){const r=n.field.isKeyField()?ve.comparator(e.key,t.key):(function(a,l,c){const d=l.data.field(a),p=c.data.field(a);return d!==null&&p!==null?za(d,p):Ie(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ie(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Po(this.inner,((t,r)=>{for(const[s,a]of r)e(s,a)}))}isEmpty(){return lC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $j=new dt(ve.comparator);function vi(){return $j}const PC=new dt(ve.comparator);function au(...n){let e=PC;for(const t of n)e=e.insert(t.key,t);return e}function xC(n){let e=PC;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function uo(){return yu()}function RC(){return yu()}function yu(){return new xo((n=>n.toString()),((n,e)=>n.isEqual(e)))}const Wj=new dt(ve.comparator),Hj=new Dt(ve.comparator);function je(...n){let e=Hj;for(const t of n)e=e.add(t);return e}const qj=new Dt(Fe);function Gj(){return qj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hd(e)?"-0":e}}function bC(n){return{integerValue:""+n}}function Kj(n,e){return Tj(e)?bC(e):Iy(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(){this._=void 0}}function Qj(n,e,t){return n instanceof gd?(function(s,a){const l={fields:{[hC]:{stringValue:cC},[fC]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&_y(a)&&(a=Kd(a)),a&&(l.fields[dC]=a),{mapValue:l}})(t,e):n instanceof Vu?NC(n,e):n instanceof Ou?DC(n,e):(function(s,a){const l=kC(s,a),c=J0(l)+J0(s.Ae);return og(l)&&og(s.Ae)?bC(c):Iy(s.serializer,c)})(n,e)}function Yj(n,e,t){return n instanceof Vu?NC(n,e):n instanceof Ou?DC(n,e):t}function kC(n,e){return n instanceof yd?(function(r){return og(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class gd extends Xd{}class Vu extends Xd{constructor(e){super(),this.elements=e}}function NC(n,e){const t=VC(e);for(const r of n.elements)t.some((s=>Br(s,r)))||t.push(r);return{arrayValue:{values:t}}}class Ou extends Xd{constructor(e){super(),this.elements=e}}function DC(n,e){let t=VC(e);for(const r of n.elements)t=t.filter((s=>!Br(s,r)));return{arrayValue:{values:t}}}class yd extends Xd{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function J0(n){return _t(n.integerValue||n.doubleValue)}function VC(n){return wy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function Xj(n,e){return n.field.isEqual(e.field)&&(function(r,s){return r instanceof Vu&&s instanceof Vu||r instanceof Ou&&s instanceof Ou?Ba(r.elements,s.elements,Br):r instanceof yd&&s instanceof yd?Br(r.Ae,s.Ae):r instanceof gd&&s instanceof gd})(n.transform,e.transform)}class Jj{constructor(e,t){this.version=e,this.transformResults=t}}class Mr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Mr}static exists(e){return new Mr(void 0,e)}static updateTime(e){return new Mr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Jd{}function OC(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Sy(n.key,Mr.none()):new Qu(n.key,n.data,Mr.none());{const t=n.data,r=Wn.empty();let s=new Dt(Wt.comparator);for(let a of e.fields)if(!s.has(a)){let l=t.field(a);l===null&&a.length>1&&(a=a.popLast(),l=t.field(a)),l===null?r.delete(a):r.set(a,l),s=s.add(a)}return new Ro(n.key,r,new ar(s.toArray()),Mr.none())}}function Zj(n,e,t){n instanceof Qu?(function(s,a,l){const c=s.value.clone(),d=eE(s.fieldTransforms,a,l.transformResults);c.setAll(d),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(n,e,t):n instanceof Ro?(function(s,a,l){if(!Bh(s.precondition,a))return void a.convertToUnknownDocument(l.version);const c=eE(s.fieldTransforms,a,l.transformResults),d=a.data;d.setAll(MC(s)),d.setAll(c),a.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(n,e,t):(function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,t)}function vu(n,e,t,r){return n instanceof Qu?(function(a,l,c,d){if(!Bh(a.precondition,l))return c;const p=a.value.clone(),g=tE(a.fieldTransforms,d,l);return p.setAll(g),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null})(n,e,t,r):n instanceof Ro?(function(a,l,c,d){if(!Bh(a.precondition,l))return c;const p=tE(a.fieldTransforms,d,l),g=l.data;return g.setAll(MC(a)),g.setAll(p),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((y=>y.field)))})(n,e,t,r):(function(a,l,c){return Bh(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(n,e,t)}function eU(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),a=kC(r.transform,s||null);a!=null&&(t===null&&(t=Wn.empty()),t.set(r.field,a))}return t||null}function Z0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Ba(r,s,((a,l)=>Xj(a,l)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Qu extends Jd{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ro extends Jd{constructor(e,t,r,s,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function MC(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function eE(n,e,t){const r=new Map;Ke(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let s=0;s<t.length;s++){const a=n[s],l=a.transform,c=e.data.field(a.field);r.set(a.field,Yj(l,c,t[s]))}return r}function tE(n,e,t){const r=new Map;for(const s of n){const a=s.transform,l=t.data.field(s.field);r.set(s.field,Qj(a,l,e))}return r}class Sy extends Jd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tU extends Jd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&Zj(a,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=vu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=vu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=RC();return this.mutations.forEach((s=>{const a=e.get(s.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=t.has(s.key)?null:c;const d=OC(l,c);d!==null&&r.set(s.key,d),l.isValidDocument()||l.convertToNoDocument(Pe.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),je())}isEqual(e){return this.batchId===e.batchId&&Ba(this.mutations,e.mutations,((t,r)=>Z0(t,r)))&&Ba(this.baseMutations,e.baseMutations,((t,r)=>Z0(t,r)))}}class Cy{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Ke(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return Wj})();const a=e.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,r[l].version);return new Cy(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rU{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iU{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At,ze;function sU(n){switch(n){case X.OK:return Ie(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return Ie(15467,{code:n})}}function LC(n){if(n===void 0)return yi("GRPC error has no .code"),X.UNKNOWN;switch(n){case At.OK:return X.OK;case At.CANCELLED:return X.CANCELLED;case At.UNKNOWN:return X.UNKNOWN;case At.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case At.INTERNAL:return X.INTERNAL;case At.UNAVAILABLE:return X.UNAVAILABLE;case At.UNAUTHENTICATED:return X.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case At.NOT_FOUND:return X.NOT_FOUND;case At.ALREADY_EXISTS:return X.ALREADY_EXISTS;case At.PERMISSION_DENIED:return X.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case At.ABORTED:return X.ABORTED;case At.OUT_OF_RANGE:return X.OUT_OF_RANGE;case At.UNIMPLEMENTED:return X.UNIMPLEMENTED;case At.DATA_LOSS:return X.DATA_LOSS;default:return Ie(39323,{code:n})}}(ze=At||(At={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oU(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aU=new us([4294967295,4294967295],0);function nE(n){const e=oU().encode(n),t=new X1;return t.update(e),new Uint8Array(t.digest())}function rE(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new us([t,r],0),new us([s,a],0)]}class Ay{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new lu(`Invalid padding: ${t}`);if(r<0)throw new lu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new lu(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new lu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=us.fromNumber(this.ge)}ye(e,t,r){let s=e.add(t.multiply(us.fromNumber(r)));return s.compare(aU)===1&&(s=new us([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=nE(e),[r,s]=rE(t);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,s,a);if(!this.we(l))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new Ay(a,s,t);return r.forEach((c=>l.insert(c))),l}insert(e){if(this.ge===0)return;const t=nE(e),[r,s]=rE(t);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,s,a);this.Se(l)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class lu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e,t,r,s,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,Yu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Zd(Pe.min(),s,new dt(Fe),vi(),je())}}class Yu{constructor(e,t,r,s,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Yu(r,t,je(),je(),je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,t,r,s){this.be=e,this.removedTargetIds=t,this.key=r,this.De=s}}class FC{constructor(e,t){this.targetId=e,this.Ce=t}}class jC{constructor(e,t,r=Gt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class iE{constructor(){this.ve=0,this.Fe=sE(),this.Me=Gt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=je(),t=je(),r=je();return this.Fe.forEach(((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Ie(38017,{changeType:a})}})),new Yu(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=sE()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class lU{constructor(e){this.Ge=e,this.ze=new Map,this.je=vi(),this.Je=Ch(),this.He=Ch(),this.Ye=new dt(Fe)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Ie(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,s)=>{this.rt(s)&&t(s)}))}st(e){const t=e.targetId,r=e.Ce.count,s=this.ot(t);if(s){const a=s.target;if(lg(a))if(r===0){const l=new ve(a.path);this.et(t,l,nn.newNoDocument(l,Pe.min()))}else Ke(r===1,20013,{expectedCount:r});else{const l=this._t(t);if(l!==r){const c=this.ut(e),d=c?this.ct(c,e,l):1;if(d!==0){this.it(t);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,p)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=t;let l,c;try{l=vs(r).toUint8Array()}catch(d){if(d instanceof uC)return Ua("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new Ay(l,s,a)}catch(d){return Ua(d instanceof lu?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.ge===0?null:c}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let s=0;return r.forEach((a=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.et(t,a,null),s++)})),s}Tt(e){const t=new Map;this.ze.forEach(((a,l)=>{const c=this.ot(l);if(c){if(a.current&&lg(c.target)){const d=new ve(c.target.path);this.It(d).has(l)||this.Et(l,d)||this.et(l,d,nn.newNoDocument(d,e))}a.Be&&(t.set(l,a.ke()),a.qe())}}));let r=je();this.He.forEach(((a,l)=>{let c=!0;l.forEachWhile((d=>{const p=this.ot(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(a))})),this.je.forEach(((a,l)=>l.setReadTime(e)));const s=new Zd(e,t,this.Ye,this.je,r);return this.je=vi(),this.Je=Ch(),this.He=Ch(),this.Ye=new dt(Fe),s}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.Qe(t,1):s.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new iE,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Dt(Fe),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Dt(Fe),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new iE),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Ch(){return new dt(ve.comparator)}function sE(){return new dt(ve.comparator)}const uU={asc:"ASCENDING",desc:"DESCENDING"},cU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hU={and:"AND",or:"OR"};class dU{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function hg(n,e){return n.useProto3Json||Gd(e)?e:{value:e}}function vd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function UC(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function fU(n,e){return vd(n,e.toTimestamp())}function Lr(n){return Ke(!!n,49232),Pe.fromTimestamp((function(t){const r=ys(t);return new it(r.seconds,r.nanos)})(n))}function Py(n,e){return dg(n,e).canonicalString()}function dg(n,e){const t=(function(s){return new Je(["projects",s.projectId,"databases",s.database])})(n).child("documents");return e===void 0?t:t.child(e)}function BC(n){const e=Je.fromString(n);return Ke(qC(e),10190,{key:e.toString()}),e}function fg(n,e){return Py(n.databaseId,e.path)}function gm(n,e){const t=BC(e);if(t.get(1)!==n.databaseId.projectId)throw new de(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new de(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ve($C(t))}function zC(n,e){return Py(n.databaseId,e)}function pU(n){const e=BC(n);return e.length===4?Je.emptyPath():$C(e)}function pg(n){return new Je(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function $C(n){return Ke(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function oE(n,e,t){return{name:fg(n,e),fields:t.value.mapValue.fields}}function mU(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ie(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=(function(p,g){return p.useProto3Json?(Ke(g===void 0||typeof g=="string",58123),Gt.fromBase64String(g||"")):(Ke(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),Gt.fromUint8Array(g||new Uint8Array))})(n,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&(function(p){const g=p.code===void 0?X.UNKNOWN:LC(p.code);return new de(g,p.message||"")})(l);t=new jC(r,s,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=gm(n,r.document.name),a=Lr(r.document.updateTime),l=r.document.createTime?Lr(r.document.createTime):Pe.min(),c=new Wn({mapValue:{fields:r.document.fields}}),d=nn.newFoundDocument(s,a,l,c),p=r.targetIds||[],g=r.removedTargetIds||[];t=new zh(p,g,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=gm(n,r.document),a=r.readTime?Lr(r.readTime):Pe.min(),l=nn.newNoDocument(s,a),c=r.removedTargetIds||[];t=new zh([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=gm(n,r.document),a=r.removedTargetIds||[];t=new zh([],a,s,null)}else{if(!("filter"in e))return Ie(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,l=new iU(s,a),c=r.targetId;t=new FC(c,l)}}return t}function gU(n,e){let t;if(e instanceof Qu)t={update:oE(n,e.key,e.value)};else if(e instanceof Sy)t={delete:fg(n,e.key)};else if(e instanceof Ro)t={update:oE(n,e.key,e.data),updateMask:CU(e.fieldMask)};else{if(!(e instanceof tU))return Ie(16599,{Vt:e.type});t={verify:fg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(a,l){const c=l.transform;if(c instanceof gd)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Vu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Ou)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof yd)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw Ie(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(s,a){return a.updateTime!==void 0?{updateTime:fU(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ie(27497)})(n,e.precondition)),t}function yU(n,e){return n&&n.length>0?(Ke(e!==void 0,14353),n.map((t=>(function(s,a){let l=s.updateTime?Lr(s.updateTime):Lr(a);return l.isEqual(Pe.min())&&(l=Lr(a)),new Jj(l,s.transformResults||[])})(t,e)))):[]}function vU(n,e){return{documents:[zC(n,e.path)]}}function _U(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=zC(n,s);const a=(function(p){if(p.length!==0)return HC(cr.create(p,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const l=(function(p){if(p.length!==0)return p.map((g=>(function(w){return{field:Ea(w.field),direction:EU(w.dir)}})(g)))})(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=hg(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:t,parent:s}}function wU(n){let e=pU(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Ke(r===1,65062);const g=t.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let a=[];t.where&&(a=(function(y){const w=WC(y);return w instanceof cr&&_C(w)?w.getFilters():[w]})(t.where));let l=[];t.orderBy&&(l=(function(y){return y.map((w=>(function(k){return new md(Ia(k.field),(function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(w)))})(t.orderBy));let c=null;t.limit&&(c=(function(y){let w;return w=typeof y=="object"?y.value:y,Gd(w)?null:w})(t.limit));let d=null;t.startAt&&(d=(function(y){const w=!!y.before,I=y.values||[];return new pd(I,w)})(t.startAt));let p=null;return t.endAt&&(p=(function(y){const w=!y.before,I=y.values||[];return new pd(I,w)})(t.endAt)),jj(e,s,l,a,c,"F",d,p)}function TU(n,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function WC(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Ia(t.unaryFilter.field);return xt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ia(t.unaryFilter.field);return xt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ia(t.unaryFilter.field);return xt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Ia(t.unaryFilter.field);return xt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ie(61313);default:return Ie(60726)}})(n):n.fieldFilter!==void 0?(function(t){return xt.create(Ia(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ie(58110);default:return Ie(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return cr.create(t.compositeFilter.filters.map((r=>WC(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ie(1026)}})(t.compositeFilter.op))})(n):Ie(30097,{filter:n})}function EU(n){return uU[n]}function IU(n){return cU[n]}function SU(n){return hU[n]}function Ea(n){return{fieldPath:n.canonicalString()}}function Ia(n){return Wt.fromServerFormat(n.fieldPath)}function HC(n){return n instanceof xt?(function(t){if(t.op==="=="){if(G0(t.value))return{unaryFilter:{field:Ea(t.field),op:"IS_NAN"}};if(q0(t.value))return{unaryFilter:{field:Ea(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(G0(t.value))return{unaryFilter:{field:Ea(t.field),op:"IS_NOT_NAN"}};if(q0(t.value))return{unaryFilter:{field:Ea(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ea(t.field),op:IU(t.op),value:t.value}}})(n):n instanceof cr?(function(t){const r=t.getFilters().map((s=>HC(s)));return r.length===1?r[0]:{compositeFilter:{op:SU(t.op),filters:r}}})(n):Ie(54877,{filter:n})}function CU(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function qC(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e,t,r,s,a=Pe.min(),l=Pe.min(),c=Gt.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new is(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AU{constructor(e){this.yt=e}}function PU(n){const e=wU({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?cg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xU{constructor(){this.Cn=new RU}addToCollectionParentIndex(e,t){return this.Cn.add(t),J.resolve()}getCollectionParents(e,t){return J.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return J.resolve()}deleteFieldIndex(e,t){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,t){return J.resolve()}getDocumentsMatchingTarget(e,t){return J.resolve(null)}getIndexType(e,t){return J.resolve(0)}getFieldIndexes(e,t){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,t){return J.resolve(gs.min())}getMinOffsetFromCollectionGroup(e,t){return J.resolve(gs.min())}updateCollectionGroup(e,t,r){return J.resolve()}updateIndexEntries(e,t){return J.resolve()}}class RU{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new Dt(Je.comparator),a=!s.has(r);return this.index[t]=s.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Dt(Je.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},GC=41943040;class _n{static withCacheSize(e){return new _n(e,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(GC,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Wa(0)}static cr(){return new Wa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE="LruGarbageCollector",bU=1048576;function uE([n,e],[t,r]){const s=Fe(n,t);return s===0?Fe(e,r):s}class kU{constructor(e){this.Ir=e,this.buffer=new Dt(uE),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();uE(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class NU{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(lE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){el(t)?he(lE,"Ignoring IndexedDB error during garbage collection: ",t):await Za(t)}await this.Vr(3e5)}))}}class DU{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return J.resolve(qd.ce);const r=new kU(t);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(aE)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),aE):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,s,a,l,c,d,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((y=>(y>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),s=this.params.maximumSequenceNumbersToCollect):s=y,l=Date.now(),this.nthSequenceNumber(e,s)))).next((y=>(r=y,c=Date.now(),this.removeTargets(e,r,t)))).next((y=>(a=y,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((y=>(p=Date.now(),wa()<=Le.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${s} in `+(c-l)+`ms
	Removed ${a} targets in `+(d-c)+`ms
	Removed ${y} documents in `+(p-d)+`ms
Total Duration: ${p-g}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:y}))))}}function VU(n,e){return new DU(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OU{constructor(){this.changes=new xo((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?J.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MU{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LU{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(r!==null&&vu(r.mutation,s,ar.empty(),it.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,je()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=je()){const s=uo();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,r).next((a=>{let l=au();return a.forEach(((c,d)=>{l=l.insert(c,d.overlayedDocument)})),l}))))}getOverlayedDocuments(e,t){const r=uo();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,je())))}populateOverlays(e,t,r){const s=[];return r.forEach((a=>{t.has(a)||s.push(a)})),this.documentOverlayCache.getOverlays(e,s).next((a=>{a.forEach(((l,c)=>{t.set(l,c)}))}))}computeViews(e,t,r,s){let a=vi();const l=yu(),c=(function(){return yu()})();return t.forEach(((d,p)=>{const g=r.get(p.key);s.has(p.key)&&(g===void 0||g.mutation instanceof Ro)?a=a.insert(p.key,p):g!==void 0?(l.set(p.key,g.mutation.getFieldMask()),vu(g.mutation,p,g.mutation.getFieldMask(),it.now())):l.set(p.key,ar.empty())})),this.recalculateAndSaveOverlays(e,a).next((d=>(d.forEach(((p,g)=>l.set(p,g))),t.forEach(((p,g)=>c.set(p,new MU(g,l.get(p)??null)))),c)))}recalculateAndSaveOverlays(e,t){const r=yu();let s=new dt(((l,c)=>l-c)),a=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((l=>{for(const c of l)c.keys().forEach((d=>{const p=t.get(d);if(p===null)return;let g=r.get(d)||ar.empty();g=c.applyToLocalView(p,g),r.set(d,g);const y=(s.get(c.batchId)||je()).add(d);s=s.insert(c.batchId,y)}))})).next((()=>{const l=[],c=s.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),p=d.key,g=d.value,y=RC();g.forEach((w=>{if(!a.has(w)){const I=OC(t.get(w),r.get(w));I!==null&&y.set(w,I),a=a.add(w)}})),l.push(this.documentOverlayCache.saveOverlays(e,p,y))}return J.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,s){return(function(l){return ve.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):SC(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next((a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-a.size):J.resolve(uo());let c=bu,d=a;return l.next((p=>J.forEach(p,((g,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),a.get(g)?J.resolve():this.remoteDocumentCache.getEntry(e,g).next((w=>{d=d.insert(g,w)}))))).next((()=>this.populateOverlays(e,p,a))).next((()=>this.computeViews(e,d,p,je()))).next((g=>({batchId:c,changes:xC(g)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ve(t)).next((r=>{let s=au();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const a=t.collectionGroup;let l=au();return this.indexManager.getCollectionParents(e,a).next((c=>J.forEach(c,(d=>{const p=(function(y,w){return new Ku(w,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)})(t,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next((g=>{g.forEach(((y,w)=>{l=l.insert(y,w)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,t,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,s)))).next((l=>{a.forEach(((d,p)=>{const g=p.getKey();l.get(g)===null&&(l=l.insert(g,nn.newInvalidDocument(g)))}));let c=au();return l.forEach(((d,p)=>{const g=a.get(d);g!==void 0&&vu(g.mutation,p,ar.empty(),it.now()),Yd(t,p)&&(c=c.insert(d,p))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FU{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return J.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:Lr(s.createTime)}})(t)),J.resolve()}getNamedQuery(e,t){return J.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(s){return{name:s.name,query:PU(s.bundledQuery),readTime:Lr(s.readTime)}})(t)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jU{constructor(){this.overlays=new dt(ve.comparator),this.qr=new Map}getOverlay(e,t){return J.resolve(this.overlays.get(t))}getOverlays(e,t){const r=uo();return J.forEach(t,(s=>this.getOverlay(e,s).next((a=>{a!==null&&r.set(s,a)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((s,a)=>{this.St(e,t,a)})),J.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),J.resolve()}getOverlaysForCollection(e,t,r){const s=uo(),a=t.length+1,l=new ve(t.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const d=c.getNext().value,p=d.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&d.largestBatchId>r&&s.set(d.getKey(),d)}return J.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let a=new dt(((p,g)=>p-g));const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let g=a.get(p.largestBatchId);g===null&&(g=uo(),a=a.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const c=uo(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((p,g)=>c.set(p,g))),!(c.size()>=s)););return J.resolve(c)}St(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new rU(t,r));let a=this.qr.get(t);a===void 0&&(a=je(),this.qr.set(t,a)),this.qr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UU{constructor(){this.sessionToken=Gt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(){this.Qr=new Dt(Lt.$r),this.Ur=new Dt(Lt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new Lt(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new Lt(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new ve(new Je([])),r=new Lt(t,e),s=new Lt(t,e+1),a=[];return this.Ur.forEachInRange([r,s],(l=>{this.Gr(l),a.push(l.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ve(new Je([])),r=new Lt(t,e),s=new Lt(t,e+1);let a=je();return this.Ur.forEachInRange([r,s],(l=>{a=a.add(l.key)})),a}containsKey(e){const t=new Lt(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Lt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ve.comparator(e.key,t.key)||Fe(e.Yr,t.Yr)}static Kr(e,t){return Fe(e.Yr,t.Yr)||ve.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BU{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Dt(Lt.$r)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new nU(a,t,r,s);this.mutationQueue.push(l);for(const c of s)this.Zr=this.Zr.add(new Lt(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return J.resolve(l)}lookupMutationBatch(e,t){return J.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.ei(r),a=s<0?0:s;return J.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?vy:this.tr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Lt(t,0),s=new Lt(t,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,s],(l=>{const c=this.Xr(l.Yr);a.push(c)})),J.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Dt(Fe);return t.forEach((s=>{const a=new Lt(s,0),l=new Lt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,l],(c=>{r=r.add(c.Yr)}))})),J.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let a=r;ve.isDocumentKey(a)||(a=a.child(""));const l=new Lt(new ve(a),0);let c=new Dt(Fe);return this.Zr.forEachWhile((d=>{const p=d.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(c=c.add(d.Yr)),!0)}),l),J.resolve(this.ti(c))}ti(e){const t=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){Ke(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return J.forEach(t.mutations,(s=>{const a=new Lt(s.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new Lt(t,0),s=this.Zr.firstAfterOrEqual(r);return J.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zU{constructor(e){this.ri=e,this.docs=(function(){return new dt(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),a=s?s.size:0,l=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return J.resolve(r?r.document.mutableCopy():nn.newInvalidDocument(t))}getEntries(e,t){let r=vi();return t.forEach((s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():nn.newInvalidDocument(s))})),J.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let a=vi();const l=t.path,c=new ve(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:p,value:{document:g}}=d.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||yj(gj(g),r)<=0||(s.has(g.key)||Yd(t,g))&&(a=a.insert(g.key,g.mutableCopy()))}return J.resolve(a)}getAllFromCollectionGroup(e,t,r,s){Ie(9500)}ii(e,t){return J.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new $U(this)}getSize(e){return J.resolve(this.size)}}class $U extends OU{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?t.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),J.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(e){this.persistence=e,this.si=new xo((t=>Ty(t)),Ey),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.oi=0,this._i=new xy,this.targetCount=0,this.ai=Wa.ur()}forEachTarget(e,t){return this.si.forEach(((r,s)=>t(s))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),J.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Wa(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,J.resolve()}updateTargetData(e,t){return this.Pr(t),J.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,t,r){let s=0;const a=[];return this.si.forEach(((l,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.si.delete(l),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)})),J.waitFor(a).next((()=>s))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return J.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),J.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const s=this.persistence.referenceDelegate,a=[];return s&&t.forEach((l=>{a.push(s.markPotentiallyOrphaned(e,l))})),J.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),J.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return J.resolve(r)}containsKey(e,t){return J.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e,t){this.ui={},this.overlays={},this.ci=new qd(0),this.li=!1,this.li=!0,this.hi=new UU,this.referenceDelegate=e(this),this.Pi=new WU(this),this.indexManager=new xU,this.remoteDocumentCache=(function(s){return new zU(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new AU(t),this.Ii=new FU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new jU,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new BU(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){he("MemoryPersistence","Starting transaction:",e);const s=new HU(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((a=>this.referenceDelegate.di(s).next((()=>a)))).toPromise().then((a=>(s.raiseOnCommittedEvent(),a)))}Ai(e,t){return J.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class HU extends _j{constructor(e){super(),this.currentSequenceNumber=e}}class Ry{constructor(e){this.persistence=e,this.Ri=new xy,this.Vi=null}static mi(e){return new Ry(e)}get fi(){if(this.Vi)return this.Vi;throw Ie(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),J.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),J.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),J.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(r=>{const s=ve.fromPath(r);return this.gi(e,s).next((a=>{a||t.removeEntry(s,Pe.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return J.or([()=>J.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class _d{constructor(e,t){this.persistence=e,this.pi=new xo((r=>Ej(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=VU(this,t)}static mi(e,t){return new _d(e,t)}Ei(){}di(e){return J.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((s=>r+s))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return J.forEach(this.pi,((r,s)=>this.br(e,r,s).next((a=>a?J.resolve():t(s)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.ii(e,(l=>this.br(e,l,t).next((c=>{c||(r++,a.removeEntry(l,Pe.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),J.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),J.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),J.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=jh(e.data.value)),t}br(e,t,r){return J.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.pi.get(t);return J.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=s}static As(e,t){let r=je(),s=je();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new by(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return nO()?8:wj(rn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,s){const a={result:null};return this.ys(e,t).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.ws(e,t,s,r).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new qU;return this.Ss(e,t,l).next((c=>{if(a.result=c,this.Vs)return this.bs(e,t,l,c.size)}))})).next((()=>a.result))}bs(e,t,r,s){return r.documentReadCount<this.fs?(wa()<=Le.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Ta(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(wa()<=Le.DEBUG&&he("QueryEngine","Query:",Ta(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(wa()<=Le.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Ta(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Or(t))):J.resolve())}ys(e,t){if(X0(t))return J.resolve(null);let r=Or(t);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=cg(t,null,"F"),r=Or(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const l=je(...a);return this.ps.getDocuments(e,l).next((c=>this.indexManager.getMinOffset(e,r).next((d=>{const p=this.Ds(t,c);return this.Cs(t,p,l,d.readTime)?this.ys(e,cg(t,null,"F")):this.vs(e,p,t,d)}))))})))))}ws(e,t,r,s){return X0(t)||s.isEqual(Pe.min())?J.resolve(null):this.ps.getDocuments(e,r).next((a=>{const l=this.Ds(t,a);return this.Cs(t,l,r,s)?J.resolve(null):(wa()<=Le.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ta(t)),this.vs(e,l,t,mj(s,bu)).next((c=>c)))}))}Ds(e,t){let r=new Dt(AC(e));return t.forEach(((s,a)=>{Yd(e,a)&&(r=r.add(a))})),r}Cs(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Ss(e,t,r){return wa()<=Le.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Ta(t)),this.ps.getDocumentsMatchingQuery(e,t,gs.min(),r)}vs(e,t,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((a=>(t.forEach((l=>{a=a.insert(l.key,l)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky="LocalStore",KU=3e8;class QU{constructor(e,t,r,s){this.persistence=e,this.Fs=t,this.serializer=s,this.Ms=new dt(Fe),this.xs=new xo((a=>Ty(a)),Ey),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LU(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function YU(n,e,t,r){return new QU(n,e,t,r)}async function QC(n,e){const t=Re(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next((a=>(s=a,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((a=>{const l=[],c=[];let d=je();for(const p of s){l.push(p.batchId);for(const g of p.mutations)d=d.add(g.key)}for(const p of a){c.push(p.batchId);for(const g of p.mutations)d=d.add(g.key)}return t.localDocuments.getDocuments(r,d).next((p=>({Ls:p,removedBatchIds:l,addedBatchIds:c})))}))}))}function XU(n,e){const t=Re(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),a=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,d,p,g){const y=p.batch,w=y.keys();let I=J.resolve();return w.forEach((k=>{I=I.next((()=>g.getEntry(d,k))).next((x=>{const A=p.docVersions.get(k);Ke(A!==null,48541),x.version.compareTo(A)<0&&(y.applyToRemoteDocument(x,p),x.isValidDocument()&&(x.setReadTime(p.commitVersion),g.addEntry(x)))}))})),I.next((()=>c.mutationQueue.removeMutationBatch(d,y)))})(t,r,e,a).next((()=>a.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let d=je();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(d=d.add(c.batch.mutations[p].key));return d})(e)))).next((()=>t.localDocuments.getDocuments(r,s)))}))}function YC(n){const e=Re(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function JU(n,e){const t=Re(n),r=e.snapshotVersion;let s=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=t.Ns.newChangeBuffer({trackRemovals:!0});s=t.Ms;const c=[];e.targetChanges.forEach(((g,y)=>{const w=s.get(y);if(!w)return;c.push(t.Pi.removeMatchingKeys(a,g.removedDocuments,y).next((()=>t.Pi.addMatchingKeys(a,g.addedDocuments,y))));let I=w.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(y)!==null?I=I.withResumeToken(Gt.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):g.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(g.resumeToken,r)),s=s.insert(y,I),(function(x,A,$){return x.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=KU?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0})(w,I,g)&&c.push(t.Pi.updateTargetData(a,I))}));let d=vi(),p=je();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(a,g))})),c.push(ZU(a,l,e.documentUpdates).next((g=>{d=g.ks,p=g.qs}))),!r.isEqual(Pe.min())){const g=t.Pi.getLastRemoteSnapshotVersion(a).next((y=>t.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));c.push(g)}return J.waitFor(c).next((()=>l.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,d,p))).next((()=>d))})).then((a=>(t.Ms=s,a)))}function ZU(n,e,t){let r=je(),s=je();return t.forEach((a=>r=r.add(a))),e.getEntries(n,r).next((a=>{let l=vi();return t.forEach(((c,d)=>{const p=a.get(c);d.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(c)),d.isNoDocument()&&d.version.isEqual(Pe.min())?(e.removeEntry(c,d.readTime),l=l.insert(c,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),l=l.insert(c,d)):he(ky,"Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",d.version)})),{ks:l,qs:s}}))}function e6(n,e){const t=Re(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=vy),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function t6(n,e){const t=Re(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return t.Pi.getTargetData(r,e).next((a=>a?(s=a,J.resolve(s)):t.Pi.allocateTargetId(r).next((l=>(s=new is(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=t.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function mg(n,e,t){const r=Re(n),s=r.Ms.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,(l=>r.persistence.referenceDelegate.removeTarget(l,s)))}catch(l){if(!el(l))throw l;he(ky,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function cE(n,e,t){const r=Re(n);let s=Pe.min(),a=je();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(d,p,g){const y=Re(d),w=y.xs.get(g);return w!==void 0?J.resolve(y.Ms.get(w)):y.Pi.getTargetData(p,g)})(r,l,Or(e)).next((c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,c.targetId).next((d=>{a=d}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,t?s:Pe.min(),t?a:je()))).next((c=>(n6(r,Bj(e),c),{documents:c,Qs:a})))))}function n6(n,e,t){let r=n.Os.get(e)||Pe.min();t.forEach(((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),n.Os.set(e,r)}class hE{constructor(){this.activeTargetIds=Gj()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class r6{constructor(){this.Mo=new hE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new hE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="ConnectivityMonitor";class fE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(dE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(dE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ah=null;function gg(){return Ah===null?Ah=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ah++,"0x"+Ah.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym="RestConnection",s6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class o6{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===dd?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,t,r,s,a){const l=gg(),c=this.zo(e,t.toUriEncodedString());he(ym,`Sending RPC '${e}' ${l}:`,c,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,s,a);const{host:p}=new URL(c),g=Qa(p);return this.Jo(e,c,d,r,g).then((y=>(he(ym,`Received RPC '${e}' ${l}: `,y),y)),(y=>{throw Ua(ym,`RPC '${e}' ${l} failed with error: `,y,"url: ",c,"request:",r),y}))}Ho(e,t,r,s,a,l){return this.Go(e,t,r,s,a)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ja})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,a)=>e[a]=s)),r&&r.headers.forEach(((s,a)=>e[a]=s))}zo(e,t){const r=s6[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt="WebChannelConnection";class l6 extends o6{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,s,a){const l=gg();return new Promise(((c,d)=>{const p=new J1;p.setWithCredentials(!0),p.listenOnce(Z1.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Fh.NO_ERROR:const y=p.getResponseJson();he(Zt,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),c(y);break;case Fh.TIMEOUT:he(Zt,`RPC '${e}' ${l} timed out`),d(new de(X.DEADLINE_EXCEEDED,"Request time out"));break;case Fh.HTTP_ERROR:const w=p.getStatus();if(he(Zt,`RPC '${e}' ${l} failed with status:`,w,"response text:",p.getResponseText()),w>0){let I=p.getResponseJson();Array.isArray(I)&&(I=I[0]);const k=I?.error;if(k&&k.status&&k.message){const x=(function($){const U=$.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(U)>=0?U:X.UNKNOWN})(k.status);d(new de(x,k.message))}else d(new de(X.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new de(X.UNAVAILABLE,"Connection failed."));break;default:Ie(9055,{l_:e,streamId:l,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{he(Zt,`RPC '${e}' ${l} completed.`)}}));const g=JSON.stringify(s);he(Zt,`RPC '${e}' ${l} sending request:`,s),p.send(t,"POST",g,r,15)}))}T_(e,t,r){const s=gg(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=nC(),c=tC(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const g=a.join("");he(Zt,`Creating RPC '${e}' stream ${s}: ${g}`,d);const y=l.createWebChannel(g,d);this.I_(y);let w=!1,I=!1;const k=new a6({Yo:A=>{I?he(Zt,`Not sending because RPC '${e}' stream ${s} is closed:`,A):(w||(he(Zt,`Opening RPC '${e}' stream ${s} transport.`),y.open(),w=!0),he(Zt,`RPC '${e}' stream ${s} sending:`,A),y.send(A))},Zo:()=>y.close()}),x=(A,$,U)=>{A.listen($,(B=>{try{U(B)}catch(Q){setTimeout((()=>{throw Q}),0)}}))};return x(y,ou.EventType.OPEN,(()=>{I||(he(Zt,`RPC '${e}' stream ${s} transport opened.`),k.o_())})),x(y,ou.EventType.CLOSE,(()=>{I||(I=!0,he(Zt,`RPC '${e}' stream ${s} transport closed`),k.a_(),this.E_(y))})),x(y,ou.EventType.ERROR,(A=>{I||(I=!0,Ua(Zt,`RPC '${e}' stream ${s} transport errored. Name:`,A.name,"Message:",A.message),k.a_(new de(X.UNAVAILABLE,"The operation could not be completed")))})),x(y,ou.EventType.MESSAGE,(A=>{if(!I){const $=A.data[0];Ke(!!$,16349);const U=$,B=U?.error||U[0]?.error;if(B){he(Zt,`RPC '${e}' stream ${s} received error:`,B);const Q=B.status;let te=(function(C){const R=At[C];if(R!==void 0)return LC(R)})(Q),se=B.message;te===void 0&&(te=X.INTERNAL,se="Unknown error status: "+Q+" with message "+B.message),I=!0,k.a_(new de(te,se)),y.close()}else he(Zt,`RPC '${e}' stream ${s} received:`,$),k.u_($)}})),x(c,eC.STAT_EVENT,(A=>{A.stat===rg.PROXY?he(Zt,`RPC '${e}' stream ${s} detected buffering proxy`):A.stat===rg.NOPROXY&&he(Zt,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{k.__()}),0),k}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function vm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ef(n){return new dU(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e,t,r=1e3,s=1.5,a=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=s,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-r);s>0&&he("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE="PersistentStream";class JC{constructor(e,t,r,s,a,l,c,d){this.Mi=e,this.S_=r,this.b_=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new XC(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===X.RESOURCE_EXHAUSTED?(yi(t.toString()),yi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===t&&this.G_(r,s)}),(r=>{e((()=>{const s=new de(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(pE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(he(pE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class u6 extends JC{constructor(e,t,r,s,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,l),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=mU(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Pe.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Pe.min():l.readTime?Lr(l.readTime):Pe.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=pg(this.serializer),t.addTarget=(function(a,l){let c;const d=l.target;if(c=lg(d)?{documents:vU(a,d)}:{query:_U(a,d).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=UC(a,l.resumeToken);const p=hg(a,l.expectedCount);p!==null&&(c.expectedCount=p)}else if(l.snapshotVersion.compareTo(Pe.min())>0){c.readTime=vd(a,l.snapshotVersion.toTimestamp());const p=hg(a,l.expectedCount);p!==null&&(c.expectedCount=p)}return c})(this.serializer,e);const r=TU(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=pg(this.serializer),t.removeTarget=e,this.q_(t)}}class c6 extends JC{constructor(e,t,r,s,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,l),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=yU(e.writeResults,e.commitTime),r=Lr(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=pg(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>gU(this.serializer,r)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{}class d6 extends h6{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new de(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Go(e,dg(t,r),s,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new de(X.UNKNOWN,a.toString())}))}Ho(e,t,r,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Ho(e,dg(t,r),s,l,c,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new de(X.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class f6{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(yi(t),this.aa=!1):he("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo="RemoteStore";class p6{constructor(e,t,r,s,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{bo(this)&&(he(vo,"Restarting streams for network reachability change."),await(async function(d){const p=Re(d);p.Ea.add(4),await Xu(p),p.Ra.set("Unknown"),p.Ea.delete(4),await tf(p)})(this))}))})),this.Ra=new f6(r,s)}}async function tf(n){if(bo(n))for(const e of n.da)await e(!0)}async function Xu(n){for(const e of n.da)await e(!1)}function ZC(n,e){const t=Re(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Oy(t)?Vy(t):tl(t).O_()&&Dy(t,e))}function Ny(n,e){const t=Re(n),r=tl(t);t.Ia.delete(e),r.O_()&&eA(t,e),t.Ia.size===0&&(r.O_()?r.L_():bo(t)&&t.Ra.set("Unknown"))}function Dy(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}tl(n).Y_(e)}function eA(n,e){n.Va.Ue(e),tl(n).Z_(e)}function Vy(n){n.Va=new lU({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),tl(n).start(),n.Ra.ua()}function Oy(n){return bo(n)&&!tl(n).x_()&&n.Ia.size>0}function bo(n){return Re(n).Ea.size===0}function tA(n){n.Va=void 0}async function m6(n){n.Ra.set("Online")}async function g6(n){n.Ia.forEach(((e,t)=>{Dy(n,e)}))}async function y6(n,e){tA(n),Oy(n)?(n.Ra.ha(e),Vy(n)):n.Ra.set("Unknown")}async function v6(n,e,t){if(n.Ra.set("Online"),e instanceof jC&&e.state===2&&e.cause)try{await(async function(s,a){const l=a.cause;for(const c of a.targetIds)s.Ia.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s.Ia.delete(c),s.Va.removeTarget(c))})(n,e)}catch(r){he(vo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await wd(n,r)}else if(e instanceof zh?n.Va.Ze(e):e instanceof FC?n.Va.st(e):n.Va.tt(e),!t.isEqual(Pe.min()))try{const r=await YC(n.localStore);t.compareTo(r)>=0&&await(function(a,l){const c=a.Va.Tt(l);return c.targetChanges.forEach(((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const g=a.Ia.get(p);g&&a.Ia.set(p,g.withResumeToken(d.resumeToken,l))}})),c.targetMismatches.forEach(((d,p)=>{const g=a.Ia.get(d);if(!g)return;a.Ia.set(d,g.withResumeToken(Gt.EMPTY_BYTE_STRING,g.snapshotVersion)),eA(a,d);const y=new is(g.target,d,p,g.sequenceNumber);Dy(a,y)})),a.remoteSyncer.applyRemoteEvent(c)})(n,t)}catch(r){he(vo,"Failed to raise snapshot:",r),await wd(n,r)}}async function wd(n,e,t){if(!el(e))throw e;n.Ea.add(1),await Xu(n),n.Ra.set("Offline"),t||(t=()=>YC(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{he(vo,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await tf(n)}))}function nA(n,e){return e().catch((t=>wd(n,t,e)))}async function nf(n){const e=Re(n),t=ws(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:vy;for(;_6(e);)try{const s=await e6(e.localStore,r);if(s===null){e.Ta.length===0&&t.L_();break}r=s.batchId,w6(e,s)}catch(s){await wd(e,s)}rA(e)&&iA(e)}function _6(n){return bo(n)&&n.Ta.length<10}function w6(n,e){n.Ta.push(e);const t=ws(n);t.O_()&&t.X_&&t.ea(e.mutations)}function rA(n){return bo(n)&&!ws(n).x_()&&n.Ta.length>0}function iA(n){ws(n).start()}async function T6(n){ws(n).ra()}async function E6(n){const e=ws(n);for(const t of n.Ta)e.ea(t.mutations)}async function I6(n,e,t){const r=n.Ta.shift(),s=Cy.from(r,e,t);await nA(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await nf(n)}async function S6(n,e){e&&ws(n).X_&&await(async function(r,s){if((function(l){return sU(l)&&l!==X.ABORTED})(s.code)){const a=r.Ta.shift();ws(r).B_(),await nA(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s))),await nf(r)}})(n,e),rA(n)&&iA(n)}async function mE(n,e){const t=Re(n);t.asyncQueue.verifyOperationInProgress(),he(vo,"RemoteStore received new credentials");const r=bo(t);t.Ea.add(3),await Xu(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await tf(t)}async function C6(n,e){const t=Re(n);e?(t.Ea.delete(2),await tf(t)):e||(t.Ea.add(2),await Xu(t),t.Ra.set("Unknown"))}function tl(n){return n.ma||(n.ma=(function(t,r,s){const a=Re(t);return a.sa(),new u6(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(n.datastore,n.asyncQueue,{Xo:m6.bind(null,n),t_:g6.bind(null,n),r_:y6.bind(null,n),H_:v6.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),Oy(n)?Vy(n):n.Ra.set("Unknown")):(await n.ma.stop(),tA(n))}))),n.ma}function ws(n){return n.fa||(n.fa=(function(t,r,s){const a=Re(t);return a.sa(),new c6(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:T6.bind(null,n),r_:S6.bind(null,n),ta:E6.bind(null,n),na:I6.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await nf(n)):(await n.fa.stop(),n.Ta.length>0&&(he(vo,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(e,t,r,s,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new cs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,a){const l=Date.now()+r,c=new My(e,t,l,s,a);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ly(n,e){if(yi("AsyncQueue",`${e}: ${n}`),el(n))return new de(X.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{static emptySet(e){return new Va(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ve.comparator(t.key,r.key):(t,r)=>ve.comparator(t.key,r.key),this.keyedMap=au(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Va)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Va;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(){this.ga=new dt(ve.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ie(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class Ha{constructor(e,t,r,s,a,l,c,d,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,s,a){const l=[];return t.forEach((c=>{l.push({type:0,doc:c})})),new Ha(e,t,Va.emptySet(t),l,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class P6{constructor(){this.queries=yE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const s=Re(t),a=s.queries;s.queries=yE(),a.forEach(((l,c)=>{for(const d of c.Sa)d.onError(r)}))})(this,new de(X.ABORTED,"Firestore shutting down"))}}function yE(){return new xo((n=>CC(n)),Qd)}async function x6(n,e){const t=Re(n);let r=3;const s=e.query;let a=t.queries.get(s);a?!a.ba()&&e.Da()&&(r=2):(a=new A6,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await t.onListen(s,!0);break;case 1:a.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(l){const c=Ly(l,`Initialization of query '${Ta(e.query)}' failed`);return void e.onError(c)}t.queries.set(s,a),a.Sa.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&Fy(t)}async function R6(n,e){const t=Re(n),r=e.query;let s=3;const a=t.queries.get(r);if(a){const l=a.Sa.indexOf(e);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?s=e.Da()?0:1:!a.ba()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function b6(n,e){const t=Re(n);let r=!1;for(const s of e){const a=s.query,l=t.queries.get(a);if(l){for(const c of l.Sa)c.Fa(s)&&(r=!0);l.wa=s}}r&&Fy(t)}function k6(n,e,t){const r=Re(n),s=r.queries.get(e);if(s)for(const a of s.Sa)a.onError(t);r.queries.delete(e)}function Fy(n){n.Ca.forEach((e=>{e.next()}))}var yg,vE;(vE=yg||(yg={})).Ma="default",vE.Cache="cache";class N6{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ha(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Ha.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==yg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e){this.key=e}}class oA{constructor(e){this.key=e}}class D6{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=je(),this.mutatedKeys=je(),this.eu=AC(e),this.tu=new Va(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new gE,s=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,l=s,c=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((g,y)=>{const w=s.get(g),I=Yd(this.query,y)?y:null,k=!!w&&this.mutatedKeys.has(w.key),x=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let A=!1;w&&I?w.data.isEqual(I.data)?k!==x&&(r.track({type:3,doc:I}),A=!0):this.su(w,I)||(r.track({type:2,doc:I}),A=!0,(d&&this.eu(I,d)>0||p&&this.eu(I,p)<0)&&(c=!0)):!w&&I?(r.track({type:0,doc:I}),A=!0):w&&!I&&(r.track({type:1,doc:w}),A=!0,(d||p)&&(c=!0)),A&&(I?(l=l.add(I),a=x?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{tu:l,iu:r,Cs:c,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((g,y)=>(function(I,k){const x=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie(20277,{Rt:A})}};return x(I)-x(k)})(g.type,y.type)||this.eu(g.doc,y.doc))),this.ou(r),s=s??!1;const c=t&&!s?this._u():[],d=this.Xa.size===0&&this.current&&!s?1:0,p=d!==this.Za;return this.Za=d,l.length!==0||p?{snapshot:new Ha(this.query,e.tu,a,l,e.mutatedKeys,d===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new gE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=je(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new oA(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new sA(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=je();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Ha.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const jy="SyncEngine";class V6{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class O6{constructor(e){this.key=e,this.hu=!1}}class M6{constructor(e,t,r,s,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new xo((c=>CC(c)),Qd),this.Iu=new Map,this.Eu=new Set,this.du=new dt(ve.comparator),this.Au=new Map,this.Ru=new xy,this.Vu={},this.mu=new Map,this.fu=Wa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function L6(n,e,t=!0){const r=dA(n);let s;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.lu()):s=await aA(r,e,t,!0),s}async function F6(n,e){const t=dA(n);await aA(t,e,!0,!1)}async function aA(n,e,t,r){const s=await t6(n.localStore,Or(e)),a=s.targetId,l=n.sharedClientState.addLocalQueryTarget(a,t);let c;return r&&(c=await j6(n,e,a,l==="current",s.resumeToken)),n.isPrimaryClient&&t&&ZC(n.remoteStore,s),c}async function j6(n,e,t,r,s){n.pu=(y,w,I)=>(async function(x,A,$,U){let B=A.view.ru($);B.Cs&&(B=await cE(x.localStore,A.query,!1).then((({documents:N})=>A.view.ru(N,B))));const Q=U&&U.targetChanges.get(A.targetId),te=U&&U.targetMismatches.get(A.targetId)!=null,se=A.view.applyChanges(B,x.isPrimaryClient,Q,te);return wE(x,A.targetId,se.au),se.snapshot})(n,y,w,I);const a=await cE(n.localStore,e,!0),l=new D6(e,a.Qs),c=l.ru(a.documents),d=Yu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),p=l.applyChanges(c,n.isPrimaryClient,d);wE(n,t,p.au);const g=new V6(e,t,l);return n.Tu.set(e,g),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),p.snapshot}async function U6(n,e,t){const r=Re(n),s=r.Tu.get(e),a=r.Iu.get(s.targetId);if(a.length>1)return r.Iu.set(s.targetId,a.filter((l=>!Qd(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await mg(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),t&&Ny(r.remoteStore,s.targetId),vg(r,s.targetId)})).catch(Za)):(vg(r,s.targetId),await mg(r.localStore,s.targetId,!0))}async function B6(n,e){const t=Re(n),r=t.Tu.get(e),s=t.Iu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Ny(t.remoteStore,r.targetId))}async function z6(n,e,t){const r=Q6(n);try{const s=await(function(l,c){const d=Re(l),p=it.now(),g=c.reduce(((I,k)=>I.add(k.key)),je());let y,w;return d.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let k=vi(),x=je();return d.Ns.getEntries(I,g).next((A=>{k=A,k.forEach((($,U)=>{U.isValidDocument()||(x=x.add($))}))})).next((()=>d.localDocuments.getOverlayedDocuments(I,k))).next((A=>{y=A;const $=[];for(const U of c){const B=eU(U,y.get(U.key).overlayedDocument);B!=null&&$.push(new Ro(U.key,B,gC(B.value.mapValue),Mr.exists(!0)))}return d.mutationQueue.addMutationBatch(I,p,$,c)})).next((A=>{w=A;const $=A.applyToLocalDocumentSet(y,x);return d.documentOverlayCache.saveOverlays(I,A.batchId,$)}))})).then((()=>({batchId:w.batchId,changes:xC(y)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(l,c,d){let p=l.Vu[l.currentUser.toKey()];p||(p=new dt(Fe)),p=p.insert(c,d),l.Vu[l.currentUser.toKey()]=p})(r,s.batchId,t),await Ju(r,s.changes),await nf(r.remoteStore)}catch(s){const a=Ly(s,"Failed to persist write");t.reject(a)}}async function lA(n,e){const t=Re(n);try{const r=await JU(t.localStore,e);e.targetChanges.forEach(((s,a)=>{const l=t.Au.get(a);l&&(Ke(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.hu=!0:s.modifiedDocuments.size>0?Ke(l.hu,14607):s.removedDocuments.size>0&&(Ke(l.hu,42227),l.hu=!1))})),await Ju(t,r,e)}catch(r){await Za(r)}}function _E(n,e,t){const r=Re(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.Tu.forEach(((a,l)=>{const c=l.view.va(e);c.snapshot&&s.push(c.snapshot)})),(function(l,c){const d=Re(l);d.onlineState=c;let p=!1;d.queries.forEach(((g,y)=>{for(const w of y.Sa)w.va(c)&&(p=!0)})),p&&Fy(d)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function $6(n,e,t){const r=Re(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Au.get(e),a=s&&s.key;if(a){let l=new dt(ve.comparator);l=l.insert(a,nn.newNoDocument(a,Pe.min()));const c=je().add(a),d=new Zd(Pe.min(),new Map,new dt(Fe),l,c);await lA(r,d),r.du=r.du.remove(a),r.Au.delete(e),Uy(r)}else await mg(r.localStore,e,!1).then((()=>vg(r,e,t))).catch(Za)}async function W6(n,e){const t=Re(n),r=e.batch.batchId;try{const s=await XU(t.localStore,e);cA(t,r,null),uA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Ju(t,s)}catch(s){await Za(s)}}async function H6(n,e,t){const r=Re(n);try{const s=await(function(l,c){const d=Re(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let g;return d.mutationQueue.lookupMutationBatch(p,c).next((y=>(Ke(y!==null,37113),g=y.keys(),d.mutationQueue.removeMutationBatch(p,y)))).next((()=>d.mutationQueue.performConsistencyCheck(p))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(p,g,c))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g))).next((()=>d.localDocuments.getDocuments(p,g)))}))})(r.localStore,e);cA(r,e,t),uA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Ju(r,s)}catch(s){await Za(s)}}function uA(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function cA(n,e,t){const r=Re(n);let s=r.Vu[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(t?a.reject(t):a.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function vg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||hA(n,r)}))}function hA(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Ny(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),Uy(n))}function wE(n,e,t){for(const r of t)r instanceof sA?(n.Ru.addReference(r.key,e),q6(n,r)):r instanceof oA?(he(jy,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||hA(n,r.key)):Ie(19791,{wu:r})}function q6(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(he(jy,"New document in limbo: "+t),n.Eu.add(r),Uy(n))}function Uy(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new ve(Je.fromString(e)),r=n.fu.next();n.Au.set(r,new O6(t)),n.du=n.du.insert(t,r),ZC(n.remoteStore,new is(Or(IC(t.path)),r,"TargetPurposeLimboResolution",qd.ce))}}async function Ju(n,e,t){const r=Re(n),s=[],a=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,d)=>{l.push(r.pu(d,e,t).then((p=>{if((p||t)&&r.isPrimaryClient){const g=p?!p.fromCache:t?.targetChanges.get(d.targetId)?.current;r.sharedClientState.updateQueryState(d.targetId,g?"current":"not-current")}if(p){s.push(p);const g=by.As(d.targetId,p);a.push(g)}})))})),await Promise.all(l),r.Pu.H_(s),await(async function(d,p){const g=Re(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(y=>J.forEach(p,(w=>J.forEach(w.Es,(I=>g.persistence.referenceDelegate.addReference(y,w.targetId,I))).next((()=>J.forEach(w.ds,(I=>g.persistence.referenceDelegate.removeReference(y,w.targetId,I)))))))))}catch(y){if(!el(y))throw y;he(ky,"Failed to update sequence numbers: "+y)}for(const y of p){const w=y.targetId;if(!y.fromCache){const I=g.Ms.get(w),k=I.snapshotVersion,x=I.withLastLimboFreeSnapshotVersion(k);g.Ms=g.Ms.insert(w,x)}}})(r.localStore,a))}async function G6(n,e){const t=Re(n);if(!t.currentUser.isEqual(e)){he(jy,"User change. New user:",e.toKey());const r=await QC(t.localStore,e);t.currentUser=e,(function(a,l){a.mu.forEach((c=>{c.forEach((d=>{d.reject(new de(X.CANCELLED,l))}))})),a.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ju(t,r.Ls)}}function K6(n,e){const t=Re(n),r=t.Au.get(e);if(r&&r.hu)return je().add(r.key);{let s=je();const a=t.Iu.get(e);if(!a)return s;for(const l of a){const c=t.Tu.get(l);s=s.unionWith(c.view.nu)}return s}}function dA(n){const e=Re(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=lA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=K6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$6.bind(null,e),e.Pu.H_=b6.bind(null,e.eventManager),e.Pu.yu=k6.bind(null,e.eventManager),e}function Q6(n){const e=Re(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=W6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=H6.bind(null,e),e}class Td{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ef(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return YU(this.persistence,new GU,e.initialUser,this.serializer)}Cu(e){return new KC(Ry.mi,this.serializer)}Du(e){return new r6}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Td.provider={build:()=>new Td};class Y6 extends Td{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ke(this.persistence.referenceDelegate instanceof _d,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new NU(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new KC((r=>_d.mi(r,t)),this.serializer)}}class _g{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>_E(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=G6.bind(null,this.syncEngine),await C6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new P6})()}createDatastore(e){const t=ef(e.databaseInfo.databaseId),r=(function(a){return new l6(a)})(e.databaseInfo);return(function(a,l,c,d){return new d6(a,l,c,d)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,s,a,l,c){return new p6(r,s,a,l,c)})(this.localStore,this.datastore,e.asyncQueue,(t=>_E(this.syncEngine,t,0)),(function(){return fE.v()?new fE:new i6})())}createSyncEngine(e,t){return(function(s,a,l,c,d,p,g){const y=new M6(s,a,l,c,d,p);return g&&(y.gu=!0),y})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=Re(t);he(vo,"RemoteStore shutting down."),r.Ea.add(5),await Xu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}_g.provider={build:()=>new _g};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):yi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts="FirestoreClient";class J6{constructor(e,t,r,s,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=tn.UNAUTHENTICATED,this.clientId=yy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async l=>{he(Ts,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(he(Ts,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new cs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Ly(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function _m(n,e){n.asyncQueue.verifyOperationInProgress(),he(Ts,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async s=>{r.isEqual(s)||(await QC(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function TE(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Z6(n);he(Ts,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>mE(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,s)=>mE(e.remoteStore,s))),n._onlineComponents=e}async function Z6(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){he(Ts,"Using user provided OfflineComponentProvider");try{await _m(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===X.FAILED_PRECONDITION||s.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;Ua("Error using user provided cache. Falling back to memory cache: "+t),await _m(n,new Td)}}else he(Ts,"Using default OfflineComponentProvider"),await _m(n,new Y6(void 0));return n._offlineComponents}async function fA(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(he(Ts,"Using user provided OnlineComponentProvider"),await TE(n,n._uninitializedComponentsProvider._online)):(he(Ts,"Using default OnlineComponentProvider"),await TE(n,new _g))),n._onlineComponents}function e3(n){return fA(n).then((e=>e.syncEngine))}async function t3(n){const e=await fA(n),t=e.eventManager;return t.onListen=L6.bind(null,e.syncEngine),t.onUnlisten=U6.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=F6.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=B6.bind(null,e.syncEngine),t}function n3(n,e,t={}){const r=new cs;return n.asyncQueue.enqueueAndForget((async()=>(function(a,l,c,d,p){const g=new X6({next:w=>{g.Nu(),l.enqueueAndForget((()=>R6(a,y))),w.fromCache&&d.source==="server"?p.reject(new de(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),y=new N6(c,g,{includeMetadataChanges:!0,qa:!0});return x6(a,y)})(await t3(n),n.asyncQueue,e,t,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA="firestore.googleapis.com",IE=!0;class SE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=mA,this.ssl=IE}else this.host=e.host,this.ssl=e.ssl??IE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=GC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<bU)throw new de(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}pj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pA(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new de(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new de(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new de(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rf{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new SE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new SE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new ij;switch(r.type){case"firstParty":return new lj(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=EE.get(t);r&&(he("ComponentProvider","Removing Datastore"),EE.delete(t),r.terminate())})(this),Promise.resolve()}}function r3(n,e,t,r={}){n=Ru(n,rf);const s=Qa(e),a=n._getSettings(),l={...a,emulatorOptions:n._getEmulatorOptions()},c=`${e}:${t}`;s&&(jS(`https://${c}`),US("Firestore",!0)),a.host!==mA&&a.host!==c&&Ua("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...a,host:c,ssl:s,emulatorOptions:r};if(!ms(d,l)&&(n._setSettings(d),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=tn.MOCK_USER;else{p=KV(r.mockUserToken,n._app?.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new de(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new tn(y)}n._authCredentials=new sj(new iC(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new nl(this.firestore,e,this._query)}}class Ft{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ft(this.firestore,e,this._key)}toJSON(){return{type:Ft._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Gu(t,Ft._jsonSchema))return new Ft(e,r||null,new ve(Je.fromString(t.referencePath)))}}Ft._jsonSchemaVersion="firestore/documentReference/1.0",Ft._jsonSchema={type:Rt("string",Ft._jsonSchemaVersion),referencePath:Rt("string")};class hs extends nl{constructor(e,t,r){super(e,t,IC(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ft(this.firestore,null,new ve(e))}withConverter(e){return new hs(this.firestore,e,this._path)}}function CE(n,e,...t){if(n=qt(n),sC("collection","path",e),n instanceof rf){const r=Je.fromString(e,...t);return L0(r),new hs(n,null,r)}{if(!(n instanceof Ft||n instanceof hs))throw new de(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Je.fromString(e,...t));return L0(r),new hs(n.firestore,null,r)}}function gA(n,e,...t){if(n=qt(n),arguments.length===1&&(e=yy.newId()),sC("doc","path",e),n instanceof rf){const r=Je.fromString(e,...t);return M0(r),new Ft(n,null,new ve(r))}{if(!(n instanceof Ft||n instanceof hs))throw new de(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Je.fromString(e,...t));return M0(r),new Ft(n.firestore,n instanceof hs?n.converter:null,new ve(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE="AsyncQueue";class PE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new XC(this,"async_queue_retry"),this._c=()=>{const r=vm();r&&he(AE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=vm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=vm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new cs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!el(e))throw e;he(AE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,yi("INTERNAL UNHANDLED ERROR: ",xE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=My.createAndSchedule(this,e,t,r,(a=>this.hc(a)));return this.tc.push(s),s}uc(){this.nc&&Ie(47125,{Pc:xE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function xE(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class sf extends rf{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new PE,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new PE(e),this._firestoreClient=void 0,await e}}}function i3(n,e){const t=typeof n=="object"?n:ty(),r=typeof n=="string"?n:dd,s=Co(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=qV("firestore");a&&r3(s,...a)}return s}function yA(n){if(n._terminated)throw new de(X.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||s3(n),n._firestoreClient}function s3(n){const e=n._freezeSettings(),t=(function(s,a,l,c){return new Cj(s,a,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,pA(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new J6(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(s){const a=s?._online.build();return{_offline:s?._offline.build(a),_online:a}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hn(Gt.fromBase64String(e))}catch(t){throw new de(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Hn(Gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Hn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Gu(e,Hn._jsonSchema))return Hn.fromBase64String(e.bytes)}}Hn._jsonSchemaVersion="firestore/bytes/1.0",Hn._jsonSchema={type:Rt("string",Hn._jsonSchemaVersion),bytes:Rt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new de(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new de(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new de(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Fr._jsonSchemaVersion}}static fromJSON(e){if(Gu(e,Fr._jsonSchema))return new Fr(e.latitude,e.longitude)}}Fr._jsonSchemaVersion="firestore/geoPoint/1.0",Fr._jsonSchema={type:Rt("string",Fr._jsonSchemaVersion),latitude:Rt("number"),longitude:Rt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:jr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Gu(e,jr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new jr(e.vectorValues);throw new de(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}jr._jsonSchemaVersion="firestore/vectorValue/1.0",jr._jsonSchema={type:Rt("string",jr._jsonSchemaVersion),vectorValues:Rt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3=/^__.*__$/;class a3{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Ro(e,this.data,this.fieldMask,t,this.fieldTransforms):new Qu(e,this.data,t,this.fieldTransforms)}}function _A(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie(40011,{Ac:n})}}class zy{constructor(e,t,r,s,a,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new zy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ed(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(_A(this.Ac)&&o3.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class l3{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||ef(e)}Cc(e,t,r,s=!1){return new zy({Ac:e,methodName:t,Dc:r,path:Wt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wA(n){const e=n._freezeSettings(),t=ef(n._databaseId);return new l3(n._databaseId,!!e.ignoreUndefinedProperties,t)}function u3(n,e,t,r,s,a={}){const l=n.Cc(a.merge||a.mergeFields?2:0,e,t,s);IA("Data must be an object, but it was:",l,r);const c=TA(r,l);let d,p;if(a.merge)d=new ar(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const g=[];for(const y of a.mergeFields){const w=h3(e,y,t);if(!l.contains(w))throw new de(X.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);f3(g,w)||g.push(w)}d=new ar(g),p=l.fieldTransforms.filter((y=>d.covers(y.field)))}else d=null,p=l.fieldTransforms;return new a3(new Wn(c),d,p)}function c3(n,e,t,r=!1){return $y(t,n.Cc(r?4:3,e))}function $y(n,e){if(EA(n=qt(n)))return IA("Unsupported field value:",e,n),TA(n,e);if(n instanceof vA)return(function(r,s){if(!_A(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,s){const a=[];let l=0;for(const c of r){let d=$y(c,s.wc(l));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),l++}return{arrayValue:{values:a}}})(n,e)}return(function(r,s){if((r=qt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Kj(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=it.fromDate(r);return{timestampValue:vd(s.serializer,a)}}if(r instanceof it){const a=new it(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:vd(s.serializer,a)}}if(r instanceof Fr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Hn)return{bytesValue:UC(s.serializer,r._byteString)};if(r instanceof Ft){const a=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw s.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Py(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof jr)return(function(l,c){return{mapValue:{fields:{[pC]:{stringValue:mC},[fd]:{arrayValue:{values:l.toArray().map((p=>{if(typeof p!="number")throw c.Sc("VectorValues must only contain numeric values.");return Iy(c.serializer,p)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${Hd(r)}`)})(n,e)}function TA(n,e){const t={};return lC(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Po(n,((r,s)=>{const a=$y(s,e.mc(r));a!=null&&(t[r]=a)})),{mapValue:{fields:t}}}function EA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof it||n instanceof Fr||n instanceof Hn||n instanceof Ft||n instanceof vA||n instanceof jr)}function IA(n,e,t){if(!EA(t)||!oC(t)){const r=Hd(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function h3(n,e,t){if((e=qt(e))instanceof By)return e._internalPath;if(typeof e=="string")return SA(n,e);throw Ed("Field path arguments must be of type string or ",n,!1,void 0,t)}const d3=new RegExp("[~\\*/\\[\\]]");function SA(n,e,t){if(e.search(d3)>=0)throw Ed(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new By(...e.split("."))._internalPath}catch{throw Ed(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ed(n,e,t,r,s){const a=r&&!r.isEmpty(),l=s!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(a||l)&&(d+=" (found",a&&(d+=` in field ${r}`),l&&(d+=` in document ${s}`),d+=")"),new de(X.INVALID_ARGUMENT,c+n+d)}function f3(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e,t,r,s,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new p3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Wy("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class p3 extends CA{data(){return super.data()}}function Wy(n,e){return typeof e=="string"?SA(n,e):e instanceof By?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m3(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new de(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hy{}class g3 extends Hy{}function y3(n,e,...t){let r=[];e instanceof Hy&&r.push(e),r=r.concat(t),(function(a){const l=a.filter((d=>d instanceof qy)).length,c=a.filter((d=>d instanceof of)).length;if(l>1||l>0&&c>0)throw new de(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)n=s._apply(n);return n}class of extends g3{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new of(e,t,r)}_apply(e){const t=this._parse(e);return AA(e._query,t),new nl(e.firestore,e.converter,ug(e._query,t))}_parse(e){const t=wA(e.firestore);return(function(a,l,c,d,p,g,y){let w;if(p.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new de(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){bE(y,g);const k=[];for(const x of y)k.push(RE(d,a,x));w={arrayValue:{values:k}}}else w=RE(d,a,y)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||bE(y,g),w=c3(c,l,y,g==="in"||g==="not-in");return xt.create(p,g,w)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function v3(n,e,t){const r=e,s=Wy("where",n);return of._create(s,r,t)}class qy extends Hy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new qy(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:cr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(s,a){let l=s;const c=a.getFlattenedFilters();for(const d of c)AA(l,d),l=ug(l,d)})(e._query,t),new nl(e.firestore,e.converter,ug(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function RE(n,e,t){if(typeof(t=qt(t))=="string"){if(t==="")throw new de(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!SC(e)&&t.indexOf("/")!==-1)throw new de(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Je.fromString(t));if(!ve.isDocumentKey(r))throw new de(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return H0(n,new ve(r))}if(t instanceof Ft)return H0(n,t._key);throw new de(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hd(t)}.`)}function bE(n,e){if(!Array.isArray(n)||n.length===0)throw new de(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function AA(n,e){const t=(function(s,a){for(const l of s)for(const c of l.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null})(n.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new de(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class _3{convertValue(e,t="none"){switch(_s(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(vs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Po(e,((s,a)=>{r[s]=this.convertValue(a,t)})),r}convertVectorValue(e){const t=e.fields?.[fd].arrayValue?.values?.map((r=>_t(r.doubleValue)));return new jr(t)}convertGeoPoint(e){return new Fr(_t(e.latitude),_t(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Kd(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(ku(e));default:return null}}convertTimestamp(e){const t=ys(e);return new it(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Je.fromString(e);Ke(qC(r),9688,{name:e});const s=new Nu(r.get(1),r.get(3)),a=new ve(r.popFirst(5));return s.isEqual(t)||yi(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w3(n,e,t){let r;return r=n?n.toFirestore(e):e,r}class Ph{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Oa extends CA{constructor(e,t,r,s,a,l){super(e,t,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new $h(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Wy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Oa._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Oa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Oa._jsonSchema={type:Rt("string",Oa._jsonSchemaVersion),bundleSource:Rt("string","DocumentSnapshot"),bundleName:Rt("string"),bundle:Rt("string")};class $h extends Oa{data(e={}){return super.data(e)}}class Ma{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Ph(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new $h(this._firestore,this._userDataWriter,r.key,r,new Ph(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new de(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map((c=>{const d=new $h(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Ph(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((c=>a||c.type!==3)).map((c=>{const d=new $h(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Ph(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,g=-1;return c.type!==0&&(p=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),g=l.indexOf(c.doc.key)),{type:T3(c.type),doc:d,oldIndex:p,newIndex:g}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ma._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=yy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],s=[];return this.docs.forEach((a=>{a._document!==null&&(t.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),s.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function T3(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie(61501,{type:n})}}Ma._jsonSchemaVersion="firestore/querySnapshot/1.0",Ma._jsonSchema={type:Rt("string",Ma._jsonSchemaVersion),bundleSource:Rt("string","QuerySnapshot"),bundleName:Rt("string"),bundle:Rt("string")};class E3 extends _3{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ft(this.firestore,null,t)}}function I3(n){n=Ru(n,nl);const e=Ru(n.firestore,sf),t=yA(e),r=new E3(e);return m3(n._query),n3(t,n._query).then((s=>new Ma(e,r,n,s)))}function S3(n){return PA(Ru(n.firestore,sf),[new Sy(n._key,Mr.none())])}function C3(n,e){const t=Ru(n.firestore,sf),r=gA(n),s=w3(n.converter,e);return PA(t,[u3(wA(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,Mr.exists(!1))]).then((()=>r))}function PA(n,e){return(function(r,s){const a=new cs;return r.asyncQueue.enqueueAndForget((async()=>z6(await e3(r),s,a))),a.promise})(yA(n),e)}(function(e,t=!0){(function(s){Ja=s})(Ya),Ur(new lr("firestore",((r,{instanceIdentifier:s,options:a})=>{const l=r.getProvider("app").getImmediate(),c=new sf(new oj(r.getProvider("auth-internal")),new uj(l,r.getProvider("app-check-internal")),(function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new de(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nu(p.options.projectId,g)})(l,s),l);return a={useFetchStreams:t,...a},c._setSettings(a),c}),"PUBLIC").setMultipleInstances(!0)),Gn(N0,D0,e),Gn(N0,D0,"esm2020")})();const A3={apiKey:"AIzaSyA_RW7n92cb8I9zUfsj1u0NDin2IMgjJI0",authDomain:"rickdudziak-c80bb.firebaseapp.com",projectId:"rickdudziak-c80bb",storageBucket:"rickdudziak-c80bb.firebasestorage.app",messagingSenderId:"234849264289",appId:"1:234849264289:web:3dd541af25280798b9c6e0",measurementId:"G-KW0JNC0018"},Gy=GS(A3);ZF(Gy);const La=D4(Gy),wm=i3(Gy),P3=()=>{const{toast:n}=Ld(),[e,t]=P.useState(""),[r,s]=P.useState(""),[a,l]=P.useState(!1),[c,d]=P.useState(!1),p=async y=>{y.preventDefault(),l(!0);try{await f0(La,e,r),n({title:"Login Successful!",description:"Welcome back! Redirecting to your projects...",className:"bg-[#1e1e1e] text-white border-[#00ff88]"})}catch(w){n({variant:"destructive",title:"Login Failed",description:`Error: ${w.code}`,className:"bg-[#1e1e1e] text-white border-red-500"})}finally{l(!1)}},g=async()=>{d(!0);try{await _L(La,e,r),await f0(La,e,r),n({title:"Account Created!",description:"Your new account has been created and you are now logged in. Redirecting to your projects...",className:"bg-[#1e1e1e] text-white border-[#00ff88]"})}catch(y){n({variant:"destructive",title:"Sign-up Failed",description:`Error: ${y.code}`,className:"bg-[#1e1e1e] text-white border-red-500"})}finally{d(!1)}};return b.jsx("div",{className:"min-h-screen flex items-center justify-center p-6 bg-grid-[#1a1a1a]/[0.2]",children:b.jsx(Nt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},className:"max-w-md w-full",children:b.jsx("div",{className:"bg-[#1e1e1e] rounded-xl p-8 sm:p-12 shadow-2xl border border-[#2a2a2a]",children:b.jsxs(Nt.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3,duration:.6},className:"text-center space-y-8",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white tracking-tight",children:"Member Login"}),b.jsx("p",{className:"text-[#a0a0a0]",children:"Access your projects dashboard."})]}),b.jsxs("form",{onSubmit:p,className:"space-y-6 text-left",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx(qm,{htmlFor:"email",className:"text-sm font-medium text-[#c0c0c0]",children:"Email"}),b.jsxs("div",{className:"relative",children:[b.jsx(K2,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-[#666]"}),b.jsx(Cu,{type:"email",id:"email",placeholder:"name@example.com",required:!0,className:"pl-10",value:e,onChange:y=>t(y.target.value)})]})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(qm,{htmlFor:"password",className:"text-sm font-medium text-[#c0c0c0]",children:"Password"}),b.jsxs("div",{className:"relative",children:[b.jsx(z2,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-[#666]"}),b.jsx(Cu,{type:"password",id:"password",placeholder:"",required:!0,className:"pl-10",value:r,onChange:y=>s(y.target.value)})]})]}),b.jsx(Nt.div,{whileHover:{scale:1.03},whileTap:{scale:.97},className:"pt-4",children:b.jsx(qn,{type:"submit",disabled:a,className:"w-full bg-[#00ff88] hover:bg-[#00dd77] text-[#121212] font-semibold px-8 py-6 text-lg rounded-lg transition-all duration-300 shadow-lg hover:shadow-[#00ff88]/20",children:a?b.jsx($m,{className:"h-5 w-5 animate-spin"}):b.jsxs(b.Fragment,{children:["Login",b.jsx(_S,{className:"ml-2 h-5 w-5"})]})})})]}),b.jsxs("div",{className:"flex items-center space-x-2 justify-center mt-4",children:[b.jsx("span",{className:"text-sm text-[#a0a0a0]",children:"Don't have an account?"}),b.jsx(qn,{variant:"link",onClick:g,disabled:c,className:"text-[#00ff88] hover:text-[#00dd77] px-0",children:c?b.jsx($m,{className:"h-4 w-4 animate-spin mr-2"}):b.jsxs(b.Fragment,{children:[b.jsx(G2,{className:"h-4 w-4 mr-2"}),"Sign up"]})})]})]})})})})},x3=({project:n,index:e})=>{const t=Lu(),r=()=>{n.internal?t(n.link):window.open(n.link,"_blank","noopener,noreferrer")};return b.jsx(Nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:e*.1,duration:.5},whileHover:{y:-8},className:"bg-[#1e1e1e] rounded-xl p-6 border border-[#2a2a2a] hover:border-[#00ff88]/30 transition-all duration-300 shadow-lg hover:shadow-[#00ff88]/10",children:b.jsxs("div",{className:"flex flex-col justify-between h-full",children:[b.jsxs("div",{className:"space-y-4",children:[b.jsx("h3",{className:"text-xl font-bold text-white",children:n.title}),b.jsx("p",{className:"text-[#b0b0b0] text-sm leading-relaxed",children:n.description})]}),b.jsx(Nt.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"mt-6",children:b.jsxs(qn,{onClick:r,className:"w-full bg-[#00ff88] hover:bg-[#00dd77] text-[#121212] font-semibold rounded-lg transition-all duration-300 shadow-md hover:shadow-lg",children:[n.internal?"Open App":"View Project",n.internal?b.jsx(_S,{className:"ml-2 h-4 w-4"}):b.jsx(U2,{className:"ml-2 h-4 w-4"})]})})]})})},R3=()=>{const{toast:n}=Ld(),e=async()=>{try{await La.signOut(),n({title:"Logged Out",description:"You have been successfully logged out.",className:"bg-[#1e1e1e] text-white border-[#00ff88]"})}catch(r){console.error("Error logging out:",r)}},t=[{id:7,title:"The Worry Tree",description:"A CBT-based tool to help you process worries and find actionable solutions or let them go.",link:"/worry-tree",internal:!0},{id:1,title:"E-Commerce Platform",description:"A modern, responsive online shopping experience with seamless checkout and inventory management.",link:"https://github.com/rickdudziak/ecommerce"},{id:2,title:"Task Management App",description:"Intuitive productivity tool with real-time collaboration features and smart notifications.",link:"/tasks",internal:!0},{id:3,title:"Portfolio CMS",description:"Custom content management system built for creative professionals to showcase their work.",link:"https://github.com/rickdudziak/portfolio-cms"},{id:4,title:"Weather Dashboard",description:"Real-time weather tracking application with beautiful data visualizations and forecasts.",link:"/weather",internal:!0},{id:5,title:"Social Media Analytics",description:"Comprehensive analytics platform for tracking engagement metrics across multiple channels.",link:"https://github.com/rickdudziak/social-analytics"},{id:6,title:"Fitness Tracker",description:"Personal health and fitness monitoring app with workout plans and progress tracking.",link:"https://github.com/rickdudziak/fitness-tracker"}];return b.jsxs("div",{className:"min-h-screen",children:[b.jsx(Nt.header,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"bg-[#1e1e1e] border-b border-[#2a2a2a] sticky top-0 z-50 backdrop-blur-sm bg-opacity-95",children:b.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center space-x-4",children:[b.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-[#00ff88] to-[#00cc6a] flex items-center justify-center text-[#121212] font-bold",children:"RD"}),b.jsxs("div",{children:[b.jsx("h1",{className:"text-2xl font-bold text-white",children:"My Projects"}),b.jsx("p",{className:"text-sm text-[#888888]",children:"Rick Dudziak"})]})]}),b.jsxs(qn,{onClick:e,variant:"ghost",className:"text-[#e0e0e0] hover:text-white hover:bg-[#2a2a2a] rounded-lg flex items-center space-x-2",children:[b.jsx($2,{className:"h-5 w-5"}),b.jsx("span",{children:"Logout"})]})]})}),b.jsx("main",{className:"max-w-7xl mx-auto px-6 py-12",children:b.jsx(Nt.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2,duration:.6},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map((r,s)=>b.jsx(x3,{title:r.title,description:r.description,link:r.link,externalLink:r.link},r.id))})})]})},kE={Sunny:b.jsx(wS,{className:"h-20 w-20 text-yellow-400"}),Cloudy:b.jsx(F2,{className:"h-20 w-20 text-gray-400"}),Rainy:b.jsx(M2,{className:"h-20 w-20 text-blue-400"}),Snowy:b.jsx(L2,{className:"h-20 w-20 text-white"})},br={city:"San Francisco",temperature:18,condition:"Sunny",high:22,low:14,wind:15,humidity:60,forecast:[{day:"Mon",temp:20,condition:"Sunny"},{day:"Tue",temp:19,condition:"Cloudy"},{day:"Wed",temp:17,condition:"Rainy"},{day:"Thu",temp:21,condition:"Sunny"},{day:"Fri",temp:22,condition:"Sunny"}]},xh=({icon:n,label:e,value:t,unit:r,delay:s})=>b.jsxs(Nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:s},className:"bg-[#2a2a2a]/50 p-4 rounded-lg flex items-center space-x-3 backdrop-blur-sm",children:[b.jsx("div",{className:"text-[#00ff88]",children:n}),b.jsxs("div",{children:[b.jsx("p",{className:"text-sm text-[#b0b0b0]",children:e}),b.jsxs("p",{className:"text-lg font-bold text-white",children:[t," ",r]})]})]}),b3=({day:n,icon:e,temp:t,delay:r})=>b.jsxs(Nt.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5,delay:r},className:"flex flex-col items-center space-y-2 bg-[#2a2a2a]/50 p-4 rounded-lg backdrop-blur-sm",children:[b.jsx("p",{className:"font-bold text-white",children:n}),b.jsx("div",{className:"text-3xl",children:e}),b.jsxs("p",{className:"text-lg text-white",children:[t,"C"]})]}),k3=()=>{const n=Lu();return b.jsxs("div",{className:"min-h-screen p-4 sm:p-6 lg:p-8 bg-gradient-to-br from-[#121212] via-[#1a1a1a] to-[#121212]",children:[b.jsx(Nt.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:b.jsxs(qn,{onClick:()=>n("/"),variant:"ghost",className:"mb-6 text-[#e0e0e0] hover:text-white hover:bg-[#2a2a2a]",children:[b.jsx(Xg,{className:"mr-2 h-4 w-4"})," Back to Projects"]})}),b.jsxs("div",{className:"max-w-4xl mx-auto",children:[b.jsx(Nt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"bg-[#1e1e1e]/70 border border-[#2a2a2a] rounded-xl shadow-2xl shadow-black/30 p-6 sm:p-8 mb-8 backdrop-blur-xl",children:b.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-6",children:[b.jsxs("div",{className:"flex-1",children:[b.jsxs("div",{className:"flex items-center space-x-2 text-[#00ff88] mb-2",children:[b.jsx(W2,{className:"h-5 w-5"}),b.jsx("h1",{className:"text-3xl font-bold text-white",children:br.city})]}),b.jsxs("p",{className:"text-6xl font-extrabold text-white",children:[br.temperature,"C"]}),b.jsx("p",{className:"text-xl text-[#b0b0b0] mt-1",children:br.condition})]}),b.jsx(Nt.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.7,delay:.3,type:"spring",stiffness:120},children:kE[br.condition]})]})}),b.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[b.jsx(xh,{icon:b.jsx(q2,{className:"h-6 w-6"}),label:"High / Low",value:`${br.high} / ${br.low}`,unit:"C",delay:.3}),b.jsx(xh,{icon:b.jsx(Q2,{className:"h-6 w-6"}),label:"Wind",value:br.wind,unit:"km/h",delay:.4}),b.jsx(xh,{icon:b.jsx(j2,{className:"h-6 w-6"}),label:"Humidity",value:br.humidity,unit:"%",delay:.5}),b.jsx(xh,{icon:b.jsx(wS,{className:"h-6 w-6"}),label:"Condition",value:br.condition,unit:"",delay:.6})]}),b.jsx(Nt.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.7},className:"text-2xl font-bold text-white mb-4",children:"5-Day Forecast"}),b.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-4",children:br.forecast.map((e,t)=>b.jsx(b3,{day:e.day,icon:lt.cloneElement(kE[e.condition],{className:"h-10 w-10"}),temp:e.temp,delay:.8+t*.1},e.day))})]})]})};function Ky(n,e=[]){let t=[];function r(a,l){const c=P.createContext(l),d=t.length;t=[...t,l];const p=y=>{const{scope:w,children:I,...k}=y,x=w?.[n]?.[d]||c,A=P.useMemo(()=>k,Object.values(k));return b.jsx(x.Provider,{value:A,children:I})};p.displayName=a+"Provider";function g(y,w){const I=w?.[n]?.[d]||c,k=P.useContext(I);if(k)return k;if(l!==void 0)return l;throw new Error(`\`${y}\` must be used within \`${a}\``)}return[p,g]}const s=()=>{const a=t.map(l=>P.createContext(l));return function(c){const d=c?.[n]||a;return P.useMemo(()=>({[`__scope${n}`]:{...c,[n]:d}}),[c,d])}};return s.scopeName=n,[r,N3(s,...e)]}function N3(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const l=r.reduce((c,{useScope:d,scopeName:p})=>{const y=d(a)[`__scope${p}`];return{...c,...y}},{});return P.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return t.scopeName=e.scopeName,t}function un(n,e,{checkForDefaultPrevented:t=!0}={}){return function(s){if(n?.(s),t===!1||!s.defaultPrevented)return e?.(s)}}var qa=globalThis?.document?P.useLayoutEffect:()=>{},D3=OE[" useInsertionEffect ".trim().toString()]||qa;function xA({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[s,a,l]=V3({defaultProp:e,onChange:t}),c=n!==void 0,d=c?n:s;{const g=P.useRef(n!==void 0);P.useEffect(()=>{const y=g.current;y!==c&&console.warn(`${r} is changing from ${y?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=c},[c,r])}const p=P.useCallback(g=>{if(c){const y=O3(g)?g(n):g;y!==n&&l.current?.(y)}else a(g)},[c,n,a,l]);return[d,p]}function V3({defaultProp:n,onChange:e}){const[t,r]=P.useState(n),s=P.useRef(t),a=P.useRef(e);return D3(()=>{a.current=e},[e]),P.useEffect(()=>{s.current!==t&&(a.current?.(t),s.current=t)},[t,s]),[t,r,a]}function O3(n){return typeof n=="function"}function M3(n){const e=P.useRef({value:n,previous:n});return P.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}function L3(n){const[e,t]=P.useState(void 0);return qa(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let l,c;if("borderBoxSize"in a){const d=a.borderBoxSize,p=Array.isArray(d)?d[0]:d;l=p.inlineSize,c=p.blockSize}else l=n.offsetWidth,c=n.offsetHeight;t({width:l,height:c})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}function F3(n,e){return P.useReducer((t,r)=>e[t][r]??t,n)}var Qy=n=>{const{present:e,children:t}=n,r=j3(e),s=typeof t=="function"?t({present:r.isPresent}):P.Children.only(t),a=pi(r.ref,U3(s));return typeof t=="function"||r.isPresent?P.cloneElement(s,{ref:a}):null};Qy.displayName="Presence";function j3(n){const[e,t]=P.useState(),r=P.useRef(null),s=P.useRef(n),a=P.useRef("none"),l=n?"mounted":"unmounted",[c,d]=F3(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return P.useEffect(()=>{const p=Rh(r.current);a.current=c==="mounted"?p:"none"},[c]),qa(()=>{const p=r.current,g=s.current;if(g!==n){const w=a.current,I=Rh(p);n?d("MOUNT"):I==="none"||p?.display==="none"?d("UNMOUNT"):d(g&&w!==I?"ANIMATION_OUT":"UNMOUNT"),s.current=n}},[n,d]),qa(()=>{if(e){let p;const g=e.ownerDocument.defaultView??window,y=I=>{const x=Rh(r.current).includes(CSS.escape(I.animationName));if(I.target===e&&x&&(d("ANIMATION_END"),!s.current)){const A=e.style.animationFillMode;e.style.animationFillMode="forwards",p=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=A)})}},w=I=>{I.target===e&&(a.current=Rh(r.current))};return e.addEventListener("animationstart",w),e.addEventListener("animationcancel",y),e.addEventListener("animationend",y),()=>{g.clearTimeout(p),e.removeEventListener("animationstart",w),e.removeEventListener("animationcancel",y),e.removeEventListener("animationend",y)}}else d("ANIMATION_END")},[e,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:P.useCallback(p=>{r.current=p?getComputedStyle(p):null,t(p)},[])}}function Rh(n){return n?.animationName||"none"}function U3(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var af="Checkbox",[B3]=Ky(af),[z3,Yy]=B3(af);function $3(n){const{__scopeCheckbox:e,checked:t,children:r,defaultChecked:s,disabled:a,form:l,name:c,onCheckedChange:d,required:p,value:g="on",internal_do_not_use_render:y}=n,[w,I]=xA({prop:t,defaultProp:s??!1,onChange:d,caller:af}),[k,x]=P.useState(null),[A,$]=P.useState(null),U=P.useRef(!1),B=k?!!l||!!k.closest("form"):!0,Q={checked:w,disabled:a,setChecked:I,control:k,setControl:x,name:c,form:l,value:g,hasConsumerStoppedPropagationRef:U,required:p,defaultChecked:ds(s)?!1:s,isFormControl:B,bubbleInput:A,setBubbleInput:$};return b.jsx(z3,{scope:e,...Q,children:W3(y)?y(Q):r})}var RA="CheckboxTrigger",bA=P.forwardRef(({__scopeCheckbox:n,onKeyDown:e,onClick:t,...r},s)=>{const{control:a,value:l,disabled:c,checked:d,required:p,setControl:g,setChecked:y,hasConsumerStoppedPropagationRef:w,isFormControl:I,bubbleInput:k}=Yy(RA,n),x=pi(s,g),A=P.useRef(d);return P.useEffect(()=>{const $=a?.form;if($){const U=()=>y(A.current);return $.addEventListener("reset",U),()=>$.removeEventListener("reset",U)}},[a,y]),b.jsx(Tn.button,{type:"button",role:"checkbox","aria-checked":ds(d)?"mixed":d,"aria-required":p,"data-state":OA(d),"data-disabled":c?"":void 0,disabled:c,value:l,...r,ref:x,onKeyDown:un(e,$=>{$.key==="Enter"&&$.preventDefault()}),onClick:un(t,$=>{y(U=>ds(U)?!0:!U),k&&I&&(w.current=$.isPropagationStopped(),w.current||$.stopPropagation())})})});bA.displayName=RA;var Xy=P.forwardRef((n,e)=>{const{__scopeCheckbox:t,name:r,checked:s,defaultChecked:a,required:l,disabled:c,value:d,onCheckedChange:p,form:g,...y}=n;return b.jsx($3,{__scopeCheckbox:t,checked:s,defaultChecked:a,disabled:c,required:l,onCheckedChange:p,name:r,form:g,value:d,internal_do_not_use_render:({isFormControl:w})=>b.jsxs(b.Fragment,{children:[b.jsx(bA,{...y,ref:e,__scopeCheckbox:t}),w&&b.jsx(VA,{__scopeCheckbox:t})]})})});Xy.displayName=af;var kA="CheckboxIndicator",NA=P.forwardRef((n,e)=>{const{__scopeCheckbox:t,forceMount:r,...s}=n,a=Yy(kA,t);return b.jsx(Qy,{present:r||ds(a.checked)||a.checked===!0,children:b.jsx(Tn.span,{"data-state":OA(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...n.style}})})});NA.displayName=kA;var DA="CheckboxBubbleInput",VA=P.forwardRef(({__scopeCheckbox:n,...e},t)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:a,defaultChecked:l,required:c,disabled:d,name:p,value:g,form:y,bubbleInput:w,setBubbleInput:I}=Yy(DA,n),k=pi(t,I),x=M3(a),A=L3(r);P.useEffect(()=>{const U=w;if(!U)return;const B=window.HTMLInputElement.prototype,te=Object.getOwnPropertyDescriptor(B,"checked").set,se=!s.current;if(x!==a&&te){const N=new Event("click",{bubbles:se});U.indeterminate=ds(a),te.call(U,ds(a)?!1:a),U.dispatchEvent(N)}},[w,x,a,s]);const $=P.useRef(ds(a)?!1:a);return b.jsx(Tn.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??$.current,required:c,disabled:d,name:p,value:g,form:y,...e,tabIndex:-1,ref:k,style:{...e.style,...A,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});VA.displayName=DA;function W3(n){return typeof n=="function"}function ds(n){return n==="indeterminate"}function OA(n){return ds(n)?"indeterminate":n?"checked":"unchecked"}const MA=P.forwardRef(({className:n,...e},t)=>b.jsx(Xy,{ref:t,className:Ht("peer h-5 w-5 shrink-0 rounded-sm border border-[#4a4a4a] ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#00ff88] focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-[#00ff88] data-[state=checked]:text-black data-[state=checked]:border-[#00ff88]",n),...e,children:b.jsx(NA,{className:Ht("flex items-center justify-center text-current"),children:b.jsx(V2,{className:"h-4 w-4"})})}));MA.displayName=Xy.displayName;const Id=P.forwardRef(({className:n,...e},t)=>b.jsx("div",{ref:t,className:Ht("rounded-xl border border-[#2a2a2a] bg-[#1e1e1e]/70 text-card-foreground shadow-lg backdrop-blur-xl",n),...e}));Id.displayName="Card";const Sd=P.forwardRef(({className:n,...e},t)=>b.jsx("div",{ref:t,className:Ht("flex flex-col space-y-1.5 p-6",n),...e}));Sd.displayName="CardHeader";const Cd=P.forwardRef(({className:n,...e},t)=>b.jsx("h3",{ref:t,className:Ht("text-2xl font-semibold leading-none tracking-tight text-white",n),...e}));Cd.displayName="CardTitle";const H3=P.forwardRef(({className:n,...e},t)=>b.jsx("p",{ref:t,className:Ht("text-sm text-[#b0b0b0]",n),...e}));H3.displayName="CardDescription";const Ad=P.forwardRef(({className:n,...e},t)=>b.jsx("div",{ref:t,className:Ht("p-6 pt-0",n),...e}));Ad.displayName="CardContent";const q3=P.forwardRef(({className:n,...e},t)=>b.jsx("div",{ref:t,className:Ht("flex items-center p-6 pt-0",n),...e}));q3.displayName="CardFooter";const G3=({task:n,onToggle:e,onDelete:t,index:r})=>b.jsxs(Nt.li,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,x:-50},transition:{duration:.3,delay:r*.05},className:"flex items-center space-x-4 bg-[#2a2a2a]/50 p-3 rounded-lg border border-transparent hover:border-[#00ff88]/30",children:[b.jsx(MA,{id:`task-${n.id}`,checked:n.completed,onCheckedChange:()=>e(n.id),className:"h-6 w-6"}),b.jsx("label",{htmlFor:`task-${n.id}`,className:`flex-1 text-sm font-medium cursor-pointer ${n.completed?"line-through text-[#888]":"text-white"}`,children:n.text}),b.jsx(qn,{variant:"ghost",size:"icon",onClick:()=>t(n.id),className:"text-[#888] hover:text-red-500 h-8 w-8",children:b.jsx(TS,{className:"h-4 w-4"})})]}),K3=()=>{const[n,e]=P.useState([]),[t,r]=P.useState(""),s=Lu(),{toast:a}=Ld();P.useEffect(()=>{try{const y=localStorage.getItem("tasks");y&&e(JSON.parse(y))}catch(y){console.error("Failed to parse tasks from localStorage",y),e([])}},[]),P.useEffect(()=>{localStorage.setItem("tasks",JSON.stringify(n))},[n]);const l=y=>{if(y.preventDefault(),t.trim()===""){a({title:"Oops!",description:"Task cannot be empty.",variant:"destructive",className:"bg-red-800 text-white border-red-600"});return}const w={id:Date.now(),text:t,completed:!1};e([w,...n]),r(""),a({title:"Success!",description:"New task has been added.",className:"bg-[#1e1e1e] text-white border-[#00ff88]"})},c=y=>{e(n.map(w=>w.id===y?{...w,completed:!w.completed}:w))},d=y=>{e(n.filter(w=>w.id!==y)),a({title:"Task Removed",description:"The task has been successfully deleted.",className:"bg-[#1e1e1e] text-white border-[#00ff88]"})},p=n.filter(y=>y.completed).length,g=n.length-p;return b.jsxs("div",{className:"min-h-screen p-4 sm:p-6 lg:p-8 bg-gradient-to-br from-[#121212] via-[#1a1a1a] to-[#121212]",children:[b.jsx(Nt.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:b.jsxs(qn,{onClick:()=>s("/"),variant:"ghost",className:"mb-6 text-[#e0e0e0] hover:text-white hover:bg-[#2a2a2a]",children:[b.jsx(Xg,{className:"mr-2 h-4 w-4"})," Back to Projects"]})}),b.jsx("main",{className:"max-w-2xl mx-auto",children:b.jsx(Nt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:b.jsxs(Id,{children:[b.jsx(Sd,{className:"text-center",children:b.jsxs("div",{className:"flex justify-center items-center gap-3",children:[b.jsx(B2,{className:"h-8 w-8 text-[#00ff88]"}),b.jsx(Cd,{className:"text-3xl",children:"Task Manager"})]})}),b.jsxs(Ad,{children:[b.jsxs("form",{onSubmit:l,className:"flex gap-2 mb-6",children:[b.jsx(Cu,{type:"text",value:t,onChange:y=>r(y.target.value),placeholder:"Add a new task...",className:"flex-grow"}),b.jsxs(qn,{type:"submit",className:"bg-[#00ff88] hover:bg-[#00dd77] text-[#121212] font-semibold",children:[b.jsx(H2,{className:"h-4 w-4 mr-2"})," Add"]})]}),b.jsxs("div",{className:"flex justify-around mb-6 text-sm",children:[b.jsxs("div",{className:"flex items-center gap-2 text-yellow-400",children:[b.jsx(O2,{className:"h-4 w-4"}),b.jsxs("span",{children:[g," Pending"]})]}),b.jsxs("div",{className:"flex items-center gap-2 text-green-400",children:[b.jsx(D2,{className:"h-4 w-4"}),b.jsxs("span",{children:[p," Completed"]})]})]}),b.jsx(b2,{children:n.length>0?b.jsx("ul",{className:"space-y-3",children:n.map((y,w)=>b.jsx(G3,{task:y,onToggle:c,onDelete:d,index:w},y.id))}):b.jsx(Nt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-10 text-[#888]",children:b.jsx("p",{children:"No tasks yet. Add one to get started!"})})})]})]})})})]})},Q3=({currentUser:n})=>{const[e,t]=P.useState([]),[r,s]=P.useState(""),[a,l]=P.useState(!0),[c,d]=P.useState(!1);P.useEffect(()=>{(async()=>{if(!n){l(!1);return}try{l(!0);const w=y3(CE(wm,"worries"),v3("userId","==",n.uid)),k=(await I3(w)).docs.map(x=>({id:x.id,...x.data()}));t(k)}catch(w){console.error("Error fetching worries: ",w)}finally{l(!1)}})()},[n]);const p=async y=>{if(y.preventDefault(),r.trim()!==""){d(!0);try{const w=await C3(CE(wm,"worries"),{text:r,userId:n.uid,createdAt:new Date});t([...e,{id:w.id,text:r}]),s("")}catch(w){console.error("Error adding worry: ",w)}finally{d(!1)}}},g=async y=>{try{await S3(gA(wm,"worries",y)),t(e.filter(w=>w.id!==y))}catch(w){console.error("Error deleting worry: ",w)}};return a?b.jsx("div",{className:"min-h-screen bg-[#121212] flex items-center justify-center",children:b.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-[#00ff88] to-[#00cc6a] animate-spin"})}):b.jsxs("div",{className:"min-h-screen p-8 relative overflow-hidden",children:[b.jsx("div",{className:"absolute top-8 left-8",children:b.jsx(RR,{to:"/",children:b.jsxs(qn,{className:"bg-transparent text-[#00ff88] hover:bg-[#1a1a1a] border border-[#333] transition-colors duration-300",children:[b.jsx(Xg,{className:"h-4 w-4 mr-2"}),"Back to Projects"]})})}),b.jsxs(Nt.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},className:"max-w-xl mx-auto space-y-8",children:[b.jsxs("div",{className:"text-center",children:[b.jsx("h1",{className:"text-4xl md:text-5xl font-bold tracking-tight text-[#00ff88]",children:"Worry Tree"}),b.jsx("p",{className:"text-[#a0a0a0] mt-2",children:"Write down your worries to deal with them later."})]}),b.jsxs(Id,{className:"bg-[#1e1e1e] border border-[#2a2a2a] shadow-lg",children:[b.jsx(Sd,{children:b.jsx(Cd,{className:"text-white",children:"Add a New Worry"})}),b.jsx(Ad,{children:b.jsxs("form",{onSubmit:p,className:"flex space-x-2",children:[b.jsx(Cu,{type:"text",value:r,onChange:y=>s(y.target.value),placeholder:"Write your worry here...",className:"flex-1 bg-[#121212] text-white border-none focus:ring-1 focus:ring-[#00ff88]"}),b.jsx(qn,{type:"submit",disabled:c,className:"bg-[#00ff88] text-[#121212] hover:bg-[#00dd77]",children:c?b.jsx($m,{className:"h-5 w-5 animate-spin"}):"Add"})]})})]}),b.jsxs(Id,{className:"bg-[#1e1e1e] border border-[#2a2a2a] shadow-lg",children:[b.jsx(Sd,{children:b.jsx(Cd,{className:"text-white",children:"Your Worries"})}),b.jsx(Ad,{children:e.length===0?b.jsx("p",{className:"text-[#a0a0a0] text-center",children:"No worries saved. Add one above!"}):b.jsx("ul",{className:"space-y-4",children:e.map(y=>b.jsxs(Nt.li,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4},className:"flex items-center justify-between p-4 bg-[#2a2a2a] rounded-lg shadow-sm transition-all duration-200 hover:bg-[#3a3a3a]",children:[b.jsx("span",{className:"text-white",children:y.text}),b.jsx(qn,{variant:"ghost",size:"icon",onClick:()=>g(y.id),className:"text-[#a0a0a0] hover:text-red-500 transition-colors duration-200",children:b.jsx(TS,{className:"h-4 w-4"})})]},y.id))})})]})]})]})};function Y3(n){const e=n+"CollectionProvider",[t,r]=Ky(e),[s,a]=t(e,{collectionRef:{current:null},itemMap:new Map}),l=x=>{const{scope:A,children:$}=x,U=lt.useRef(null),B=lt.useRef(new Map).current;return b.jsx(s,{scope:A,itemMap:B,collectionRef:U,children:$})};l.displayName=e;const c=n+"CollectionSlot",d=ed(c),p=lt.forwardRef((x,A)=>{const{scope:$,children:U}=x,B=a(c,$),Q=pi(A,B.collectionRef);return b.jsx(d,{ref:Q,children:U})});p.displayName=c;const g=n+"CollectionItemSlot",y="data-radix-collection-item",w=ed(g),I=lt.forwardRef((x,A)=>{const{scope:$,children:U,...B}=x,Q=lt.useRef(null),te=pi(A,Q),se=a(g,$);return lt.useEffect(()=>(se.itemMap.set(Q,{ref:Q,...B}),()=>void se.itemMap.delete(Q))),b.jsx(w,{[y]:"",ref:te,children:U})});I.displayName=g;function k(x){const A=a(n+"CollectionConsumer",x);return lt.useCallback(()=>{const U=A.collectionRef.current;if(!U)return[];const B=Array.from(U.querySelectorAll(`[${y}]`));return Array.from(A.itemMap.values()).sort((se,N)=>B.indexOf(se.ref.current)-B.indexOf(N.ref.current))},[A.collectionRef,A.itemMap])}return[{Provider:l,Slot:p,ItemSlot:I},k,r]}function _o(n){const e=P.useRef(n);return P.useEffect(()=>{e.current=n}),P.useMemo(()=>(...t)=>e.current?.(...t),[])}function X3(n,e=globalThis?.document){const t=_o(n);P.useEffect(()=>{const r=s=>{s.key==="Escape"&&t(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var J3="DismissableLayer",wg="dismissableLayer.update",Z3="dismissableLayer.pointerDownOutside",e9="dismissableLayer.focusOutside",NE,LA=P.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),FA=P.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:l,onDismiss:c,...d}=n,p=P.useContext(LA),[g,y]=P.useState(null),w=g?.ownerDocument??globalThis?.document,[,I]=P.useState({}),k=pi(e,N=>y(N)),x=Array.from(p.layers),[A]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),$=x.indexOf(A),U=g?x.indexOf(g):-1,B=p.layersWithOutsidePointerEventsDisabled.size>0,Q=U>=$,te=n9(N=>{const C=N.target,R=[...p.branches].some(M=>M.contains(C));!Q||R||(s?.(N),l?.(N),N.defaultPrevented||c?.())},w),se=r9(N=>{const C=N.target;[...p.branches].some(M=>M.contains(C))||(a?.(N),l?.(N),N.defaultPrevented||c?.())},w);return X3(N=>{U===p.layers.size-1&&(r?.(N),!N.defaultPrevented&&c&&(N.preventDefault(),c()))},w),P.useEffect(()=>{if(g)return t&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(NE=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(g)),p.layers.add(g),DE(),()=>{t&&p.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=NE)}},[g,w,t,p]),P.useEffect(()=>()=>{g&&(p.layers.delete(g),p.layersWithOutsidePointerEventsDisabled.delete(g),DE())},[g,p]),P.useEffect(()=>{const N=()=>I({});return document.addEventListener(wg,N),()=>document.removeEventListener(wg,N)},[]),b.jsx(Tn.div,{...d,ref:k,style:{pointerEvents:B?Q?"auto":"none":void 0,...n.style},onFocusCapture:un(n.onFocusCapture,se.onFocusCapture),onBlurCapture:un(n.onBlurCapture,se.onBlurCapture),onPointerDownCapture:un(n.onPointerDownCapture,te.onPointerDownCapture)})});FA.displayName=J3;var t9="DismissableLayerBranch",jA=P.forwardRef((n,e)=>{const t=P.useContext(LA),r=P.useRef(null),s=pi(e,r);return P.useEffect(()=>{const a=r.current;if(a)return t.branches.add(a),()=>{t.branches.delete(a)}},[t.branches]),b.jsx(Tn.div,{...n,ref:s})});jA.displayName=t9;function n9(n,e=globalThis?.document){const t=_o(n),r=P.useRef(!1),s=P.useRef(()=>{});return P.useEffect(()=>{const a=c=>{if(c.target&&!r.current){let d=function(){UA(Z3,t,p,{discrete:!0})};const p={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=d,e.addEventListener("click",s.current,{once:!0})):d()}else e.removeEventListener("click",s.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",a),e.removeEventListener("click",s.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function r9(n,e=globalThis?.document){const t=_o(n),r=P.useRef(!1);return P.useEffect(()=>{const s=a=>{a.target&&!r.current&&UA(e9,t,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function DE(){const n=new CustomEvent(wg);document.dispatchEvent(n)}function UA(n,e,t,{discrete:r}){const s=t.originalEvent.target,a=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&s.addEventListener(n,e,{once:!0}),r?bS(s,a):s.dispatchEvent(a)}var i9=FA,s9=jA,o9="Portal",BA=P.forwardRef((n,e)=>{const{container:t,...r}=n,[s,a]=P.useState(!1);qa(()=>a(!0),[]);const l=t||s&&globalThis?.document?.body;return l?xx.createPortal(b.jsx(Tn.div,{...r,ref:e}),l):null});BA.displayName=o9;var a9=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),l9="VisuallyHidden",Jy=P.forwardRef((n,e)=>b.jsx(Tn.span,{...n,ref:e,style:{...a9,...n.style}}));Jy.displayName=l9;var Zy="ToastProvider",[ev,u9,c9]=Y3("Toast"),[zA]=Ky("Toast",[c9]),[h9,lf]=zA(Zy),$A=n=>{const{__scopeToast:e,label:t="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:a=50,children:l}=n,[c,d]=P.useState(null),[p,g]=P.useState(0),y=P.useRef(!1),w=P.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${Zy}\`. Expected non-empty \`string\`.`),b.jsx(ev.Provider,{scope:e,children:b.jsx(h9,{scope:e,label:t,duration:r,swipeDirection:s,swipeThreshold:a,toastCount:p,viewport:c,onViewportChange:d,onToastAdd:P.useCallback(()=>g(I=>I+1),[]),onToastRemove:P.useCallback(()=>g(I=>I-1),[]),isFocusedToastEscapeKeyDownRef:y,isClosePausedRef:w,children:l})})};$A.displayName=Zy;var WA="ToastViewport",d9=["F8"],Tg="toast.viewportPause",Eg="toast.viewportResume",HA=P.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:r=d9,label:s="Notifications ({hotkey})",...a}=n,l=lf(WA,t),c=u9(t),d=P.useRef(null),p=P.useRef(null),g=P.useRef(null),y=P.useRef(null),w=pi(e,y,l.onViewportChange),I=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),k=l.toastCount>0;P.useEffect(()=>{const A=$=>{r.length!==0&&r.every(B=>$[B]||$.code===B)&&y.current?.focus()};return document.addEventListener("keydown",A),()=>document.removeEventListener("keydown",A)},[r]),P.useEffect(()=>{const A=d.current,$=y.current;if(k&&A&&$){const U=()=>{if(!l.isClosePausedRef.current){const se=new CustomEvent(Tg);$.dispatchEvent(se),l.isClosePausedRef.current=!0}},B=()=>{if(l.isClosePausedRef.current){const se=new CustomEvent(Eg);$.dispatchEvent(se),l.isClosePausedRef.current=!1}},Q=se=>{!A.contains(se.relatedTarget)&&B()},te=()=>{A.contains(document.activeElement)||B()};return A.addEventListener("focusin",U),A.addEventListener("focusout",Q),A.addEventListener("pointermove",U),A.addEventListener("pointerleave",te),window.addEventListener("blur",U),window.addEventListener("focus",B),()=>{A.removeEventListener("focusin",U),A.removeEventListener("focusout",Q),A.removeEventListener("pointermove",U),A.removeEventListener("pointerleave",te),window.removeEventListener("blur",U),window.removeEventListener("focus",B)}}},[k,l.isClosePausedRef]);const x=P.useCallback(({tabbingDirection:A})=>{const U=c().map(B=>{const Q=B.ref.current,te=[Q,...C9(Q)];return A==="forwards"?te:te.reverse()});return(A==="forwards"?U.reverse():U).flat()},[c]);return P.useEffect(()=>{const A=y.current;if(A){const $=U=>{const B=U.altKey||U.ctrlKey||U.metaKey;if(U.key==="Tab"&&!B){const te=document.activeElement,se=U.shiftKey;if(U.target===A&&se){p.current?.focus();return}const R=x({tabbingDirection:se?"backwards":"forwards"}),M=R.findIndex(O=>O===te);Tm(R.slice(M+1))?U.preventDefault():se?p.current?.focus():g.current?.focus()}};return A.addEventListener("keydown",$),()=>A.removeEventListener("keydown",$)}},[c,x]),b.jsxs(s9,{ref:d,role:"region","aria-label":s.replace("{hotkey}",I),tabIndex:-1,style:{pointerEvents:k?void 0:"none"},children:[k&&b.jsx(Ig,{ref:p,onFocusFromOutsideViewport:()=>{const A=x({tabbingDirection:"forwards"});Tm(A)}}),b.jsx(ev.Slot,{scope:t,children:b.jsx(Tn.ol,{tabIndex:-1,...a,ref:w})}),k&&b.jsx(Ig,{ref:g,onFocusFromOutsideViewport:()=>{const A=x({tabbingDirection:"backwards"});Tm(A)}})]})});HA.displayName=WA;var qA="ToastFocusProxy",Ig=P.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:r,...s}=n,a=lf(qA,t);return b.jsx(Jy,{tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:l=>{const c=l.relatedTarget;!a.viewport?.contains(c)&&r()}})});Ig.displayName=qA;var Zu="Toast",f9="toast.swipeStart",p9="toast.swipeMove",m9="toast.swipeCancel",g9="toast.swipeEnd",GA=P.forwardRef((n,e)=>{const{forceMount:t,open:r,defaultOpen:s,onOpenChange:a,...l}=n,[c,d]=xA({prop:r,defaultProp:s??!0,onChange:a,caller:Zu});return b.jsx(Qy,{present:t||c,children:b.jsx(_9,{open:c,...l,ref:e,onClose:()=>d(!1),onPause:_o(n.onPause),onResume:_o(n.onResume),onSwipeStart:un(n.onSwipeStart,p=>{p.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:un(n.onSwipeMove,p=>{const{x:g,y}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","move"),p.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${g}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${y}px`)}),onSwipeCancel:un(n.onSwipeCancel,p=>{p.currentTarget.setAttribute("data-swipe","cancel"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:un(n.onSwipeEnd,p=>{const{x:g,y}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","end"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${g}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${y}px`),d(!1)})})})});GA.displayName=Zu;var[y9,v9]=zA(Zu,{onClose(){}}),_9=P.forwardRef((n,e)=>{const{__scopeToast:t,type:r="foreground",duration:s,open:a,onClose:l,onEscapeKeyDown:c,onPause:d,onResume:p,onSwipeStart:g,onSwipeMove:y,onSwipeCancel:w,onSwipeEnd:I,...k}=n,x=lf(Zu,t),[A,$]=P.useState(null),U=pi(e,ae=>$(ae)),B=P.useRef(null),Q=P.useRef(null),te=s||x.duration,se=P.useRef(0),N=P.useRef(te),C=P.useRef(0),{onToastAdd:R,onToastRemove:M}=x,O=_o(()=>{A?.contains(document.activeElement)&&x.viewport?.focus(),l()}),L=P.useCallback(ae=>{!ae||ae===1/0||(window.clearTimeout(C.current),se.current=new Date().getTime(),C.current=window.setTimeout(O,ae))},[O]);P.useEffect(()=>{const ae=x.viewport;if(ae){const Ve=()=>{L(N.current),p?.()},Se=()=>{const ke=new Date().getTime()-se.current;N.current=N.current-ke,window.clearTimeout(C.current),d?.()};return ae.addEventListener(Tg,Se),ae.addEventListener(Eg,Ve),()=>{ae.removeEventListener(Tg,Se),ae.removeEventListener(Eg,Ve)}}},[x.viewport,te,d,p,L]),P.useEffect(()=>{a&&!x.isClosePausedRef.current&&L(te)},[a,te,x.isClosePausedRef,L]),P.useEffect(()=>(R(),()=>M()),[R,M]);const D=P.useMemo(()=>A?eP(A):null,[A]);return x.viewport?b.jsxs(b.Fragment,{children:[D&&b.jsx(w9,{__scopeToast:t,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:D}),b.jsx(y9,{scope:t,onClose:O,children:Sg.createPortal(b.jsx(ev.ItemSlot,{scope:t,children:b.jsx(i9,{asChild:!0,onEscapeKeyDown:un(c,()=>{x.isFocusedToastEscapeKeyDownRef.current||O(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:b.jsx(Tn.li,{tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":x.swipeDirection,...k,ref:U,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:un(n.onKeyDown,ae=>{ae.key==="Escape"&&(c?.(ae.nativeEvent),ae.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:un(n.onPointerDown,ae=>{ae.button===0&&(B.current={x:ae.clientX,y:ae.clientY})}),onPointerMove:un(n.onPointerMove,ae=>{if(!B.current)return;const Ve=ae.clientX-B.current.x,Se=ae.clientY-B.current.y,ke=!!Q.current,re=["left","right"].includes(x.swipeDirection),ue=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,le=re?ue(0,Ve):0,j=re?0:ue(0,Se),Y=ae.pointerType==="touch"?10:2,pe={x:le,y:j},Ce={originalEvent:ae,delta:pe};ke?(Q.current=pe,bh(p9,y,Ce,{discrete:!1})):VE(pe,x.swipeDirection,Y)?(Q.current=pe,bh(f9,g,Ce,{discrete:!1}),ae.target.setPointerCapture(ae.pointerId)):(Math.abs(Ve)>Y||Math.abs(Se)>Y)&&(B.current=null)}),onPointerUp:un(n.onPointerUp,ae=>{const Ve=Q.current,Se=ae.target;if(Se.hasPointerCapture(ae.pointerId)&&Se.releasePointerCapture(ae.pointerId),Q.current=null,B.current=null,Ve){const ke=ae.currentTarget,re={originalEvent:ae,delta:Ve};VE(Ve,x.swipeDirection,x.swipeThreshold)?bh(g9,I,re,{discrete:!0}):bh(m9,w,re,{discrete:!0}),ke.addEventListener("click",ue=>ue.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),w9=n=>{const{__scopeToast:e,children:t,...r}=n,s=lf(Zu,e),[a,l]=P.useState(!1),[c,d]=P.useState(!1);return I9(()=>l(!0)),P.useEffect(()=>{const p=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(p)},[]),c?null:b.jsx(BA,{asChild:!0,children:b.jsx(Jy,{...r,children:a&&b.jsxs(b.Fragment,{children:[s.label," ",t]})})})},T9="ToastTitle",KA=P.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return b.jsx(Tn.div,{...r,ref:e})});KA.displayName=T9;var E9="ToastDescription",QA=P.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return b.jsx(Tn.div,{...r,ref:e})});QA.displayName=E9;var YA="ToastAction",XA=P.forwardRef((n,e)=>{const{altText:t,...r}=n;return t.trim()?b.jsx(ZA,{altText:t,asChild:!0,children:b.jsx(tv,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${YA}\`. Expected non-empty \`string\`.`),null)});XA.displayName=YA;var JA="ToastClose",tv=P.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n,s=v9(JA,t);return b.jsx(ZA,{asChild:!0,children:b.jsx(Tn.button,{type:"button",...r,ref:e,onClick:un(n.onClick,s.onClose)})})});tv.displayName=JA;var ZA=P.forwardRef((n,e)=>{const{__scopeToast:t,altText:r,...s}=n;return b.jsx(Tn.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function eP(n){const e=[];return Array.from(n.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),S9(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!s)if(a){const l=r.dataset.radixToastAnnounceAlt;l&&e.push(l)}else e.push(...eP(r))}}),e}function bh(n,e,t,{discrete:r}){const s=t.originalEvent.currentTarget,a=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&s.addEventListener(n,e,{once:!0}),r?bS(s,a):s.dispatchEvent(a)}var VE=(n,e,t=0)=>{const r=Math.abs(n.x),s=Math.abs(n.y),a=r>s;return e==="left"||e==="right"?a&&r>t:!a&&s>t};function I9(n=()=>{}){const e=_o(n);qa(()=>{let t=0,r=0;return t=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(r)}},[e])}function S9(n){return n.nodeType===n.ELEMENT_NODE}function C9(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function Tm(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var A9=$A,tP=HA,nP=GA,rP=KA,iP=QA,sP=XA,oP=tv;const P9=A9,aP=lt.forwardRef(({className:n,...e},t)=>b.jsx(tP,{ref:t,className:Ht("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));aP.displayName=tP.displayName;const x9=Zg("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),lP=lt.forwardRef(({className:n,variant:e,...t},r)=>b.jsx(nP,{ref:r,className:Ht(x9({variant:e}),n),...t}));lP.displayName=nP.displayName;const R9=lt.forwardRef(({className:n,...e},t)=>b.jsx(sP,{ref:t,className:Ht("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",n),...e}));R9.displayName=sP.displayName;const uP=lt.forwardRef(({className:n,...e},t)=>b.jsx(oP,{ref:t,className:Ht("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:b.jsx(Y2,{className:"h-4 w-4"})}));uP.displayName=oP.displayName;const cP=lt.forwardRef(({className:n,...e},t)=>b.jsx(rP,{ref:t,className:Ht("text-sm font-semibold",n),...e}));cP.displayName=rP.displayName;const hP=lt.forwardRef(({className:n,...e},t)=>b.jsx(iP,{ref:t,className:Ht("text-sm opacity-90",n),...e}));hP.displayName=iP.displayName;function b9(){const{toasts:n}=Ld();return b.jsxs(P9,{children:[n.map(({id:e,title:t,description:r,action:s,...a})=>b.jsxs(lP,{...a,children:[b.jsxs("div",{className:"grid gap-1",children:[t&&b.jsx(cP,{children:t}),r&&b.jsx(hP,{children:r})]}),s,b.jsx(uP,{})]},e)),b.jsx(aP,{})]})}const kh=({currentUser:n,children:e})=>n?e:b.jsx(Im,{to:"/login",replace:!0});function k9(){const[n,e]=P.useState(null),[t,r]=P.useState(!0);P.useEffect(()=>EL(La,l=>{e(l),r(!1)}),[]);const s=()=>{La.signOut()};return t?b.jsx("div",{className:"min-h-screen bg-[#121212] flex items-center justify-center",children:b.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-[#00ff88] to-[#00cc6a] animate-spin"})}):b.jsxs(b.Fragment,{children:[b.jsxs(Rm,{children:[b.jsx("title",{children:"Rick Dudziak - Developer & Designer Portfolio"}),b.jsx("meta",{name:"description",content:"Welcome to Rick Dudziak's portfolio. Explore innovative projects and creative design work."})]}),b.jsx("div",{className:"min-h-screen bg-[#121212]",children:b.jsxs(_R,{children:[b.jsx(to,{path:"/login",element:n?b.jsx(Im,{to:"/"}):b.jsx(P3,{})}),b.jsx(to,{path:"/",element:b.jsx(kh,{currentUser:n,children:b.jsx(R3,{onLogout:s})})}),b.jsx(to,{path:"/weather",element:b.jsx(kh,{currentUser:n,children:b.jsx(k3,{})})}),b.jsx(to,{path:"/tasks",element:b.jsx(kh,{currentUser:n,children:b.jsx(K3,{})})}),b.jsx(to,{path:"/worry-tree",element:b.jsx(kh,{currentUser:n,children:b.jsx(Q3,{currentUser:n})})}),b.jsx(to,{path:"*",element:b.jsx(Im,{to:n?"/":"/login"})})]})}),b.jsx(b9,{})]})}Px.createRoot(document.getElementById("root")).render(b.jsx(lt.StrictMode,{children:b.jsx(AR,{children:b.jsx(k9,{})})}));
